function e4(n,e){for(var t=0;t<e.length;t++){const r=e[t];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in n)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(n,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function t(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=t(i);fetch(i.href,s)}})();var Lp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function gP(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function vP(n){if(n.__esModule)return n;var e=n.default;if(typeof e=="function"){var t=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(n).forEach(function(r){var i=Object.getOwnPropertyDescriptor(n,r);Object.defineProperty(t,r,i.get?i:{enumerable:!0,get:function(){return n[r]}})}),t}var yP={exports:{}},E0={},xP={exports:{}},Lt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oh=Symbol.for("react.element"),t4=Symbol.for("react.portal"),n4=Symbol.for("react.fragment"),r4=Symbol.for("react.strict_mode"),i4=Symbol.for("react.profiler"),s4=Symbol.for("react.provider"),o4=Symbol.for("react.context"),a4=Symbol.for("react.forward_ref"),l4=Symbol.for("react.suspense"),c4=Symbol.for("react.memo"),u4=Symbol.for("react.lazy"),TT=Symbol.iterator;function d4(n){return n===null||typeof n!="object"?null:(n=TT&&n[TT]||n["@@iterator"],typeof n=="function"?n:null)}var _P={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},wP=Object.assign,SP={};function Ru(n,e,t){this.props=n,this.context=e,this.refs=SP,this.updater=t||_P}Ru.prototype.isReactComponent={};Ru.prototype.setState=function(n,e){if(typeof n!="object"&&typeof n!="function"&&n!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,n,e,"setState")};Ru.prototype.forceUpdate=function(n){this.updater.enqueueForceUpdate(this,n,"forceUpdate")};function bP(){}bP.prototype=Ru.prototype;function mS(n,e,t){this.props=n,this.context=e,this.refs=SP,this.updater=t||_P}var gS=mS.prototype=new bP;gS.constructor=mS;wP(gS,Ru.prototype);gS.isPureReactComponent=!0;var CT=Array.isArray,EP=Object.prototype.hasOwnProperty,vS={current:null},MP={key:!0,ref:!0,__self:!0,__source:!0};function TP(n,e,t){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)EP.call(e,r)&&!MP.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=t;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(n&&n.defaultProps)for(r in a=n.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:oh,type:n,key:s,ref:o,props:i,_owner:vS.current}}function f4(n,e){return{$$typeof:oh,type:n.type,key:e,ref:n.ref,props:n.props,_owner:n._owner}}function yS(n){return typeof n=="object"&&n!==null&&n.$$typeof===oh}function h4(n){var e={"=":"=0",":":"=2"};return"$"+n.replace(/[=:]/g,function(t){return e[t]})}var AT=/\/+/g;function lx(n,e){return typeof n=="object"&&n!==null&&n.key!=null?h4(""+n.key):e.toString(36)}function Xm(n,e,t,r,i){var s=typeof n;(s==="undefined"||s==="boolean")&&(n=null);var o=!1;if(n===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(n.$$typeof){case oh:case t4:o=!0}}if(o)return o=n,i=i(o),n=r===""?"."+lx(o,0):r,CT(i)?(t="",n!=null&&(t=n.replace(AT,"$&/")+"/"),Xm(i,e,t,"",function(u){return u})):i!=null&&(yS(i)&&(i=f4(i,t+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(AT,"$&/")+"/")+n)),e.push(i)),1;if(o=0,r=r===""?".":r+":",CT(n))for(var a=0;a<n.length;a++){s=n[a];var l=r+lx(s,a);o+=Xm(s,e,t,l,i)}else if(l=d4(n),typeof l=="function")for(n=l.call(n),a=0;!(s=n.next()).done;)s=s.value,l=r+lx(s,a++),o+=Xm(s,e,t,l,i);else if(s==="object")throw e=String(n),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Op(n,e,t){if(n==null)return n;var r=[],i=0;return Xm(n,r,"","",function(s){return e.call(t,s,i++)}),r}function p4(n){if(n._status===-1){var e=n._result;e=e(),e.then(function(t){(n._status===0||n._status===-1)&&(n._status=1,n._result=t)},function(t){(n._status===0||n._status===-1)&&(n._status=2,n._result=t)}),n._status===-1&&(n._status=0,n._result=e)}if(n._status===1)return n._result.default;throw n._result}var Br={current:null},qm={transition:null},m4={ReactCurrentDispatcher:Br,ReactCurrentBatchConfig:qm,ReactCurrentOwner:vS};Lt.Children={map:Op,forEach:function(n,e,t){Op(n,function(){e.apply(this,arguments)},t)},count:function(n){var e=0;return Op(n,function(){e++}),e},toArray:function(n){return Op(n,function(e){return e})||[]},only:function(n){if(!yS(n))throw Error("React.Children.only expected to receive a single React element child.");return n}};Lt.Component=Ru;Lt.Fragment=n4;Lt.Profiler=i4;Lt.PureComponent=mS;Lt.StrictMode=r4;Lt.Suspense=l4;Lt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=m4;Lt.cloneElement=function(n,e,t){if(n==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+n+".");var r=wP({},n.props),i=n.key,s=n.ref,o=n._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=vS.current),e.key!==void 0&&(i=""+e.key),n.type&&n.type.defaultProps)var a=n.type.defaultProps;for(l in e)EP.call(e,l)&&!MP.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=t;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:oh,type:n.type,key:i,ref:s,props:r,_owner:o}};Lt.createContext=function(n){return n={$$typeof:o4,_currentValue:n,_currentValue2:n,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},n.Provider={$$typeof:s4,_context:n},n.Consumer=n};Lt.createElement=TP;Lt.createFactory=function(n){var e=TP.bind(null,n);return e.type=n,e};Lt.createRef=function(){return{current:null}};Lt.forwardRef=function(n){return{$$typeof:a4,render:n}};Lt.isValidElement=yS;Lt.lazy=function(n){return{$$typeof:u4,_payload:{_status:-1,_result:n},_init:p4}};Lt.memo=function(n,e){return{$$typeof:c4,type:n,compare:e===void 0?null:e}};Lt.startTransition=function(n){var e=qm.transition;qm.transition={};try{n()}finally{qm.transition=e}};Lt.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};Lt.useCallback=function(n,e){return Br.current.useCallback(n,e)};Lt.useContext=function(n){return Br.current.useContext(n)};Lt.useDebugValue=function(){};Lt.useDeferredValue=function(n){return Br.current.useDeferredValue(n)};Lt.useEffect=function(n,e){return Br.current.useEffect(n,e)};Lt.useId=function(){return Br.current.useId()};Lt.useImperativeHandle=function(n,e,t){return Br.current.useImperativeHandle(n,e,t)};Lt.useInsertionEffect=function(n,e){return Br.current.useInsertionEffect(n,e)};Lt.useLayoutEffect=function(n,e){return Br.current.useLayoutEffect(n,e)};Lt.useMemo=function(n,e){return Br.current.useMemo(n,e)};Lt.useReducer=function(n,e,t){return Br.current.useReducer(n,e,t)};Lt.useRef=function(n){return Br.current.useRef(n)};Lt.useState=function(n){return Br.current.useState(n)};Lt.useSyncExternalStore=function(n,e,t){return Br.current.useSyncExternalStore(n,e,t)};Lt.useTransition=function(){return Br.current.useTransition()};Lt.version="18.2.0";xP.exports=Lt;var N=xP.exports;const wt=gP(N),Sg=e4({__proto__:null,default:wt},[N]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var g4=N,v4=Symbol.for("react.element"),y4=Symbol.for("react.fragment"),x4=Object.prototype.hasOwnProperty,_4=g4.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,w4={key:!0,ref:!0,__self:!0,__source:!0};function CP(n,e,t){var r,i={},s=null,o=null;t!==void 0&&(s=""+t),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)x4.call(e,r)&&!w4.hasOwnProperty(r)&&(i[r]=e[r]);if(n&&n.defaultProps)for(r in e=n.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:v4,type:n,key:s,ref:o,props:i,_owner:_4.current}}E0.Fragment=y4;E0.jsx=CP;E0.jsxs=CP;yP.exports=E0;var E=yP.exports,q_={},AP={exports:{}},bi={},RP={exports:{}},PP={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(n){function e(D,$){var q=D.length;D.push($);e:for(;0<q;){var Y=q-1>>>1,Q=D[Y];if(0<i(Q,$))D[Y]=$,D[q]=Q,q=Y;else break e}}function t(D){return D.length===0?null:D[0]}function r(D){if(D.length===0)return null;var $=D[0],q=D.pop();if(q!==$){D[0]=q;e:for(var Y=0,Q=D.length,Ce=Q>>>1;Y<Ce;){var ge=2*(Y+1)-1,ie=D[ge],ce=ge+1,ke=D[ce];if(0>i(ie,q))ce<Q&&0>i(ke,ie)?(D[Y]=ke,D[ce]=q,Y=ce):(D[Y]=ie,D[ge]=q,Y=ge);else if(ce<Q&&0>i(ke,q))D[Y]=ke,D[ce]=q,Y=ce;else break e}}return $}function i(D,$){var q=D.sortIndex-$.sortIndex;return q!==0?q:D.id-$.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();n.unstable_now=function(){return o.now()-a}}var l=[],u=[],f=1,h=null,p=3,g=!1,v=!1,x=!1,_=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(D){for(var $=t(u);$!==null;){if($.callback===null)r(u);else if($.startTime<=D)r(u),$.sortIndex=$.expirationTime,e(l,$);else break;$=t(u)}}function M(D){if(x=!1,S(D),!v)if(t(l)!==null)v=!0,Z(R);else{var $=t(u);$!==null&&J(M,$.startTime-D)}}function R(D,$){v=!1,x&&(x=!1,m(k),k=-1),g=!0;var q=p;try{for(S($),h=t(l);h!==null&&(!(h.expirationTime>$)||D&&!U());){var Y=h.callback;if(typeof Y=="function"){h.callback=null,p=h.priorityLevel;var Q=Y(h.expirationTime<=$);$=n.unstable_now(),typeof Q=="function"?h.callback=Q:h===t(l)&&r(l),S($)}else r(l);h=t(l)}if(h!==null)var Ce=!0;else{var ge=t(u);ge!==null&&J(M,ge.startTime-$),Ce=!1}return Ce}finally{h=null,p=q,g=!1}}var P=!1,L=null,k=-1,C=5,A=-1;function U(){return!(n.unstable_now()-A<C)}function W(){if(L!==null){var D=n.unstable_now();A=D;var $=!0;try{$=L(!0,D)}finally{$?F():(P=!1,L=null)}}else P=!1}var F;if(typeof w=="function")F=function(){w(W)};else if(typeof MessageChannel<"u"){var G=new MessageChannel,X=G.port2;G.port1.onmessage=W,F=function(){X.postMessage(null)}}else F=function(){_(W,0)};function Z(D){L=D,P||(P=!0,F())}function J(D,$){k=_(function(){D(n.unstable_now())},$)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(D){D.callback=null},n.unstable_continueExecution=function(){v||g||(v=!0,Z(R))},n.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<D?Math.floor(1e3/D):5},n.unstable_getCurrentPriorityLevel=function(){return p},n.unstable_getFirstCallbackNode=function(){return t(l)},n.unstable_next=function(D){switch(p){case 1:case 2:case 3:var $=3;break;default:$=p}var q=p;p=$;try{return D()}finally{p=q}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(D,$){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var q=p;p=D;try{return $()}finally{p=q}},n.unstable_scheduleCallback=function(D,$,q){var Y=n.unstable_now();switch(typeof q=="object"&&q!==null?(q=q.delay,q=typeof q=="number"&&0<q?Y+q:Y):q=Y,D){case 1:var Q=-1;break;case 2:Q=250;break;case 5:Q=1073741823;break;case 4:Q=1e4;break;default:Q=5e3}return Q=q+Q,D={id:f++,callback:$,priorityLevel:D,startTime:q,expirationTime:Q,sortIndex:-1},q>Y?(D.sortIndex=q,e(u,D),t(l)===null&&D===t(u)&&(x?(m(k),k=-1):x=!0,J(M,q-Y))):(D.sortIndex=Q,e(l,D),v||g||(v=!0,Z(R))),D},n.unstable_shouldYield=U,n.unstable_wrapCallback=function(D){var $=p;return function(){var q=p;p=$;try{return D.apply(this,arguments)}finally{p=q}}}})(PP);RP.exports=PP;var S4=RP.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var LP=N,Si=S4;function Ie(n){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+n,t=1;t<arguments.length;t++)e+="&args[]="+encodeURIComponent(arguments[t]);return"Minified React error #"+n+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var OP=new Set,ff={};function Nl(n,e){fu(n,e),fu(n+"Capture",e)}function fu(n,e){for(ff[n]=e,n=0;n<e.length;n++)OP.add(e[n])}var So=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Y_=Object.prototype.hasOwnProperty,b4=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,RT={},PT={};function E4(n){return Y_.call(PT,n)?!0:Y_.call(RT,n)?!1:b4.test(n)?PT[n]=!0:(RT[n]=!0,!1)}function M4(n,e,t,r){if(t!==null&&t.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:t!==null?!t.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function T4(n,e,t,r){if(e===null||typeof e>"u"||M4(n,e,t,r))return!0;if(r)return!1;if(t!==null)switch(t.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function jr(n,e,t,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=t,this.propertyName=n,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var hr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){hr[n]=new jr(n,0,!1,n,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var e=n[0];hr[e]=new jr(e,1,!1,n[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(n){hr[n]=new jr(n,2,!1,n.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){hr[n]=new jr(n,2,!1,n,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){hr[n]=new jr(n,3,!1,n.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(n){hr[n]=new jr(n,3,!0,n,null,!1,!1)});["capture","download"].forEach(function(n){hr[n]=new jr(n,4,!1,n,null,!1,!1)});["cols","rows","size","span"].forEach(function(n){hr[n]=new jr(n,6,!1,n,null,!1,!1)});["rowSpan","start"].forEach(function(n){hr[n]=new jr(n,5,!1,n.toLowerCase(),null,!1,!1)});var xS=/[\-:]([a-z])/g;function _S(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var e=n.replace(xS,_S);hr[e]=new jr(e,1,!1,n,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var e=n.replace(xS,_S);hr[e]=new jr(e,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(n){var e=n.replace(xS,_S);hr[e]=new jr(e,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(n){hr[n]=new jr(n,1,!1,n.toLowerCase(),null,!1,!1)});hr.xlinkHref=new jr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(n){hr[n]=new jr(n,1,!1,n.toLowerCase(),null,!0,!0)});function wS(n,e,t,r){var i=hr.hasOwnProperty(e)?hr[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(T4(e,t,i,r)&&(t=null),r||i===null?E4(e)&&(t===null?n.removeAttribute(e):n.setAttribute(e,""+t)):i.mustUseProperty?n[i.propertyName]=t===null?i.type===3?!1:"":t:(e=i.attributeName,r=i.attributeNamespace,t===null?n.removeAttribute(e):(i=i.type,t=i===3||i===4&&t===!0?"":""+t,r?n.setAttributeNS(r,e,t):n.setAttribute(e,t))))}var Ao=LP.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,kp=Symbol.for("react.element"),zc=Symbol.for("react.portal"),Bc=Symbol.for("react.fragment"),SS=Symbol.for("react.strict_mode"),K_=Symbol.for("react.profiler"),kP=Symbol.for("react.provider"),IP=Symbol.for("react.context"),bS=Symbol.for("react.forward_ref"),J_=Symbol.for("react.suspense"),Z_=Symbol.for("react.suspense_list"),ES=Symbol.for("react.memo"),qo=Symbol.for("react.lazy"),NP=Symbol.for("react.offscreen"),LT=Symbol.iterator;function ud(n){return n===null||typeof n!="object"?null:(n=LT&&n[LT]||n["@@iterator"],typeof n=="function"?n:null)}var wn=Object.assign,cx;function Ud(n){if(cx===void 0)try{throw Error()}catch(t){var e=t.stack.trim().match(/\n( *(at )?)/);cx=e&&e[1]||""}return`
`+cx+n}var ux=!1;function dx(n,e){if(!n||ux)return"";ux=!0;var t=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(n,[],e)}else{try{e.call()}catch(u){r=u}n.call(e.prototype)}else{try{throw Error()}catch(u){r=u}n()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return n.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",n.displayName)),l}while(1<=o&&0<=a);break}}}finally{ux=!1,Error.prepareStackTrace=t}return(n=n?n.displayName||n.name:"")?Ud(n):""}function C4(n){switch(n.tag){case 5:return Ud(n.type);case 16:return Ud("Lazy");case 13:return Ud("Suspense");case 19:return Ud("SuspenseList");case 0:case 2:case 15:return n=dx(n.type,!1),n;case 11:return n=dx(n.type.render,!1),n;case 1:return n=dx(n.type,!0),n;default:return""}}function Q_(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case Bc:return"Fragment";case zc:return"Portal";case K_:return"Profiler";case SS:return"StrictMode";case J_:return"Suspense";case Z_:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case IP:return(n.displayName||"Context")+".Consumer";case kP:return(n._context.displayName||"Context")+".Provider";case bS:var e=n.render;return n=n.displayName,n||(n=e.displayName||e.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case ES:return e=n.displayName||null,e!==null?e:Q_(n.type)||"Memo";case qo:e=n._payload,n=n._init;try{return Q_(n(e))}catch{}}return null}function A4(n){var e=n.type;switch(n.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=e.render,n=n.displayName||n.name||"",e.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Q_(e);case 8:return e===SS?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function ya(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function DP(n){var e=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function R4(n){var e=DP(n)?"checked":"value",t=Object.getOwnPropertyDescriptor(n.constructor.prototype,e),r=""+n[e];if(!n.hasOwnProperty(e)&&typeof t<"u"&&typeof t.get=="function"&&typeof t.set=="function"){var i=t.get,s=t.set;return Object.defineProperty(n,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(n,e,{enumerable:t.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){n._valueTracker=null,delete n[e]}}}}function Ip(n){n._valueTracker||(n._valueTracker=R4(n))}function UP(n){if(!n)return!1;var e=n._valueTracker;if(!e)return!0;var t=e.getValue(),r="";return n&&(r=DP(n)?n.checked?"true":"false":n.value),n=r,n!==t?(e.setValue(n),!0):!1}function bg(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function e1(n,e){var t=e.checked;return wn({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:t??n._wrapperState.initialChecked})}function OT(n,e){var t=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;t=ya(e.value!=null?e.value:t),n._wrapperState={initialChecked:r,initialValue:t,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function FP(n,e){e=e.checked,e!=null&&wS(n,"checked",e,!1)}function t1(n,e){FP(n,e);var t=ya(e.value),r=e.type;if(t!=null)r==="number"?(t===0&&n.value===""||n.value!=t)&&(n.value=""+t):n.value!==""+t&&(n.value=""+t);else if(r==="submit"||r==="reset"){n.removeAttribute("value");return}e.hasOwnProperty("value")?n1(n,e.type,t):e.hasOwnProperty("defaultValue")&&n1(n,e.type,ya(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(n.defaultChecked=!!e.defaultChecked)}function kT(n,e,t){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+n._wrapperState.initialValue,t||e===n.value||(n.value=e),n.defaultValue=e}t=n.name,t!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,t!==""&&(n.name=t)}function n1(n,e,t){(e!=="number"||bg(n.ownerDocument)!==n)&&(t==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+t&&(n.defaultValue=""+t))}var Fd=Array.isArray;function tu(n,e,t,r){if(n=n.options,e){e={};for(var i=0;i<t.length;i++)e["$"+t[i]]=!0;for(t=0;t<n.length;t++)i=e.hasOwnProperty("$"+n[t].value),n[t].selected!==i&&(n[t].selected=i),i&&r&&(n[t].defaultSelected=!0)}else{for(t=""+ya(t),e=null,i=0;i<n.length;i++){if(n[i].value===t){n[i].selected=!0,r&&(n[i].defaultSelected=!0);return}e!==null||n[i].disabled||(e=n[i])}e!==null&&(e.selected=!0)}}function r1(n,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Ie(91));return wn({},e,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function IT(n,e){var t=e.value;if(t==null){if(t=e.children,e=e.defaultValue,t!=null){if(e!=null)throw Error(Ie(92));if(Fd(t)){if(1<t.length)throw Error(Ie(93));t=t[0]}e=t}e==null&&(e=""),t=e}n._wrapperState={initialValue:ya(t)}}function zP(n,e){var t=ya(e.value),r=ya(e.defaultValue);t!=null&&(t=""+t,t!==n.value&&(n.value=t),e.defaultValue==null&&n.defaultValue!==t&&(n.defaultValue=t)),r!=null&&(n.defaultValue=""+r)}function NT(n){var e=n.textContent;e===n._wrapperState.initialValue&&e!==""&&e!==null&&(n.value=e)}function BP(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function i1(n,e){return n==null||n==="http://www.w3.org/1999/xhtml"?BP(e):n==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var Np,jP=function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,t,r,i){MSApp.execUnsafeLocalFunction(function(){return n(e,t,r,i)})}:n}(function(n,e){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=e;else{for(Np=Np||document.createElement("div"),Np.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Np.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;e.firstChild;)n.appendChild(e.firstChild)}});function hf(n,e){if(e){var t=n.firstChild;if(t&&t===n.lastChild&&t.nodeType===3){t.nodeValue=e;return}}n.textContent=e}var $d={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},P4=["Webkit","ms","Moz","O"];Object.keys($d).forEach(function(n){P4.forEach(function(e){e=e+n.charAt(0).toUpperCase()+n.substring(1),$d[e]=$d[n]})});function HP(n,e,t){return e==null||typeof e=="boolean"||e===""?"":t||typeof e!="number"||e===0||$d.hasOwnProperty(n)&&$d[n]?(""+e).trim():e+"px"}function VP(n,e){n=n.style;for(var t in e)if(e.hasOwnProperty(t)){var r=t.indexOf("--")===0,i=HP(t,e[t],r);t==="float"&&(t="cssFloat"),r?n.setProperty(t,i):n[t]=i}}var L4=wn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function s1(n,e){if(e){if(L4[n]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Ie(137,n));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Ie(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Ie(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Ie(62))}}function o1(n,e){if(n.indexOf("-")===-1)return typeof e.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var a1=null;function MS(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var l1=null,nu=null,ru=null;function DT(n){if(n=ch(n)){if(typeof l1!="function")throw Error(Ie(280));var e=n.stateNode;e&&(e=R0(e),l1(n.stateNode,n.type,e))}}function WP(n){nu?ru?ru.push(n):ru=[n]:nu=n}function GP(){if(nu){var n=nu,e=ru;if(ru=nu=null,DT(n),e)for(n=0;n<e.length;n++)DT(e[n])}}function $P(n,e){return n(e)}function XP(){}var fx=!1;function qP(n,e,t){if(fx)return n(e,t);fx=!0;try{return $P(n,e,t)}finally{fx=!1,(nu!==null||ru!==null)&&(XP(),GP())}}function pf(n,e){var t=n.stateNode;if(t===null)return null;var r=R0(t);if(r===null)return null;t=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(n=n.type,r=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!r;break e;default:n=!1}if(n)return null;if(t&&typeof t!="function")throw Error(Ie(231,e,typeof t));return t}var c1=!1;if(So)try{var dd={};Object.defineProperty(dd,"passive",{get:function(){c1=!0}}),window.addEventListener("test",dd,dd),window.removeEventListener("test",dd,dd)}catch{c1=!1}function O4(n,e,t,r,i,s,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(t,u)}catch(f){this.onError(f)}}var Xd=!1,Eg=null,Mg=!1,u1=null,k4={onError:function(n){Xd=!0,Eg=n}};function I4(n,e,t,r,i,s,o,a,l){Xd=!1,Eg=null,O4.apply(k4,arguments)}function N4(n,e,t,r,i,s,o,a,l){if(I4.apply(this,arguments),Xd){if(Xd){var u=Eg;Xd=!1,Eg=null}else throw Error(Ie(198));Mg||(Mg=!0,u1=u)}}function Dl(n){var e=n,t=n;if(n.alternate)for(;e.return;)e=e.return;else{n=e;do e=n,e.flags&4098&&(t=e.return),n=e.return;while(n)}return e.tag===3?t:null}function YP(n){if(n.tag===13){var e=n.memoizedState;if(e===null&&(n=n.alternate,n!==null&&(e=n.memoizedState)),e!==null)return e.dehydrated}return null}function UT(n){if(Dl(n)!==n)throw Error(Ie(188))}function D4(n){var e=n.alternate;if(!e){if(e=Dl(n),e===null)throw Error(Ie(188));return e!==n?null:n}for(var t=n,r=e;;){var i=t.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){t=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===t)return UT(i),n;if(s===r)return UT(i),e;s=s.sibling}throw Error(Ie(188))}if(t.return!==r.return)t=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===t){o=!0,t=i,r=s;break}if(a===r){o=!0,r=i,t=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===t){o=!0,t=s,r=i;break}if(a===r){o=!0,r=s,t=i;break}a=a.sibling}if(!o)throw Error(Ie(189))}}if(t.alternate!==r)throw Error(Ie(190))}if(t.tag!==3)throw Error(Ie(188));return t.stateNode.current===t?n:e}function KP(n){return n=D4(n),n!==null?JP(n):null}function JP(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var e=JP(n);if(e!==null)return e;n=n.sibling}return null}var ZP=Si.unstable_scheduleCallback,FT=Si.unstable_cancelCallback,U4=Si.unstable_shouldYield,F4=Si.unstable_requestPaint,Nn=Si.unstable_now,z4=Si.unstable_getCurrentPriorityLevel,TS=Si.unstable_ImmediatePriority,QP=Si.unstable_UserBlockingPriority,Tg=Si.unstable_NormalPriority,B4=Si.unstable_LowPriority,e3=Si.unstable_IdlePriority,M0=null,zs=null;function j4(n){if(zs&&typeof zs.onCommitFiberRoot=="function")try{zs.onCommitFiberRoot(M0,n,void 0,(n.current.flags&128)===128)}catch{}}var ls=Math.clz32?Math.clz32:W4,H4=Math.log,V4=Math.LN2;function W4(n){return n>>>=0,n===0?32:31-(H4(n)/V4|0)|0}var Dp=64,Up=4194304;function zd(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function Cg(n,e){var t=n.pendingLanes;if(t===0)return 0;var r=0,i=n.suspendedLanes,s=n.pingedLanes,o=t&268435455;if(o!==0){var a=o&~i;a!==0?r=zd(a):(s&=o,s!==0&&(r=zd(s)))}else o=t&~i,o!==0?r=zd(o):s!==0&&(r=zd(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=t&16),e=n.entangledLanes,e!==0)for(n=n.entanglements,e&=r;0<e;)t=31-ls(e),i=1<<t,r|=n[t],e&=~i;return r}function G4(n,e){switch(n){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function $4(n,e){for(var t=n.suspendedLanes,r=n.pingedLanes,i=n.expirationTimes,s=n.pendingLanes;0<s;){var o=31-ls(s),a=1<<o,l=i[o];l===-1?(!(a&t)||a&r)&&(i[o]=G4(a,e)):l<=e&&(n.expiredLanes|=a),s&=~a}}function d1(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function t3(){var n=Dp;return Dp<<=1,!(Dp&4194240)&&(Dp=64),n}function hx(n){for(var e=[],t=0;31>t;t++)e.push(n);return e}function ah(n,e,t){n.pendingLanes|=e,e!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,e=31-ls(e),n[e]=t}function X4(n,e){var t=n.pendingLanes&~e;n.pendingLanes=e,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=e,n.mutableReadLanes&=e,n.entangledLanes&=e,e=n.entanglements;var r=n.eventTimes;for(n=n.expirationTimes;0<t;){var i=31-ls(t),s=1<<i;e[i]=0,r[i]=-1,n[i]=-1,t&=~s}}function CS(n,e){var t=n.entangledLanes|=e;for(n=n.entanglements;t;){var r=31-ls(t),i=1<<r;i&e|n[r]&e&&(n[r]|=e),t&=~i}}var Yt=0;function n3(n){return n&=-n,1<n?4<n?n&268435455?16:536870912:4:1}var r3,AS,i3,s3,o3,f1=!1,Fp=[],oa=null,aa=null,la=null,mf=new Map,gf=new Map,Qo=[],q4="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function zT(n,e){switch(n){case"focusin":case"focusout":oa=null;break;case"dragenter":case"dragleave":aa=null;break;case"mouseover":case"mouseout":la=null;break;case"pointerover":case"pointerout":mf.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":gf.delete(e.pointerId)}}function fd(n,e,t,r,i,s){return n===null||n.nativeEvent!==s?(n={blockedOn:e,domEventName:t,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=ch(e),e!==null&&AS(e)),n):(n.eventSystemFlags|=r,e=n.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),n)}function Y4(n,e,t,r,i){switch(e){case"focusin":return oa=fd(oa,n,e,t,r,i),!0;case"dragenter":return aa=fd(aa,n,e,t,r,i),!0;case"mouseover":return la=fd(la,n,e,t,r,i),!0;case"pointerover":var s=i.pointerId;return mf.set(s,fd(mf.get(s)||null,n,e,t,r,i)),!0;case"gotpointercapture":return s=i.pointerId,gf.set(s,fd(gf.get(s)||null,n,e,t,r,i)),!0}return!1}function a3(n){var e=al(n.target);if(e!==null){var t=Dl(e);if(t!==null){if(e=t.tag,e===13){if(e=YP(t),e!==null){n.blockedOn=e,o3(n.priority,function(){i3(t)});return}}else if(e===3&&t.stateNode.current.memoizedState.isDehydrated){n.blockedOn=t.tag===3?t.stateNode.containerInfo:null;return}}}n.blockedOn=null}function Ym(n){if(n.blockedOn!==null)return!1;for(var e=n.targetContainers;0<e.length;){var t=h1(n.domEventName,n.eventSystemFlags,e[0],n.nativeEvent);if(t===null){t=n.nativeEvent;var r=new t.constructor(t.type,t);a1=r,t.target.dispatchEvent(r),a1=null}else return e=ch(t),e!==null&&AS(e),n.blockedOn=t,!1;e.shift()}return!0}function BT(n,e,t){Ym(n)&&t.delete(e)}function K4(){f1=!1,oa!==null&&Ym(oa)&&(oa=null),aa!==null&&Ym(aa)&&(aa=null),la!==null&&Ym(la)&&(la=null),mf.forEach(BT),gf.forEach(BT)}function hd(n,e){n.blockedOn===e&&(n.blockedOn=null,f1||(f1=!0,Si.unstable_scheduleCallback(Si.unstable_NormalPriority,K4)))}function vf(n){function e(i){return hd(i,n)}if(0<Fp.length){hd(Fp[0],n);for(var t=1;t<Fp.length;t++){var r=Fp[t];r.blockedOn===n&&(r.blockedOn=null)}}for(oa!==null&&hd(oa,n),aa!==null&&hd(aa,n),la!==null&&hd(la,n),mf.forEach(e),gf.forEach(e),t=0;t<Qo.length;t++)r=Qo[t],r.blockedOn===n&&(r.blockedOn=null);for(;0<Qo.length&&(t=Qo[0],t.blockedOn===null);)a3(t),t.blockedOn===null&&Qo.shift()}var iu=Ao.ReactCurrentBatchConfig,Ag=!0;function J4(n,e,t,r){var i=Yt,s=iu.transition;iu.transition=null;try{Yt=1,RS(n,e,t,r)}finally{Yt=i,iu.transition=s}}function Z4(n,e,t,r){var i=Yt,s=iu.transition;iu.transition=null;try{Yt=4,RS(n,e,t,r)}finally{Yt=i,iu.transition=s}}function RS(n,e,t,r){if(Ag){var i=h1(n,e,t,r);if(i===null)bx(n,e,r,Rg,t),zT(n,r);else if(Y4(i,n,e,t,r))r.stopPropagation();else if(zT(n,r),e&4&&-1<q4.indexOf(n)){for(;i!==null;){var s=ch(i);if(s!==null&&r3(s),s=h1(n,e,t,r),s===null&&bx(n,e,r,Rg,t),s===i)break;i=s}i!==null&&r.stopPropagation()}else bx(n,e,r,null,t)}}var Rg=null;function h1(n,e,t,r){if(Rg=null,n=MS(r),n=al(n),n!==null)if(e=Dl(n),e===null)n=null;else if(t=e.tag,t===13){if(n=YP(e),n!==null)return n;n=null}else if(t===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;n=null}else e!==n&&(n=null);return Rg=n,null}function l3(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(z4()){case TS:return 1;case QP:return 4;case Tg:case B4:return 16;case e3:return 536870912;default:return 16}default:return 16}}var ra=null,PS=null,Km=null;function c3(){if(Km)return Km;var n,e=PS,t=e.length,r,i="value"in ra?ra.value:ra.textContent,s=i.length;for(n=0;n<t&&e[n]===i[n];n++);var o=t-n;for(r=1;r<=o&&e[t-r]===i[s-r];r++);return Km=i.slice(n,1<r?1-r:void 0)}function Jm(n){var e=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&e===13&&(n=13)):n=e,n===10&&(n=13),32<=n||n===13?n:0}function zp(){return!0}function jT(){return!1}function Ei(n){function e(t,r,i,s,o){this._reactName=t,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in n)n.hasOwnProperty(a)&&(t=n[a],this[a]=t?t(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?zp:jT,this.isPropagationStopped=jT,this}return wn(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():typeof t.returnValue!="unknown"&&(t.returnValue=!1),this.isDefaultPrevented=zp)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():typeof t.cancelBubble!="unknown"&&(t.cancelBubble=!0),this.isPropagationStopped=zp)},persist:function(){},isPersistent:zp}),e}var Pu={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},LS=Ei(Pu),lh=wn({},Pu,{view:0,detail:0}),Q4=Ei(lh),px,mx,pd,T0=wn({},lh,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:OS,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==pd&&(pd&&n.type==="mousemove"?(px=n.screenX-pd.screenX,mx=n.screenY-pd.screenY):mx=px=0,pd=n),px)},movementY:function(n){return"movementY"in n?n.movementY:mx}}),HT=Ei(T0),eU=wn({},T0,{dataTransfer:0}),tU=Ei(eU),nU=wn({},lh,{relatedTarget:0}),gx=Ei(nU),rU=wn({},Pu,{animationName:0,elapsedTime:0,pseudoElement:0}),iU=Ei(rU),sU=wn({},Pu,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),oU=Ei(sU),aU=wn({},Pu,{data:0}),VT=Ei(aU),lU={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},cU={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},uU={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function dU(n){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(n):(n=uU[n])?!!e[n]:!1}function OS(){return dU}var fU=wn({},lh,{key:function(n){if(n.key){var e=lU[n.key]||n.key;if(e!=="Unidentified")return e}return n.type==="keypress"?(n=Jm(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?cU[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:OS,charCode:function(n){return n.type==="keypress"?Jm(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?Jm(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),hU=Ei(fU),pU=wn({},T0,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),WT=Ei(pU),mU=wn({},lh,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:OS}),gU=Ei(mU),vU=wn({},Pu,{propertyName:0,elapsedTime:0,pseudoElement:0}),yU=Ei(vU),xU=wn({},T0,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),_U=Ei(xU),wU=[9,13,27,32],kS=So&&"CompositionEvent"in window,qd=null;So&&"documentMode"in document&&(qd=document.documentMode);var SU=So&&"TextEvent"in window&&!qd,u3=So&&(!kS||qd&&8<qd&&11>=qd),GT=String.fromCharCode(32),$T=!1;function d3(n,e){switch(n){case"keyup":return wU.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function f3(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var jc=!1;function bU(n,e){switch(n){case"compositionend":return f3(e);case"keypress":return e.which!==32?null:($T=!0,GT);case"textInput":return n=e.data,n===GT&&$T?null:n;default:return null}}function EU(n,e){if(jc)return n==="compositionend"||!kS&&d3(n,e)?(n=c3(),Km=PS=ra=null,jc=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return u3&&e.locale!=="ko"?null:e.data;default:return null}}var MU={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function XT(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e==="input"?!!MU[n.type]:e==="textarea"}function h3(n,e,t,r){WP(r),e=Pg(e,"onChange"),0<e.length&&(t=new LS("onChange","change",null,t,r),n.push({event:t,listeners:e}))}var Yd=null,yf=null;function TU(n){E3(n,0)}function C0(n){var e=Wc(n);if(UP(e))return n}function CU(n,e){if(n==="change")return e}var p3=!1;if(So){var vx;if(So){var yx="oninput"in document;if(!yx){var qT=document.createElement("div");qT.setAttribute("oninput","return;"),yx=typeof qT.oninput=="function"}vx=yx}else vx=!1;p3=vx&&(!document.documentMode||9<document.documentMode)}function YT(){Yd&&(Yd.detachEvent("onpropertychange",m3),yf=Yd=null)}function m3(n){if(n.propertyName==="value"&&C0(yf)){var e=[];h3(e,yf,n,MS(n)),qP(TU,e)}}function AU(n,e,t){n==="focusin"?(YT(),Yd=e,yf=t,Yd.attachEvent("onpropertychange",m3)):n==="focusout"&&YT()}function RU(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return C0(yf)}function PU(n,e){if(n==="click")return C0(e)}function LU(n,e){if(n==="input"||n==="change")return C0(e)}function OU(n,e){return n===e&&(n!==0||1/n===1/e)||n!==n&&e!==e}var fs=typeof Object.is=="function"?Object.is:OU;function xf(n,e){if(fs(n,e))return!0;if(typeof n!="object"||n===null||typeof e!="object"||e===null)return!1;var t=Object.keys(n),r=Object.keys(e);if(t.length!==r.length)return!1;for(r=0;r<t.length;r++){var i=t[r];if(!Y_.call(e,i)||!fs(n[i],e[i]))return!1}return!0}function KT(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function JT(n,e){var t=KT(n);n=0;for(var r;t;){if(t.nodeType===3){if(r=n+t.textContent.length,n<=e&&r>=e)return{node:t,offset:e-n};n=r}e:{for(;t;){if(t.nextSibling){t=t.nextSibling;break e}t=t.parentNode}t=void 0}t=KT(t)}}function g3(n,e){return n&&e?n===e?!0:n&&n.nodeType===3?!1:e&&e.nodeType===3?g3(n,e.parentNode):"contains"in n?n.contains(e):n.compareDocumentPosition?!!(n.compareDocumentPosition(e)&16):!1:!1}function v3(){for(var n=window,e=bg();e instanceof n.HTMLIFrameElement;){try{var t=typeof e.contentWindow.location.href=="string"}catch{t=!1}if(t)n=e.contentWindow;else break;e=bg(n.document)}return e}function IS(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e&&(e==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||e==="textarea"||n.contentEditable==="true")}function kU(n){var e=v3(),t=n.focusedElem,r=n.selectionRange;if(e!==t&&t&&t.ownerDocument&&g3(t.ownerDocument.documentElement,t)){if(r!==null&&IS(t)){if(e=r.start,n=r.end,n===void 0&&(n=e),"selectionStart"in t)t.selectionStart=e,t.selectionEnd=Math.min(n,t.value.length);else if(n=(e=t.ownerDocument||document)&&e.defaultView||window,n.getSelection){n=n.getSelection();var i=t.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!n.extend&&s>r&&(i=r,r=s,s=i),i=JT(t,s);var o=JT(t,r);i&&o&&(n.rangeCount!==1||n.anchorNode!==i.node||n.anchorOffset!==i.offset||n.focusNode!==o.node||n.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),n.removeAllRanges(),s>r?(n.addRange(e),n.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),n.addRange(e)))}}for(e=[],n=t;n=n.parentNode;)n.nodeType===1&&e.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof t.focus=="function"&&t.focus(),t=0;t<e.length;t++)n=e[t],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var IU=So&&"documentMode"in document&&11>=document.documentMode,Hc=null,p1=null,Kd=null,m1=!1;function ZT(n,e,t){var r=t.window===t?t.document:t.nodeType===9?t:t.ownerDocument;m1||Hc==null||Hc!==bg(r)||(r=Hc,"selectionStart"in r&&IS(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Kd&&xf(Kd,r)||(Kd=r,r=Pg(p1,"onSelect"),0<r.length&&(e=new LS("onSelect","select",null,e,t),n.push({event:e,listeners:r}),e.target=Hc)))}function Bp(n,e){var t={};return t[n.toLowerCase()]=e.toLowerCase(),t["Webkit"+n]="webkit"+e,t["Moz"+n]="moz"+e,t}var Vc={animationend:Bp("Animation","AnimationEnd"),animationiteration:Bp("Animation","AnimationIteration"),animationstart:Bp("Animation","AnimationStart"),transitionend:Bp("Transition","TransitionEnd")},xx={},y3={};So&&(y3=document.createElement("div").style,"AnimationEvent"in window||(delete Vc.animationend.animation,delete Vc.animationiteration.animation,delete Vc.animationstart.animation),"TransitionEvent"in window||delete Vc.transitionend.transition);function A0(n){if(xx[n])return xx[n];if(!Vc[n])return n;var e=Vc[n],t;for(t in e)if(e.hasOwnProperty(t)&&t in y3)return xx[n]=e[t];return n}var x3=A0("animationend"),_3=A0("animationiteration"),w3=A0("animationstart"),S3=A0("transitionend"),b3=new Map,QT="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ea(n,e){b3.set(n,e),Nl(e,[n])}for(var _x=0;_x<QT.length;_x++){var wx=QT[_x],NU=wx.toLowerCase(),DU=wx[0].toUpperCase()+wx.slice(1);Ea(NU,"on"+DU)}Ea(x3,"onAnimationEnd");Ea(_3,"onAnimationIteration");Ea(w3,"onAnimationStart");Ea("dblclick","onDoubleClick");Ea("focusin","onFocus");Ea("focusout","onBlur");Ea(S3,"onTransitionEnd");fu("onMouseEnter",["mouseout","mouseover"]);fu("onMouseLeave",["mouseout","mouseover"]);fu("onPointerEnter",["pointerout","pointerover"]);fu("onPointerLeave",["pointerout","pointerover"]);Nl("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Nl("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Nl("onBeforeInput",["compositionend","keypress","textInput","paste"]);Nl("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Nl("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Nl("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Bd="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),UU=new Set("cancel close invalid load scroll toggle".split(" ").concat(Bd));function e2(n,e,t){var r=n.type||"unknown-event";n.currentTarget=t,N4(r,e,void 0,n),n.currentTarget=null}function E3(n,e){e=(e&4)!==0;for(var t=0;t<n.length;t++){var r=n[t],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;e2(i,a,u),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;e2(i,a,u),s=l}}}if(Mg)throw n=u1,Mg=!1,u1=null,n}function ln(n,e){var t=e[_1];t===void 0&&(t=e[_1]=new Set);var r=n+"__bubble";t.has(r)||(M3(e,n,2,!1),t.add(r))}function Sx(n,e,t){var r=0;e&&(r|=4),M3(t,n,r,e)}var jp="_reactListening"+Math.random().toString(36).slice(2);function _f(n){if(!n[jp]){n[jp]=!0,OP.forEach(function(t){t!=="selectionchange"&&(UU.has(t)||Sx(t,!1,n),Sx(t,!0,n))});var e=n.nodeType===9?n:n.ownerDocument;e===null||e[jp]||(e[jp]=!0,Sx("selectionchange",!1,e))}}function M3(n,e,t,r){switch(l3(e)){case 1:var i=J4;break;case 4:i=Z4;break;default:i=RS}t=i.bind(null,e,t,n),i=void 0,!c1||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?n.addEventListener(e,t,{capture:!0,passive:i}):n.addEventListener(e,t,!0):i!==void 0?n.addEventListener(e,t,{passive:i}):n.addEventListener(e,t,!1)}function bx(n,e,t,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=al(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}qP(function(){var u=s,f=MS(t),h=[];e:{var p=b3.get(n);if(p!==void 0){var g=LS,v=n;switch(n){case"keypress":if(Jm(t)===0)break e;case"keydown":case"keyup":g=hU;break;case"focusin":v="focus",g=gx;break;case"focusout":v="blur",g=gx;break;case"beforeblur":case"afterblur":g=gx;break;case"click":if(t.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=HT;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=tU;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=gU;break;case x3:case _3:case w3:g=iU;break;case S3:g=yU;break;case"scroll":g=Q4;break;case"wheel":g=_U;break;case"copy":case"cut":case"paste":g=oU;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=WT}var x=(e&4)!==0,_=!x&&n==="scroll",m=x?p!==null?p+"Capture":null:p;x=[];for(var w=u,S;w!==null;){S=w;var M=S.stateNode;if(S.tag===5&&M!==null&&(S=M,m!==null&&(M=pf(w,m),M!=null&&x.push(wf(w,M,S)))),_)break;w=w.return}0<x.length&&(p=new g(p,v,null,t,f),h.push({event:p,listeners:x}))}}if(!(e&7)){e:{if(p=n==="mouseover"||n==="pointerover",g=n==="mouseout"||n==="pointerout",p&&t!==a1&&(v=t.relatedTarget||t.fromElement)&&(al(v)||v[bo]))break e;if((g||p)&&(p=f.window===f?f:(p=f.ownerDocument)?p.defaultView||p.parentWindow:window,g?(v=t.relatedTarget||t.toElement,g=u,v=v?al(v):null,v!==null&&(_=Dl(v),v!==_||v.tag!==5&&v.tag!==6)&&(v=null)):(g=null,v=u),g!==v)){if(x=HT,M="onMouseLeave",m="onMouseEnter",w="mouse",(n==="pointerout"||n==="pointerover")&&(x=WT,M="onPointerLeave",m="onPointerEnter",w="pointer"),_=g==null?p:Wc(g),S=v==null?p:Wc(v),p=new x(M,w+"leave",g,t,f),p.target=_,p.relatedTarget=S,M=null,al(f)===u&&(x=new x(m,w+"enter",v,t,f),x.target=S,x.relatedTarget=_,M=x),_=M,g&&v)t:{for(x=g,m=v,w=0,S=x;S;S=tc(S))w++;for(S=0,M=m;M;M=tc(M))S++;for(;0<w-S;)x=tc(x),w--;for(;0<S-w;)m=tc(m),S--;for(;w--;){if(x===m||m!==null&&x===m.alternate)break t;x=tc(x),m=tc(m)}x=null}else x=null;g!==null&&t2(h,p,g,x,!1),v!==null&&_!==null&&t2(h,_,v,x,!0)}}e:{if(p=u?Wc(u):window,g=p.nodeName&&p.nodeName.toLowerCase(),g==="select"||g==="input"&&p.type==="file")var R=CU;else if(XT(p))if(p3)R=LU;else{R=RU;var P=AU}else(g=p.nodeName)&&g.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(R=PU);if(R&&(R=R(n,u))){h3(h,R,t,f);break e}P&&P(n,p,u),n==="focusout"&&(P=p._wrapperState)&&P.controlled&&p.type==="number"&&n1(p,"number",p.value)}switch(P=u?Wc(u):window,n){case"focusin":(XT(P)||P.contentEditable==="true")&&(Hc=P,p1=u,Kd=null);break;case"focusout":Kd=p1=Hc=null;break;case"mousedown":m1=!0;break;case"contextmenu":case"mouseup":case"dragend":m1=!1,ZT(h,t,f);break;case"selectionchange":if(IU)break;case"keydown":case"keyup":ZT(h,t,f)}var L;if(kS)e:{switch(n){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else jc?d3(n,t)&&(k="onCompositionEnd"):n==="keydown"&&t.keyCode===229&&(k="onCompositionStart");k&&(u3&&t.locale!=="ko"&&(jc||k!=="onCompositionStart"?k==="onCompositionEnd"&&jc&&(L=c3()):(ra=f,PS="value"in ra?ra.value:ra.textContent,jc=!0)),P=Pg(u,k),0<P.length&&(k=new VT(k,n,null,t,f),h.push({event:k,listeners:P}),L?k.data=L:(L=f3(t),L!==null&&(k.data=L)))),(L=SU?bU(n,t):EU(n,t))&&(u=Pg(u,"onBeforeInput"),0<u.length&&(f=new VT("onBeforeInput","beforeinput",null,t,f),h.push({event:f,listeners:u}),f.data=L))}E3(h,e)})}function wf(n,e,t){return{instance:n,listener:e,currentTarget:t}}function Pg(n,e){for(var t=e+"Capture",r=[];n!==null;){var i=n,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=pf(n,t),s!=null&&r.unshift(wf(n,s,i)),s=pf(n,e),s!=null&&r.push(wf(n,s,i))),n=n.return}return r}function tc(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function t2(n,e,t,r,i){for(var s=e._reactName,o=[];t!==null&&t!==r;){var a=t,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=pf(t,s),l!=null&&o.unshift(wf(t,l,a))):i||(l=pf(t,s),l!=null&&o.push(wf(t,l,a)))),t=t.return}o.length!==0&&n.push({event:e,listeners:o})}var FU=/\r\n?/g,zU=/\u0000|\uFFFD/g;function n2(n){return(typeof n=="string"?n:""+n).replace(FU,`
`).replace(zU,"")}function Hp(n,e,t){if(e=n2(e),n2(n)!==e&&t)throw Error(Ie(425))}function Lg(){}var g1=null,v1=null;function y1(n,e){return n==="textarea"||n==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var x1=typeof setTimeout=="function"?setTimeout:void 0,BU=typeof clearTimeout=="function"?clearTimeout:void 0,r2=typeof Promise=="function"?Promise:void 0,jU=typeof queueMicrotask=="function"?queueMicrotask:typeof r2<"u"?function(n){return r2.resolve(null).then(n).catch(HU)}:x1;function HU(n){setTimeout(function(){throw n})}function Ex(n,e){var t=e,r=0;do{var i=t.nextSibling;if(n.removeChild(t),i&&i.nodeType===8)if(t=i.data,t==="/$"){if(r===0){n.removeChild(i),vf(e);return}r--}else t!=="$"&&t!=="$?"&&t!=="$!"||r++;t=i}while(t);vf(e)}function ca(n){for(;n!=null;n=n.nextSibling){var e=n.nodeType;if(e===1||e===3)break;if(e===8){if(e=n.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return n}function i2(n){n=n.previousSibling;for(var e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="$"||t==="$!"||t==="$?"){if(e===0)return n;e--}else t==="/$"&&e++}n=n.previousSibling}return null}var Lu=Math.random().toString(36).slice(2),Is="__reactFiber$"+Lu,Sf="__reactProps$"+Lu,bo="__reactContainer$"+Lu,_1="__reactEvents$"+Lu,VU="__reactListeners$"+Lu,WU="__reactHandles$"+Lu;function al(n){var e=n[Is];if(e)return e;for(var t=n.parentNode;t;){if(e=t[bo]||t[Is]){if(t=e.alternate,e.child!==null||t!==null&&t.child!==null)for(n=i2(n);n!==null;){if(t=n[Is])return t;n=i2(n)}return e}n=t,t=n.parentNode}return null}function ch(n){return n=n[Is]||n[bo],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function Wc(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(Ie(33))}function R0(n){return n[Sf]||null}var w1=[],Gc=-1;function Ma(n){return{current:n}}function cn(n){0>Gc||(n.current=w1[Gc],w1[Gc]=null,Gc--)}function sn(n,e){Gc++,w1[Gc]=n.current,n.current=e}var xa={},Pr=Ma(xa),Qr=Ma(!1),El=xa;function hu(n,e){var t=n.type.contextTypes;if(!t)return xa;var r=n.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in t)i[s]=e[s];return r&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=e,n.__reactInternalMemoizedMaskedChildContext=i),i}function ei(n){return n=n.childContextTypes,n!=null}function Og(){cn(Qr),cn(Pr)}function s2(n,e,t){if(Pr.current!==xa)throw Error(Ie(168));sn(Pr,e),sn(Qr,t)}function T3(n,e,t){var r=n.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return t;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(Ie(108,A4(n)||"Unknown",i));return wn({},t,r)}function kg(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||xa,El=Pr.current,sn(Pr,n),sn(Qr,Qr.current),!0}function o2(n,e,t){var r=n.stateNode;if(!r)throw Error(Ie(169));t?(n=T3(n,e,El),r.__reactInternalMemoizedMergedChildContext=n,cn(Qr),cn(Pr),sn(Pr,n)):cn(Qr),sn(Qr,t)}var fo=null,P0=!1,Mx=!1;function C3(n){fo===null?fo=[n]:fo.push(n)}function GU(n){P0=!0,C3(n)}function Ta(){if(!Mx&&fo!==null){Mx=!0;var n=0,e=Yt;try{var t=fo;for(Yt=1;n<t.length;n++){var r=t[n];do r=r(!0);while(r!==null)}fo=null,P0=!1}catch(i){throw fo!==null&&(fo=fo.slice(n+1)),ZP(TS,Ta),i}finally{Yt=e,Mx=!1}}return null}var $c=[],Xc=0,Ig=null,Ng=0,Bi=[],ji=0,Ml=null,mo=1,go="";function Za(n,e){$c[Xc++]=Ng,$c[Xc++]=Ig,Ig=n,Ng=e}function A3(n,e,t){Bi[ji++]=mo,Bi[ji++]=go,Bi[ji++]=Ml,Ml=n;var r=mo;n=go;var i=32-ls(r)-1;r&=~(1<<i),t+=1;var s=32-ls(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,mo=1<<32-ls(e)+i|t<<i|r,go=s+n}else mo=1<<s|t<<i|r,go=n}function NS(n){n.return!==null&&(Za(n,1),A3(n,1,0))}function DS(n){for(;n===Ig;)Ig=$c[--Xc],$c[Xc]=null,Ng=$c[--Xc],$c[Xc]=null;for(;n===Ml;)Ml=Bi[--ji],Bi[ji]=null,go=Bi[--ji],Bi[ji]=null,mo=Bi[--ji],Bi[ji]=null}var xi=null,vi=null,hn=!1,ss=null;function R3(n,e){var t=Vi(5,null,null,0);t.elementType="DELETED",t.stateNode=e,t.return=n,e=n.deletions,e===null?(n.deletions=[t],n.flags|=16):e.push(t)}function a2(n,e){switch(n.tag){case 5:var t=n.type;return e=e.nodeType!==1||t.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(n.stateNode=e,xi=n,vi=ca(e.firstChild),!0):!1;case 6:return e=n.pendingProps===""||e.nodeType!==3?null:e,e!==null?(n.stateNode=e,xi=n,vi=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(t=Ml!==null?{id:mo,overflow:go}:null,n.memoizedState={dehydrated:e,treeContext:t,retryLane:1073741824},t=Vi(18,null,null,0),t.stateNode=e,t.return=n,n.child=t,xi=n,vi=null,!0):!1;default:return!1}}function S1(n){return(n.mode&1)!==0&&(n.flags&128)===0}function b1(n){if(hn){var e=vi;if(e){var t=e;if(!a2(n,e)){if(S1(n))throw Error(Ie(418));e=ca(t.nextSibling);var r=xi;e&&a2(n,e)?R3(r,t):(n.flags=n.flags&-4097|2,hn=!1,xi=n)}}else{if(S1(n))throw Error(Ie(418));n.flags=n.flags&-4097|2,hn=!1,xi=n}}}function l2(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;xi=n}function Vp(n){if(n!==xi)return!1;if(!hn)return l2(n),hn=!0,!1;var e;if((e=n.tag!==3)&&!(e=n.tag!==5)&&(e=n.type,e=e!=="head"&&e!=="body"&&!y1(n.type,n.memoizedProps)),e&&(e=vi)){if(S1(n))throw P3(),Error(Ie(418));for(;e;)R3(n,e),e=ca(e.nextSibling)}if(l2(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(Ie(317));e:{for(n=n.nextSibling,e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="/$"){if(e===0){vi=ca(n.nextSibling);break e}e--}else t!=="$"&&t!=="$!"&&t!=="$?"||e++}n=n.nextSibling}vi=null}}else vi=xi?ca(n.stateNode.nextSibling):null;return!0}function P3(){for(var n=vi;n;)n=ca(n.nextSibling)}function pu(){vi=xi=null,hn=!1}function US(n){ss===null?ss=[n]:ss.push(n)}var $U=Ao.ReactCurrentBatchConfig;function ns(n,e){if(n&&n.defaultProps){e=wn({},e),n=n.defaultProps;for(var t in n)e[t]===void 0&&(e[t]=n[t]);return e}return e}var Dg=Ma(null),Ug=null,qc=null,FS=null;function zS(){FS=qc=Ug=null}function BS(n){var e=Dg.current;cn(Dg),n._currentValue=e}function E1(n,e,t){for(;n!==null;){var r=n.alternate;if((n.childLanes&e)!==e?(n.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),n===t)break;n=n.return}}function su(n,e){Ug=n,FS=qc=null,n=n.dependencies,n!==null&&n.firstContext!==null&&(n.lanes&e&&(Zr=!0),n.firstContext=null)}function $i(n){var e=n._currentValue;if(FS!==n)if(n={context:n,memoizedValue:e,next:null},qc===null){if(Ug===null)throw Error(Ie(308));qc=n,Ug.dependencies={lanes:0,firstContext:n}}else qc=qc.next=n;return e}var ll=null;function jS(n){ll===null?ll=[n]:ll.push(n)}function L3(n,e,t,r){var i=e.interleaved;return i===null?(t.next=t,jS(e)):(t.next=i.next,i.next=t),e.interleaved=t,Eo(n,r)}function Eo(n,e){n.lanes|=e;var t=n.alternate;for(t!==null&&(t.lanes|=e),t=n,n=n.return;n!==null;)n.childLanes|=e,t=n.alternate,t!==null&&(t.childLanes|=e),t=n,n=n.return;return t.tag===3?t.stateNode:null}var Yo=!1;function HS(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function O3(n,e){n=n.updateQueue,e.updateQueue===n&&(e.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function yo(n,e){return{eventTime:n,lane:e,tag:0,payload:null,callback:null,next:null}}function ua(n,e,t){var r=n.updateQueue;if(r===null)return null;if(r=r.shared,Dt&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Eo(n,t)}return i=r.interleaved,i===null?(e.next=e,jS(r)):(e.next=i.next,i.next=e),r.interleaved=e,Eo(n,t)}function Zm(n,e,t){if(e=e.updateQueue,e!==null&&(e=e.shared,(t&4194240)!==0)){var r=e.lanes;r&=n.pendingLanes,t|=r,e.lanes=t,CS(n,t)}}function c2(n,e){var t=n.updateQueue,r=n.alternate;if(r!==null&&(r=r.updateQueue,t===r)){var i=null,s=null;if(t=t.firstBaseUpdate,t!==null){do{var o={eventTime:t.eventTime,lane:t.lane,tag:t.tag,payload:t.payload,callback:t.callback,next:null};s===null?i=s=o:s=s.next=o,t=t.next}while(t!==null);s===null?i=s=e:s=s.next=e}else i=s=e;t={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},n.updateQueue=t;return}n=t.lastBaseUpdate,n===null?t.firstBaseUpdate=e:n.next=e,t.lastBaseUpdate=e}function Fg(n,e,t,r){var i=n.updateQueue;Yo=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?s=u:o.next=u,o=l;var f=n.alternate;f!==null&&(f=f.updateQueue,a=f.lastBaseUpdate,a!==o&&(a===null?f.firstBaseUpdate=u:a.next=u,f.lastBaseUpdate=l))}if(s!==null){var h=i.baseState;o=0,f=u=l=null,a=s;do{var p=a.lane,g=a.eventTime;if((r&p)===p){f!==null&&(f=f.next={eventTime:g,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var v=n,x=a;switch(p=e,g=t,x.tag){case 1:if(v=x.payload,typeof v=="function"){h=v.call(g,h,p);break e}h=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=x.payload,p=typeof v=="function"?v.call(g,h,p):v,p==null)break e;h=wn({},h,p);break e;case 2:Yo=!0}}a.callback!==null&&a.lane!==0&&(n.flags|=64,p=i.effects,p===null?i.effects=[a]:p.push(a))}else g={eventTime:g,lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},f===null?(u=f=g,l=h):f=f.next=g,o|=p;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;p=a,a=p.next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}while(1);if(f===null&&(l=h),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=f,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Cl|=o,n.lanes=o,n.memoizedState=h}}function u2(n,e,t){if(n=e.effects,e.effects=null,n!==null)for(e=0;e<n.length;e++){var r=n[e],i=r.callback;if(i!==null){if(r.callback=null,r=t,typeof i!="function")throw Error(Ie(191,i));i.call(r)}}}var k3=new LP.Component().refs;function M1(n,e,t,r){e=n.memoizedState,t=t(r,e),t=t==null?e:wn({},e,t),n.memoizedState=t,n.lanes===0&&(n.updateQueue.baseState=t)}var L0={isMounted:function(n){return(n=n._reactInternals)?Dl(n)===n:!1},enqueueSetState:function(n,e,t){n=n._reactInternals;var r=Fr(),i=fa(n),s=yo(r,i);s.payload=e,t!=null&&(s.callback=t),e=ua(n,s,i),e!==null&&(cs(e,n,i,r),Zm(e,n,i))},enqueueReplaceState:function(n,e,t){n=n._reactInternals;var r=Fr(),i=fa(n),s=yo(r,i);s.tag=1,s.payload=e,t!=null&&(s.callback=t),e=ua(n,s,i),e!==null&&(cs(e,n,i,r),Zm(e,n,i))},enqueueForceUpdate:function(n,e){n=n._reactInternals;var t=Fr(),r=fa(n),i=yo(t,r);i.tag=2,e!=null&&(i.callback=e),e=ua(n,i,r),e!==null&&(cs(e,n,r,t),Zm(e,n,r))}};function d2(n,e,t,r,i,s,o){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!xf(t,r)||!xf(i,s):!0}function I3(n,e,t){var r=!1,i=xa,s=e.contextType;return typeof s=="object"&&s!==null?s=$i(s):(i=ei(e)?El:Pr.current,r=e.contextTypes,s=(r=r!=null)?hu(n,i):xa),e=new e(t,s),n.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=L0,n.stateNode=e,e._reactInternals=n,r&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=i,n.__reactInternalMemoizedMaskedChildContext=s),e}function f2(n,e,t,r){n=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(t,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(t,r),e.state!==n&&L0.enqueueReplaceState(e,e.state,null)}function T1(n,e,t,r){var i=n.stateNode;i.props=t,i.state=n.memoizedState,i.refs=k3,HS(n);var s=e.contextType;typeof s=="object"&&s!==null?i.context=$i(s):(s=ei(e)?El:Pr.current,i.context=hu(n,s)),i.state=n.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(M1(n,e,s,t),i.state=n.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&L0.enqueueReplaceState(i,i.state,null),Fg(n,t,i,r),i.state=n.memoizedState),typeof i.componentDidMount=="function"&&(n.flags|=4194308)}function md(n,e,t){if(n=t.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(t._owner){if(t=t._owner,t){if(t.tag!==1)throw Error(Ie(309));var r=t.stateNode}if(!r)throw Error(Ie(147,n));var i=r,s=""+n;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;a===k3&&(a=i.refs={}),o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof n!="string")throw Error(Ie(284));if(!t._owner)throw Error(Ie(290,n))}return n}function Wp(n,e){throw n=Object.prototype.toString.call(e),Error(Ie(31,n==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":n))}function h2(n){var e=n._init;return e(n._payload)}function N3(n){function e(m,w){if(n){var S=m.deletions;S===null?(m.deletions=[w],m.flags|=16):S.push(w)}}function t(m,w){if(!n)return null;for(;w!==null;)e(m,w),w=w.sibling;return null}function r(m,w){for(m=new Map;w!==null;)w.key!==null?m.set(w.key,w):m.set(w.index,w),w=w.sibling;return m}function i(m,w){return m=ha(m,w),m.index=0,m.sibling=null,m}function s(m,w,S){return m.index=S,n?(S=m.alternate,S!==null?(S=S.index,S<w?(m.flags|=2,w):S):(m.flags|=2,w)):(m.flags|=1048576,w)}function o(m){return n&&m.alternate===null&&(m.flags|=2),m}function a(m,w,S,M){return w===null||w.tag!==6?(w=Ox(S,m.mode,M),w.return=m,w):(w=i(w,S),w.return=m,w)}function l(m,w,S,M){var R=S.type;return R===Bc?f(m,w,S.props.children,M,S.key):w!==null&&(w.elementType===R||typeof R=="object"&&R!==null&&R.$$typeof===qo&&h2(R)===w.type)?(M=i(w,S.props),M.ref=md(m,w,S),M.return=m,M):(M=ig(S.type,S.key,S.props,null,m.mode,M),M.ref=md(m,w,S),M.return=m,M)}function u(m,w,S,M){return w===null||w.tag!==4||w.stateNode.containerInfo!==S.containerInfo||w.stateNode.implementation!==S.implementation?(w=kx(S,m.mode,M),w.return=m,w):(w=i(w,S.children||[]),w.return=m,w)}function f(m,w,S,M,R){return w===null||w.tag!==7?(w=vl(S,m.mode,M,R),w.return=m,w):(w=i(w,S),w.return=m,w)}function h(m,w,S){if(typeof w=="string"&&w!==""||typeof w=="number")return w=Ox(""+w,m.mode,S),w.return=m,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case kp:return S=ig(w.type,w.key,w.props,null,m.mode,S),S.ref=md(m,null,w),S.return=m,S;case zc:return w=kx(w,m.mode,S),w.return=m,w;case qo:var M=w._init;return h(m,M(w._payload),S)}if(Fd(w)||ud(w))return w=vl(w,m.mode,S,null),w.return=m,w;Wp(m,w)}return null}function p(m,w,S,M){var R=w!==null?w.key:null;if(typeof S=="string"&&S!==""||typeof S=="number")return R!==null?null:a(m,w,""+S,M);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case kp:return S.key===R?l(m,w,S,M):null;case zc:return S.key===R?u(m,w,S,M):null;case qo:return R=S._init,p(m,w,R(S._payload),M)}if(Fd(S)||ud(S))return R!==null?null:f(m,w,S,M,null);Wp(m,S)}return null}function g(m,w,S,M,R){if(typeof M=="string"&&M!==""||typeof M=="number")return m=m.get(S)||null,a(w,m,""+M,R);if(typeof M=="object"&&M!==null){switch(M.$$typeof){case kp:return m=m.get(M.key===null?S:M.key)||null,l(w,m,M,R);case zc:return m=m.get(M.key===null?S:M.key)||null,u(w,m,M,R);case qo:var P=M._init;return g(m,w,S,P(M._payload),R)}if(Fd(M)||ud(M))return m=m.get(S)||null,f(w,m,M,R,null);Wp(w,M)}return null}function v(m,w,S,M){for(var R=null,P=null,L=w,k=w=0,C=null;L!==null&&k<S.length;k++){L.index>k?(C=L,L=null):C=L.sibling;var A=p(m,L,S[k],M);if(A===null){L===null&&(L=C);break}n&&L&&A.alternate===null&&e(m,L),w=s(A,w,k),P===null?R=A:P.sibling=A,P=A,L=C}if(k===S.length)return t(m,L),hn&&Za(m,k),R;if(L===null){for(;k<S.length;k++)L=h(m,S[k],M),L!==null&&(w=s(L,w,k),P===null?R=L:P.sibling=L,P=L);return hn&&Za(m,k),R}for(L=r(m,L);k<S.length;k++)C=g(L,m,k,S[k],M),C!==null&&(n&&C.alternate!==null&&L.delete(C.key===null?k:C.key),w=s(C,w,k),P===null?R=C:P.sibling=C,P=C);return n&&L.forEach(function(U){return e(m,U)}),hn&&Za(m,k),R}function x(m,w,S,M){var R=ud(S);if(typeof R!="function")throw Error(Ie(150));if(S=R.call(S),S==null)throw Error(Ie(151));for(var P=R=null,L=w,k=w=0,C=null,A=S.next();L!==null&&!A.done;k++,A=S.next()){L.index>k?(C=L,L=null):C=L.sibling;var U=p(m,L,A.value,M);if(U===null){L===null&&(L=C);break}n&&L&&U.alternate===null&&e(m,L),w=s(U,w,k),P===null?R=U:P.sibling=U,P=U,L=C}if(A.done)return t(m,L),hn&&Za(m,k),R;if(L===null){for(;!A.done;k++,A=S.next())A=h(m,A.value,M),A!==null&&(w=s(A,w,k),P===null?R=A:P.sibling=A,P=A);return hn&&Za(m,k),R}for(L=r(m,L);!A.done;k++,A=S.next())A=g(L,m,k,A.value,M),A!==null&&(n&&A.alternate!==null&&L.delete(A.key===null?k:A.key),w=s(A,w,k),P===null?R=A:P.sibling=A,P=A);return n&&L.forEach(function(W){return e(m,W)}),hn&&Za(m,k),R}function _(m,w,S,M){if(typeof S=="object"&&S!==null&&S.type===Bc&&S.key===null&&(S=S.props.children),typeof S=="object"&&S!==null){switch(S.$$typeof){case kp:e:{for(var R=S.key,P=w;P!==null;){if(P.key===R){if(R=S.type,R===Bc){if(P.tag===7){t(m,P.sibling),w=i(P,S.props.children),w.return=m,m=w;break e}}else if(P.elementType===R||typeof R=="object"&&R!==null&&R.$$typeof===qo&&h2(R)===P.type){t(m,P.sibling),w=i(P,S.props),w.ref=md(m,P,S),w.return=m,m=w;break e}t(m,P);break}else e(m,P);P=P.sibling}S.type===Bc?(w=vl(S.props.children,m.mode,M,S.key),w.return=m,m=w):(M=ig(S.type,S.key,S.props,null,m.mode,M),M.ref=md(m,w,S),M.return=m,m=M)}return o(m);case zc:e:{for(P=S.key;w!==null;){if(w.key===P)if(w.tag===4&&w.stateNode.containerInfo===S.containerInfo&&w.stateNode.implementation===S.implementation){t(m,w.sibling),w=i(w,S.children||[]),w.return=m,m=w;break e}else{t(m,w);break}else e(m,w);w=w.sibling}w=kx(S,m.mode,M),w.return=m,m=w}return o(m);case qo:return P=S._init,_(m,w,P(S._payload),M)}if(Fd(S))return v(m,w,S,M);if(ud(S))return x(m,w,S,M);Wp(m,S)}return typeof S=="string"&&S!==""||typeof S=="number"?(S=""+S,w!==null&&w.tag===6?(t(m,w.sibling),w=i(w,S),w.return=m,m=w):(t(m,w),w=Ox(S,m.mode,M),w.return=m,m=w),o(m)):t(m,w)}return _}var mu=N3(!0),D3=N3(!1),uh={},Bs=Ma(uh),bf=Ma(uh),Ef=Ma(uh);function cl(n){if(n===uh)throw Error(Ie(174));return n}function VS(n,e){switch(sn(Ef,e),sn(bf,n),sn(Bs,uh),n=e.nodeType,n){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:i1(null,"");break;default:n=n===8?e.parentNode:e,e=n.namespaceURI||null,n=n.tagName,e=i1(e,n)}cn(Bs),sn(Bs,e)}function gu(){cn(Bs),cn(bf),cn(Ef)}function U3(n){cl(Ef.current);var e=cl(Bs.current),t=i1(e,n.type);e!==t&&(sn(bf,n),sn(Bs,t))}function WS(n){bf.current===n&&(cn(Bs),cn(bf))}var yn=Ma(0);function zg(n){for(var e=n;e!==null;){if(e.tag===13){var t=e.memoizedState;if(t!==null&&(t=t.dehydrated,t===null||t.data==="$?"||t.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Tx=[];function GS(){for(var n=0;n<Tx.length;n++)Tx[n]._workInProgressVersionPrimary=null;Tx.length=0}var Qm=Ao.ReactCurrentDispatcher,Cx=Ao.ReactCurrentBatchConfig,Tl=0,_n=null,Xn=null,rr=null,Bg=!1,Jd=!1,Mf=0,XU=0;function wr(){throw Error(Ie(321))}function $S(n,e){if(e===null)return!1;for(var t=0;t<e.length&&t<n.length;t++)if(!fs(n[t],e[t]))return!1;return!0}function XS(n,e,t,r,i,s){if(Tl=s,_n=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Qm.current=n===null||n.memoizedState===null?JU:ZU,n=t(r,i),Jd){s=0;do{if(Jd=!1,Mf=0,25<=s)throw Error(Ie(301));s+=1,rr=Xn=null,e.updateQueue=null,Qm.current=QU,n=t(r,i)}while(Jd)}if(Qm.current=jg,e=Xn!==null&&Xn.next!==null,Tl=0,rr=Xn=_n=null,Bg=!1,e)throw Error(Ie(300));return n}function qS(){var n=Mf!==0;return Mf=0,n}function Ps(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return rr===null?_n.memoizedState=rr=n:rr=rr.next=n,rr}function Xi(){if(Xn===null){var n=_n.alternate;n=n!==null?n.memoizedState:null}else n=Xn.next;var e=rr===null?_n.memoizedState:rr.next;if(e!==null)rr=e,Xn=n;else{if(n===null)throw Error(Ie(310));Xn=n,n={memoizedState:Xn.memoizedState,baseState:Xn.baseState,baseQueue:Xn.baseQueue,queue:Xn.queue,next:null},rr===null?_n.memoizedState=rr=n:rr=rr.next=n}return rr}function Tf(n,e){return typeof e=="function"?e(n):e}function Ax(n){var e=Xi(),t=e.queue;if(t===null)throw Error(Ie(311));t.lastRenderedReducer=n;var r=Xn,i=r.baseQueue,s=t.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,t.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,u=s;do{var f=u.lane;if((Tl&f)===f)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:n(r,u.action);else{var h={lane:f,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=h,o=r):l=l.next=h,_n.lanes|=f,Cl|=f}u=u.next}while(u!==null&&u!==s);l===null?o=r:l.next=a,fs(r,e.memoizedState)||(Zr=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,t.lastRenderedState=r}if(n=t.interleaved,n!==null){i=n;do s=i.lane,_n.lanes|=s,Cl|=s,i=i.next;while(i!==n)}else i===null&&(t.lanes=0);return[e.memoizedState,t.dispatch]}function Rx(n){var e=Xi(),t=e.queue;if(t===null)throw Error(Ie(311));t.lastRenderedReducer=n;var r=t.dispatch,i=t.pending,s=e.memoizedState;if(i!==null){t.pending=null;var o=i=i.next;do s=n(s,o.action),o=o.next;while(o!==i);fs(s,e.memoizedState)||(Zr=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),t.lastRenderedState=s}return[s,r]}function F3(){}function z3(n,e){var t=_n,r=Xi(),i=e(),s=!fs(r.memoizedState,i);if(s&&(r.memoizedState=i,Zr=!0),r=r.queue,YS(H3.bind(null,t,r,n),[n]),r.getSnapshot!==e||s||rr!==null&&rr.memoizedState.tag&1){if(t.flags|=2048,Cf(9,j3.bind(null,t,r,i,e),void 0,null),sr===null)throw Error(Ie(349));Tl&30||B3(t,e,i)}return i}function B3(n,e,t){n.flags|=16384,n={getSnapshot:e,value:t},e=_n.updateQueue,e===null?(e={lastEffect:null,stores:null},_n.updateQueue=e,e.stores=[n]):(t=e.stores,t===null?e.stores=[n]:t.push(n))}function j3(n,e,t,r){e.value=t,e.getSnapshot=r,V3(e)&&W3(n)}function H3(n,e,t){return t(function(){V3(e)&&W3(n)})}function V3(n){var e=n.getSnapshot;n=n.value;try{var t=e();return!fs(n,t)}catch{return!0}}function W3(n){var e=Eo(n,1);e!==null&&cs(e,n,1,-1)}function p2(n){var e=Ps();return typeof n=="function"&&(n=n()),e.memoizedState=e.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Tf,lastRenderedState:n},e.queue=n,n=n.dispatch=KU.bind(null,_n,n),[e.memoizedState,n]}function Cf(n,e,t,r){return n={tag:n,create:e,destroy:t,deps:r,next:null},e=_n.updateQueue,e===null?(e={lastEffect:null,stores:null},_n.updateQueue=e,e.lastEffect=n.next=n):(t=e.lastEffect,t===null?e.lastEffect=n.next=n:(r=t.next,t.next=n,n.next=r,e.lastEffect=n)),n}function G3(){return Xi().memoizedState}function eg(n,e,t,r){var i=Ps();_n.flags|=n,i.memoizedState=Cf(1|e,t,void 0,r===void 0?null:r)}function O0(n,e,t,r){var i=Xi();r=r===void 0?null:r;var s=void 0;if(Xn!==null){var o=Xn.memoizedState;if(s=o.destroy,r!==null&&$S(r,o.deps)){i.memoizedState=Cf(e,t,s,r);return}}_n.flags|=n,i.memoizedState=Cf(1|e,t,s,r)}function m2(n,e){return eg(8390656,8,n,e)}function YS(n,e){return O0(2048,8,n,e)}function $3(n,e){return O0(4,2,n,e)}function X3(n,e){return O0(4,4,n,e)}function q3(n,e){if(typeof e=="function")return n=n(),e(n),function(){e(null)};if(e!=null)return n=n(),e.current=n,function(){e.current=null}}function Y3(n,e,t){return t=t!=null?t.concat([n]):null,O0(4,4,q3.bind(null,e,n),t)}function KS(){}function K3(n,e){var t=Xi();e=e===void 0?null:e;var r=t.memoizedState;return r!==null&&e!==null&&$S(e,r[1])?r[0]:(t.memoizedState=[n,e],n)}function J3(n,e){var t=Xi();e=e===void 0?null:e;var r=t.memoizedState;return r!==null&&e!==null&&$S(e,r[1])?r[0]:(n=n(),t.memoizedState=[n,e],n)}function Z3(n,e,t){return Tl&21?(fs(t,e)||(t=t3(),_n.lanes|=t,Cl|=t,n.baseState=!0),e):(n.baseState&&(n.baseState=!1,Zr=!0),n.memoizedState=t)}function qU(n,e){var t=Yt;Yt=t!==0&&4>t?t:4,n(!0);var r=Cx.transition;Cx.transition={};try{n(!1),e()}finally{Yt=t,Cx.transition=r}}function Q3(){return Xi().memoizedState}function YU(n,e,t){var r=fa(n);if(t={lane:r,action:t,hasEagerState:!1,eagerState:null,next:null},eL(n))tL(e,t);else if(t=L3(n,e,t,r),t!==null){var i=Fr();cs(t,n,r,i),nL(t,e,r)}}function KU(n,e,t){var r=fa(n),i={lane:r,action:t,hasEagerState:!1,eagerState:null,next:null};if(eL(n))tL(e,i);else{var s=n.alternate;if(n.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,t);if(i.hasEagerState=!0,i.eagerState=a,fs(a,o)){var l=e.interleaved;l===null?(i.next=i,jS(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}t=L3(n,e,i,r),t!==null&&(i=Fr(),cs(t,n,r,i),nL(t,e,r))}}function eL(n){var e=n.alternate;return n===_n||e!==null&&e===_n}function tL(n,e){Jd=Bg=!0;var t=n.pending;t===null?e.next=e:(e.next=t.next,t.next=e),n.pending=e}function nL(n,e,t){if(t&4194240){var r=e.lanes;r&=n.pendingLanes,t|=r,e.lanes=t,CS(n,t)}}var jg={readContext:$i,useCallback:wr,useContext:wr,useEffect:wr,useImperativeHandle:wr,useInsertionEffect:wr,useLayoutEffect:wr,useMemo:wr,useReducer:wr,useRef:wr,useState:wr,useDebugValue:wr,useDeferredValue:wr,useTransition:wr,useMutableSource:wr,useSyncExternalStore:wr,useId:wr,unstable_isNewReconciler:!1},JU={readContext:$i,useCallback:function(n,e){return Ps().memoizedState=[n,e===void 0?null:e],n},useContext:$i,useEffect:m2,useImperativeHandle:function(n,e,t){return t=t!=null?t.concat([n]):null,eg(4194308,4,q3.bind(null,e,n),t)},useLayoutEffect:function(n,e){return eg(4194308,4,n,e)},useInsertionEffect:function(n,e){return eg(4,2,n,e)},useMemo:function(n,e){var t=Ps();return e=e===void 0?null:e,n=n(),t.memoizedState=[n,e],n},useReducer:function(n,e,t){var r=Ps();return e=t!==void 0?t(e):e,r.memoizedState=r.baseState=e,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:e},r.queue=n,n=n.dispatch=YU.bind(null,_n,n),[r.memoizedState,n]},useRef:function(n){var e=Ps();return n={current:n},e.memoizedState=n},useState:p2,useDebugValue:KS,useDeferredValue:function(n){return Ps().memoizedState=n},useTransition:function(){var n=p2(!1),e=n[0];return n=qU.bind(null,n[1]),Ps().memoizedState=n,[e,n]},useMutableSource:function(){},useSyncExternalStore:function(n,e,t){var r=_n,i=Ps();if(hn){if(t===void 0)throw Error(Ie(407));t=t()}else{if(t=e(),sr===null)throw Error(Ie(349));Tl&30||B3(r,e,t)}i.memoizedState=t;var s={value:t,getSnapshot:e};return i.queue=s,m2(H3.bind(null,r,s,n),[n]),r.flags|=2048,Cf(9,j3.bind(null,r,s,t,e),void 0,null),t},useId:function(){var n=Ps(),e=sr.identifierPrefix;if(hn){var t=go,r=mo;t=(r&~(1<<32-ls(r)-1)).toString(32)+t,e=":"+e+"R"+t,t=Mf++,0<t&&(e+="H"+t.toString(32)),e+=":"}else t=XU++,e=":"+e+"r"+t.toString(32)+":";return n.memoizedState=e},unstable_isNewReconciler:!1},ZU={readContext:$i,useCallback:K3,useContext:$i,useEffect:YS,useImperativeHandle:Y3,useInsertionEffect:$3,useLayoutEffect:X3,useMemo:J3,useReducer:Ax,useRef:G3,useState:function(){return Ax(Tf)},useDebugValue:KS,useDeferredValue:function(n){var e=Xi();return Z3(e,Xn.memoizedState,n)},useTransition:function(){var n=Ax(Tf)[0],e=Xi().memoizedState;return[n,e]},useMutableSource:F3,useSyncExternalStore:z3,useId:Q3,unstable_isNewReconciler:!1},QU={readContext:$i,useCallback:K3,useContext:$i,useEffect:YS,useImperativeHandle:Y3,useInsertionEffect:$3,useLayoutEffect:X3,useMemo:J3,useReducer:Rx,useRef:G3,useState:function(){return Rx(Tf)},useDebugValue:KS,useDeferredValue:function(n){var e=Xi();return Xn===null?e.memoizedState=n:Z3(e,Xn.memoizedState,n)},useTransition:function(){var n=Rx(Tf)[0],e=Xi().memoizedState;return[n,e]},useMutableSource:F3,useSyncExternalStore:z3,useId:Q3,unstable_isNewReconciler:!1};function vu(n,e){try{var t="",r=e;do t+=C4(r),r=r.return;while(r);var i=t}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:n,source:e,stack:i,digest:null}}function Px(n,e,t){return{value:n,source:null,stack:t??null,digest:e??null}}function C1(n,e){try{console.error(e.value)}catch(t){setTimeout(function(){throw t})}}var e5=typeof WeakMap=="function"?WeakMap:Map;function rL(n,e,t){t=yo(-1,t),t.tag=3,t.payload={element:null};var r=e.value;return t.callback=function(){Vg||(Vg=!0,U1=r),C1(n,e)},t}function iL(n,e,t){t=yo(-1,t),t.tag=3;var r=n.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;t.payload=function(){return r(i)},t.callback=function(){C1(n,e)}}var s=n.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(t.callback=function(){C1(n,e),typeof r!="function"&&(da===null?da=new Set([this]):da.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),t}function g2(n,e,t){var r=n.pingCache;if(r===null){r=n.pingCache=new e5;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(t)||(i.add(t),n=p5.bind(null,n,e,t),e.then(n,n))}function v2(n){do{var e;if((e=n.tag===13)&&(e=n.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return n;n=n.return}while(n!==null);return null}function y2(n,e,t,r,i){return n.mode&1?(n.flags|=65536,n.lanes=i,n):(n===e?n.flags|=65536:(n.flags|=128,t.flags|=131072,t.flags&=-52805,t.tag===1&&(t.alternate===null?t.tag=17:(e=yo(-1,1),e.tag=2,ua(t,e,1))),t.lanes|=1),n)}var t5=Ao.ReactCurrentOwner,Zr=!1;function Ur(n,e,t,r){e.child=n===null?D3(e,null,t,r):mu(e,n.child,t,r)}function x2(n,e,t,r,i){t=t.render;var s=e.ref;return su(e,i),r=XS(n,e,t,r,s,i),t=qS(),n!==null&&!Zr?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~i,Mo(n,e,i)):(hn&&t&&NS(e),e.flags|=1,Ur(n,e,r,i),e.child)}function _2(n,e,t,r,i){if(n===null){var s=t.type;return typeof s=="function"&&!ib(s)&&s.defaultProps===void 0&&t.compare===null&&t.defaultProps===void 0?(e.tag=15,e.type=s,sL(n,e,s,r,i)):(n=ig(t.type,null,r,e,e.mode,i),n.ref=e.ref,n.return=e,e.child=n)}if(s=n.child,!(n.lanes&i)){var o=s.memoizedProps;if(t=t.compare,t=t!==null?t:xf,t(o,r)&&n.ref===e.ref)return Mo(n,e,i)}return e.flags|=1,n=ha(s,r),n.ref=e.ref,n.return=e,e.child=n}function sL(n,e,t,r,i){if(n!==null){var s=n.memoizedProps;if(xf(s,r)&&n.ref===e.ref)if(Zr=!1,e.pendingProps=r=s,(n.lanes&i)!==0)n.flags&131072&&(Zr=!0);else return e.lanes=n.lanes,Mo(n,e,i)}return A1(n,e,t,r,i)}function oL(n,e,t){var r=e.pendingProps,i=r.children,s=n!==null?n.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},sn(Kc,pi),pi|=t;else{if(!(t&1073741824))return n=s!==null?s.baseLanes|t:t,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:n,cachePool:null,transitions:null},e.updateQueue=null,sn(Kc,pi),pi|=n,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:t,sn(Kc,pi),pi|=r}else s!==null?(r=s.baseLanes|t,e.memoizedState=null):r=t,sn(Kc,pi),pi|=r;return Ur(n,e,i,t),e.child}function aL(n,e){var t=e.ref;(n===null&&t!==null||n!==null&&n.ref!==t)&&(e.flags|=512,e.flags|=2097152)}function A1(n,e,t,r,i){var s=ei(t)?El:Pr.current;return s=hu(e,s),su(e,i),t=XS(n,e,t,r,s,i),r=qS(),n!==null&&!Zr?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~i,Mo(n,e,i)):(hn&&r&&NS(e),e.flags|=1,Ur(n,e,t,i),e.child)}function w2(n,e,t,r,i){if(ei(t)){var s=!0;kg(e)}else s=!1;if(su(e,i),e.stateNode===null)tg(n,e),I3(e,t,r),T1(e,t,r,i),r=!0;else if(n===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=t.contextType;typeof u=="object"&&u!==null?u=$i(u):(u=ei(t)?El:Pr.current,u=hu(e,u));var f=t.getDerivedStateFromProps,h=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&f2(e,o,r,u),Yo=!1;var p=e.memoizedState;o.state=p,Fg(e,r,o,i),l=e.memoizedState,a!==r||p!==l||Qr.current||Yo?(typeof f=="function"&&(M1(e,t,f,r),l=e.memoizedState),(a=Yo||d2(e,t,a,r,p,l,u))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,O3(n,e),a=e.memoizedProps,u=e.type===e.elementType?a:ns(e.type,a),o.props=u,h=e.pendingProps,p=o.context,l=t.contextType,typeof l=="object"&&l!==null?l=$i(l):(l=ei(t)?El:Pr.current,l=hu(e,l));var g=t.getDerivedStateFromProps;(f=typeof g=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||p!==l)&&f2(e,o,r,l),Yo=!1,p=e.memoizedState,o.state=p,Fg(e,r,o,i);var v=e.memoizedState;a!==h||p!==v||Qr.current||Yo?(typeof g=="function"&&(M1(e,t,g,r),v=e.memoizedState),(u=Yo||d2(e,t,u,r,p,v,l)||!1)?(f||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,v,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,v,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===n.memoizedProps&&p===n.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===n.memoizedProps&&p===n.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=v),o.props=r,o.state=v,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===n.memoizedProps&&p===n.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===n.memoizedProps&&p===n.memoizedState||(e.flags|=1024),r=!1)}return R1(n,e,t,r,s,i)}function R1(n,e,t,r,i,s){aL(n,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&o2(e,t,!1),Mo(n,e,s);r=e.stateNode,t5.current=e;var a=o&&typeof t.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,n!==null&&o?(e.child=mu(e,n.child,null,s),e.child=mu(e,null,a,s)):Ur(n,e,a,s),e.memoizedState=r.state,i&&o2(e,t,!0),e.child}function lL(n){var e=n.stateNode;e.pendingContext?s2(n,e.pendingContext,e.pendingContext!==e.context):e.context&&s2(n,e.context,!1),VS(n,e.containerInfo)}function S2(n,e,t,r,i){return pu(),US(i),e.flags|=256,Ur(n,e,t,r),e.child}var P1={dehydrated:null,treeContext:null,retryLane:0};function L1(n){return{baseLanes:n,cachePool:null,transitions:null}}function cL(n,e,t){var r=e.pendingProps,i=yn.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=n!==null&&n.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(n===null||n.memoizedState!==null)&&(i|=1),sn(yn,i&1),n===null)return b1(e),n=e.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?(e.mode&1?n.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,n=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=N0(o,r,0,null),n=vl(n,r,t,null),s.return=e,n.return=e,s.sibling=n,e.child=s,e.child.memoizedState=L1(t),e.memoizedState=P1,n):JS(e,o));if(i=n.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return n5(n,e,o,r,a,i,t);if(s){s=r.fallback,o=e.mode,i=n.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=ha(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=ha(a,s):(s=vl(s,o,t,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=n.child.memoizedState,o=o===null?L1(t):{baseLanes:o.baseLanes|t,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=n.childLanes&~t,e.memoizedState=P1,r}return s=n.child,n=s.sibling,r=ha(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=t),r.return=e,r.sibling=null,n!==null&&(t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)),e.child=r,e.memoizedState=null,r}function JS(n,e){return e=N0({mode:"visible",children:e},n.mode,0,null),e.return=n,n.child=e}function Gp(n,e,t,r){return r!==null&&US(r),mu(e,n.child,null,t),n=JS(e,e.pendingProps.children),n.flags|=2,e.memoizedState=null,n}function n5(n,e,t,r,i,s,o){if(t)return e.flags&256?(e.flags&=-257,r=Px(Error(Ie(422))),Gp(n,e,o,r)):e.memoizedState!==null?(e.child=n.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=N0({mode:"visible",children:r.children},i,0,null),s=vl(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&mu(e,n.child,null,o),e.child.memoizedState=L1(o),e.memoizedState=P1,s);if(!(e.mode&1))return Gp(n,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(Ie(419)),r=Px(s,r,void 0),Gp(n,e,o,r)}if(a=(o&n.childLanes)!==0,Zr||a){if(r=sr,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Eo(n,i),cs(r,n,i,-1))}return rb(),r=Px(Error(Ie(421))),Gp(n,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=n.child,e=m5.bind(null,n),i._reactRetry=e,null):(n=s.treeContext,vi=ca(i.nextSibling),xi=e,hn=!0,ss=null,n!==null&&(Bi[ji++]=mo,Bi[ji++]=go,Bi[ji++]=Ml,mo=n.id,go=n.overflow,Ml=e),e=JS(e,r.children),e.flags|=4096,e)}function b2(n,e,t){n.lanes|=e;var r=n.alternate;r!==null&&(r.lanes|=e),E1(n.return,e,t)}function Lx(n,e,t,r,i){var s=n.memoizedState;s===null?n.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:t,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=t,s.tailMode=i)}function uL(n,e,t){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(Ur(n,e,r.children,t),r=yn.current,r&2)r=r&1|2,e.flags|=128;else{if(n!==null&&n.flags&128)e:for(n=e.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&b2(n,t,e);else if(n.tag===19)b2(n,t,e);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}r&=1}if(sn(yn,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(t=e.child,i=null;t!==null;)n=t.alternate,n!==null&&zg(n)===null&&(i=t),t=t.sibling;t=i,t===null?(i=e.child,e.child=null):(i=t.sibling,t.sibling=null),Lx(e,!1,i,t,s);break;case"backwards":for(t=null,i=e.child,e.child=null;i!==null;){if(n=i.alternate,n!==null&&zg(n)===null){e.child=i;break}n=i.sibling,i.sibling=t,t=i,i=n}Lx(e,!0,t,null,s);break;case"together":Lx(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function tg(n,e){!(e.mode&1)&&n!==null&&(n.alternate=null,e.alternate=null,e.flags|=2)}function Mo(n,e,t){if(n!==null&&(e.dependencies=n.dependencies),Cl|=e.lanes,!(t&e.childLanes))return null;if(n!==null&&e.child!==n.child)throw Error(Ie(153));if(e.child!==null){for(n=e.child,t=ha(n,n.pendingProps),e.child=t,t.return=e;n.sibling!==null;)n=n.sibling,t=t.sibling=ha(n,n.pendingProps),t.return=e;t.sibling=null}return e.child}function r5(n,e,t){switch(e.tag){case 3:lL(e),pu();break;case 5:U3(e);break;case 1:ei(e.type)&&kg(e);break;case 4:VS(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;sn(Dg,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(sn(yn,yn.current&1),e.flags|=128,null):t&e.child.childLanes?cL(n,e,t):(sn(yn,yn.current&1),n=Mo(n,e,t),n!==null?n.sibling:null);sn(yn,yn.current&1);break;case 19:if(r=(t&e.childLanes)!==0,n.flags&128){if(r)return uL(n,e,t);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),sn(yn,yn.current),r)break;return null;case 22:case 23:return e.lanes=0,oL(n,e,t)}return Mo(n,e,t)}var dL,O1,fL,hL;dL=function(n,e){for(var t=e.child;t!==null;){if(t.tag===5||t.tag===6)n.appendChild(t.stateNode);else if(t.tag!==4&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return;t=t.return}t.sibling.return=t.return,t=t.sibling}};O1=function(){};fL=function(n,e,t,r){var i=n.memoizedProps;if(i!==r){n=e.stateNode,cl(Bs.current);var s=null;switch(t){case"input":i=e1(n,i),r=e1(n,r),s=[];break;case"select":i=wn({},i,{value:void 0}),r=wn({},r,{value:void 0}),s=[];break;case"textarea":i=r1(n,i),r=r1(n,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(n.onclick=Lg)}s1(t,r);var o;t=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(o in a)a.hasOwnProperty(o)&&(t||(t={}),t[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(ff.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(t||(t={}),t[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(t||(t={}),t[o]=l[o])}else t||(s||(s=[]),s.push(u,t)),t=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(ff.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&ln("scroll",n),s||a===l||(s=[])):(s=s||[]).push(u,l))}t&&(s=s||[]).push("style",t);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};hL=function(n,e,t,r){t!==r&&(e.flags|=4)};function gd(n,e){if(!hn)switch(n.tailMode){case"hidden":e=n.tail;for(var t=null;e!==null;)e.alternate!==null&&(t=e),e=e.sibling;t===null?n.tail=null:t.sibling=null;break;case"collapsed":t=n.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e||n.tail===null?n.tail=null:n.tail.sibling=null:r.sibling=null}}function Sr(n){var e=n.alternate!==null&&n.alternate.child===n.child,t=0,r=0;if(e)for(var i=n.child;i!==null;)t|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=n,i=i.sibling;else for(i=n.child;i!==null;)t|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=n,i=i.sibling;return n.subtreeFlags|=r,n.childLanes=t,e}function i5(n,e,t){var r=e.pendingProps;switch(DS(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Sr(e),null;case 1:return ei(e.type)&&Og(),Sr(e),null;case 3:return r=e.stateNode,gu(),cn(Qr),cn(Pr),GS(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(n===null||n.child===null)&&(Vp(e)?e.flags|=4:n===null||n.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,ss!==null&&(B1(ss),ss=null))),O1(n,e),Sr(e),null;case 5:WS(e);var i=cl(Ef.current);if(t=e.type,n!==null&&e.stateNode!=null)fL(n,e,t,r,i),n.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(Ie(166));return Sr(e),null}if(n=cl(Bs.current),Vp(e)){r=e.stateNode,t=e.type;var s=e.memoizedProps;switch(r[Is]=e,r[Sf]=s,n=(e.mode&1)!==0,t){case"dialog":ln("cancel",r),ln("close",r);break;case"iframe":case"object":case"embed":ln("load",r);break;case"video":case"audio":for(i=0;i<Bd.length;i++)ln(Bd[i],r);break;case"source":ln("error",r);break;case"img":case"image":case"link":ln("error",r),ln("load",r);break;case"details":ln("toggle",r);break;case"input":OT(r,s),ln("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},ln("invalid",r);break;case"textarea":IT(r,s),ln("invalid",r)}s1(t,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&Hp(r.textContent,a,n),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&Hp(r.textContent,a,n),i=["children",""+a]):ff.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&ln("scroll",r)}switch(t){case"input":Ip(r),kT(r,s,!0);break;case"textarea":Ip(r),NT(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Lg)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=BP(t)),n==="http://www.w3.org/1999/xhtml"?t==="script"?(n=o.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof r.is=="string"?n=o.createElement(t,{is:r.is}):(n=o.createElement(t),t==="select"&&(o=n,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):n=o.createElementNS(n,t),n[Is]=e,n[Sf]=r,dL(n,e,!1,!1),e.stateNode=n;e:{switch(o=o1(t,r),t){case"dialog":ln("cancel",n),ln("close",n),i=r;break;case"iframe":case"object":case"embed":ln("load",n),i=r;break;case"video":case"audio":for(i=0;i<Bd.length;i++)ln(Bd[i],n);i=r;break;case"source":ln("error",n),i=r;break;case"img":case"image":case"link":ln("error",n),ln("load",n),i=r;break;case"details":ln("toggle",n),i=r;break;case"input":OT(n,r),i=e1(n,r),ln("invalid",n);break;case"option":i=r;break;case"select":n._wrapperState={wasMultiple:!!r.multiple},i=wn({},r,{value:void 0}),ln("invalid",n);break;case"textarea":IT(n,r),i=r1(n,r),ln("invalid",n);break;default:i=r}s1(t,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?VP(n,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&jP(n,l)):s==="children"?typeof l=="string"?(t!=="textarea"||l!=="")&&hf(n,l):typeof l=="number"&&hf(n,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(ff.hasOwnProperty(s)?l!=null&&s==="onScroll"&&ln("scroll",n):l!=null&&wS(n,s,l,o))}switch(t){case"input":Ip(n),kT(n,r,!1);break;case"textarea":Ip(n),NT(n);break;case"option":r.value!=null&&n.setAttribute("value",""+ya(r.value));break;case"select":n.multiple=!!r.multiple,s=r.value,s!=null?tu(n,!!r.multiple,s,!1):r.defaultValue!=null&&tu(n,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(n.onclick=Lg)}switch(t){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Sr(e),null;case 6:if(n&&e.stateNode!=null)hL(n,e,n.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(Ie(166));if(t=cl(Ef.current),cl(Bs.current),Vp(e)){if(r=e.stateNode,t=e.memoizedProps,r[Is]=e,(s=r.nodeValue!==t)&&(n=xi,n!==null))switch(n.tag){case 3:Hp(r.nodeValue,t,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&Hp(r.nodeValue,t,(n.mode&1)!==0)}s&&(e.flags|=4)}else r=(t.nodeType===9?t:t.ownerDocument).createTextNode(r),r[Is]=e,e.stateNode=r}return Sr(e),null;case 13:if(cn(yn),r=e.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(hn&&vi!==null&&e.mode&1&&!(e.flags&128))P3(),pu(),e.flags|=98560,s=!1;else if(s=Vp(e),r!==null&&r.dehydrated!==null){if(n===null){if(!s)throw Error(Ie(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(Ie(317));s[Is]=e}else pu(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Sr(e),s=!1}else ss!==null&&(B1(ss),ss=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=t,e):(r=r!==null,r!==(n!==null&&n.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(n===null||yn.current&1?qn===0&&(qn=3):rb())),e.updateQueue!==null&&(e.flags|=4),Sr(e),null);case 4:return gu(),O1(n,e),n===null&&_f(e.stateNode.containerInfo),Sr(e),null;case 10:return BS(e.type._context),Sr(e),null;case 17:return ei(e.type)&&Og(),Sr(e),null;case 19:if(cn(yn),s=e.memoizedState,s===null)return Sr(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)gd(s,!1);else{if(qn!==0||n!==null&&n.flags&128)for(n=e.child;n!==null;){if(o=zg(n),o!==null){for(e.flags|=128,gd(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=t,t=e.child;t!==null;)s=t,n=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=n,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,n=o.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t=t.sibling;return sn(yn,yn.current&1|2),e.child}n=n.sibling}s.tail!==null&&Nn()>yu&&(e.flags|=128,r=!0,gd(s,!1),e.lanes=4194304)}else{if(!r)if(n=zg(o),n!==null){if(e.flags|=128,r=!0,t=n.updateQueue,t!==null&&(e.updateQueue=t,e.flags|=4),gd(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!hn)return Sr(e),null}else 2*Nn()-s.renderingStartTime>yu&&t!==1073741824&&(e.flags|=128,r=!0,gd(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(t=s.last,t!==null?t.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Nn(),e.sibling=null,t=yn.current,sn(yn,r?t&1|2:t&1),e):(Sr(e),null);case 22:case 23:return nb(),r=e.memoizedState!==null,n!==null&&n.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?pi&1073741824&&(Sr(e),e.subtreeFlags&6&&(e.flags|=8192)):Sr(e),null;case 24:return null;case 25:return null}throw Error(Ie(156,e.tag))}function s5(n,e){switch(DS(e),e.tag){case 1:return ei(e.type)&&Og(),n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 3:return gu(),cn(Qr),cn(Pr),GS(),n=e.flags,n&65536&&!(n&128)?(e.flags=n&-65537|128,e):null;case 5:return WS(e),null;case 13:if(cn(yn),n=e.memoizedState,n!==null&&n.dehydrated!==null){if(e.alternate===null)throw Error(Ie(340));pu()}return n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 19:return cn(yn),null;case 4:return gu(),null;case 10:return BS(e.type._context),null;case 22:case 23:return nb(),null;case 24:return null;default:return null}}var $p=!1,Cr=!1,o5=typeof WeakSet=="function"?WeakSet:Set,Je=null;function Yc(n,e){var t=n.ref;if(t!==null)if(typeof t=="function")try{t(null)}catch(r){An(n,e,r)}else t.current=null}function k1(n,e,t){try{t()}catch(r){An(n,e,r)}}var E2=!1;function a5(n,e){if(g1=Ag,n=v3(),IS(n)){if("selectionStart"in n)var t={start:n.selectionStart,end:n.selectionEnd};else e:{t=(t=n.ownerDocument)&&t.defaultView||window;var r=t.getSelection&&t.getSelection();if(r&&r.rangeCount!==0){t=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{t.nodeType,s.nodeType}catch{t=null;break e}var o=0,a=-1,l=-1,u=0,f=0,h=n,p=null;t:for(;;){for(var g;h!==t||i!==0&&h.nodeType!==3||(a=o+i),h!==s||r!==0&&h.nodeType!==3||(l=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(g=h.firstChild)!==null;)p=h,h=g;for(;;){if(h===n)break t;if(p===t&&++u===i&&(a=o),p===s&&++f===r&&(l=o),(g=h.nextSibling)!==null)break;h=p,p=h.parentNode}h=g}t=a===-1||l===-1?null:{start:a,end:l}}else t=null}t=t||{start:0,end:0}}else t=null;for(v1={focusedElem:n,selectionRange:t},Ag=!1,Je=e;Je!==null;)if(e=Je,n=e.child,(e.subtreeFlags&1028)!==0&&n!==null)n.return=e,Je=n;else for(;Je!==null;){e=Je;try{var v=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var x=v.memoizedProps,_=v.memoizedState,m=e.stateNode,w=m.getSnapshotBeforeUpdate(e.elementType===e.type?x:ns(e.type,x),_);m.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var S=e.stateNode.containerInfo;S.nodeType===1?S.textContent="":S.nodeType===9&&S.documentElement&&S.removeChild(S.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Ie(163))}}catch(M){An(e,e.return,M)}if(n=e.sibling,n!==null){n.return=e.return,Je=n;break}Je=e.return}return v=E2,E2=!1,v}function Zd(n,e,t){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&n)===n){var s=i.destroy;i.destroy=void 0,s!==void 0&&k1(e,t,s)}i=i.next}while(i!==r)}}function k0(n,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var t=e=e.next;do{if((t.tag&n)===n){var r=t.create;t.destroy=r()}t=t.next}while(t!==e)}}function I1(n){var e=n.ref;if(e!==null){var t=n.stateNode;switch(n.tag){case 5:n=t;break;default:n=t}typeof e=="function"?e(n):e.current=n}}function pL(n){var e=n.alternate;e!==null&&(n.alternate=null,pL(e)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(e=n.stateNode,e!==null&&(delete e[Is],delete e[Sf],delete e[_1],delete e[VU],delete e[WU])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function mL(n){return n.tag===5||n.tag===3||n.tag===4}function M2(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||mL(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function N1(n,e,t){var r=n.tag;if(r===5||r===6)n=n.stateNode,e?t.nodeType===8?t.parentNode.insertBefore(n,e):t.insertBefore(n,e):(t.nodeType===8?(e=t.parentNode,e.insertBefore(n,t)):(e=t,e.appendChild(n)),t=t._reactRootContainer,t!=null||e.onclick!==null||(e.onclick=Lg));else if(r!==4&&(n=n.child,n!==null))for(N1(n,e,t),n=n.sibling;n!==null;)N1(n,e,t),n=n.sibling}function D1(n,e,t){var r=n.tag;if(r===5||r===6)n=n.stateNode,e?t.insertBefore(n,e):t.appendChild(n);else if(r!==4&&(n=n.child,n!==null))for(D1(n,e,t),n=n.sibling;n!==null;)D1(n,e,t),n=n.sibling}var ur=null,rs=!1;function zo(n,e,t){for(t=t.child;t!==null;)gL(n,e,t),t=t.sibling}function gL(n,e,t){if(zs&&typeof zs.onCommitFiberUnmount=="function")try{zs.onCommitFiberUnmount(M0,t)}catch{}switch(t.tag){case 5:Cr||Yc(t,e);case 6:var r=ur,i=rs;ur=null,zo(n,e,t),ur=r,rs=i,ur!==null&&(rs?(n=ur,t=t.stateNode,n.nodeType===8?n.parentNode.removeChild(t):n.removeChild(t)):ur.removeChild(t.stateNode));break;case 18:ur!==null&&(rs?(n=ur,t=t.stateNode,n.nodeType===8?Ex(n.parentNode,t):n.nodeType===1&&Ex(n,t),vf(n)):Ex(ur,t.stateNode));break;case 4:r=ur,i=rs,ur=t.stateNode.containerInfo,rs=!0,zo(n,e,t),ur=r,rs=i;break;case 0:case 11:case 14:case 15:if(!Cr&&(r=t.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&k1(t,e,o),i=i.next}while(i!==r)}zo(n,e,t);break;case 1:if(!Cr&&(Yc(t,e),r=t.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=t.memoizedProps,r.state=t.memoizedState,r.componentWillUnmount()}catch(a){An(t,e,a)}zo(n,e,t);break;case 21:zo(n,e,t);break;case 22:t.mode&1?(Cr=(r=Cr)||t.memoizedState!==null,zo(n,e,t),Cr=r):zo(n,e,t);break;default:zo(n,e,t)}}function T2(n){var e=n.updateQueue;if(e!==null){n.updateQueue=null;var t=n.stateNode;t===null&&(t=n.stateNode=new o5),e.forEach(function(r){var i=g5.bind(null,n,r);t.has(r)||(t.add(r),r.then(i,i))})}}function Zi(n,e){var t=e.deletions;if(t!==null)for(var r=0;r<t.length;r++){var i=t[r];try{var s=n,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:ur=a.stateNode,rs=!1;break e;case 3:ur=a.stateNode.containerInfo,rs=!0;break e;case 4:ur=a.stateNode.containerInfo,rs=!0;break e}a=a.return}if(ur===null)throw Error(Ie(160));gL(s,o,i),ur=null,rs=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){An(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)vL(e,n),e=e.sibling}function vL(n,e){var t=n.alternate,r=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(Zi(e,n),As(n),r&4){try{Zd(3,n,n.return),k0(3,n)}catch(x){An(n,n.return,x)}try{Zd(5,n,n.return)}catch(x){An(n,n.return,x)}}break;case 1:Zi(e,n),As(n),r&512&&t!==null&&Yc(t,t.return);break;case 5:if(Zi(e,n),As(n),r&512&&t!==null&&Yc(t,t.return),n.flags&32){var i=n.stateNode;try{hf(i,"")}catch(x){An(n,n.return,x)}}if(r&4&&(i=n.stateNode,i!=null)){var s=n.memoizedProps,o=t!==null?t.memoizedProps:s,a=n.type,l=n.updateQueue;if(n.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&FP(i,s),o1(a,o);var u=o1(a,s);for(o=0;o<l.length;o+=2){var f=l[o],h=l[o+1];f==="style"?VP(i,h):f==="dangerouslySetInnerHTML"?jP(i,h):f==="children"?hf(i,h):wS(i,f,h,u)}switch(a){case"input":t1(i,s);break;case"textarea":zP(i,s);break;case"select":var p=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var g=s.value;g!=null?tu(i,!!s.multiple,g,!1):p!==!!s.multiple&&(s.defaultValue!=null?tu(i,!!s.multiple,s.defaultValue,!0):tu(i,!!s.multiple,s.multiple?[]:"",!1))}i[Sf]=s}catch(x){An(n,n.return,x)}}break;case 6:if(Zi(e,n),As(n),r&4){if(n.stateNode===null)throw Error(Ie(162));i=n.stateNode,s=n.memoizedProps;try{i.nodeValue=s}catch(x){An(n,n.return,x)}}break;case 3:if(Zi(e,n),As(n),r&4&&t!==null&&t.memoizedState.isDehydrated)try{vf(e.containerInfo)}catch(x){An(n,n.return,x)}break;case 4:Zi(e,n),As(n);break;case 13:Zi(e,n),As(n),i=n.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(eb=Nn())),r&4&&T2(n);break;case 22:if(f=t!==null&&t.memoizedState!==null,n.mode&1?(Cr=(u=Cr)||f,Zi(e,n),Cr=u):Zi(e,n),As(n),r&8192){if(u=n.memoizedState!==null,(n.stateNode.isHidden=u)&&!f&&n.mode&1)for(Je=n,f=n.child;f!==null;){for(h=Je=f;Je!==null;){switch(p=Je,g=p.child,p.tag){case 0:case 11:case 14:case 15:Zd(4,p,p.return);break;case 1:Yc(p,p.return);var v=p.stateNode;if(typeof v.componentWillUnmount=="function"){r=p,t=p.return;try{e=r,v.props=e.memoizedProps,v.state=e.memoizedState,v.componentWillUnmount()}catch(x){An(r,t,x)}}break;case 5:Yc(p,p.return);break;case 22:if(p.memoizedState!==null){A2(h);continue}}g!==null?(g.return=p,Je=g):A2(h)}f=f.sibling}e:for(f=null,h=n;;){if(h.tag===5){if(f===null){f=h;try{i=h.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=HP("display",o))}catch(x){An(n,n.return,x)}}}else if(h.tag===6){if(f===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(x){An(n,n.return,x)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===n)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===n)break e;for(;h.sibling===null;){if(h.return===null||h.return===n)break e;f===h&&(f=null),h=h.return}f===h&&(f=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Zi(e,n),As(n),r&4&&T2(n);break;case 21:break;default:Zi(e,n),As(n)}}function As(n){var e=n.flags;if(e&2){try{e:{for(var t=n.return;t!==null;){if(mL(t)){var r=t;break e}t=t.return}throw Error(Ie(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(hf(i,""),r.flags&=-33);var s=M2(n);D1(n,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=M2(n);N1(n,a,o);break;default:throw Error(Ie(161))}}catch(l){An(n,n.return,l)}n.flags&=-3}e&4096&&(n.flags&=-4097)}function l5(n,e,t){Je=n,yL(n)}function yL(n,e,t){for(var r=(n.mode&1)!==0;Je!==null;){var i=Je,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||$p;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||Cr;a=$p;var u=Cr;if($p=o,(Cr=l)&&!u)for(Je=i;Je!==null;)o=Je,l=o.child,o.tag===22&&o.memoizedState!==null?R2(i):l!==null?(l.return=o,Je=l):R2(i);for(;s!==null;)Je=s,yL(s),s=s.sibling;Je=i,$p=a,Cr=u}C2(n)}else i.subtreeFlags&8772&&s!==null?(s.return=i,Je=s):C2(n)}}function C2(n){for(;Je!==null;){var e=Je;if(e.flags&8772){var t=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Cr||k0(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Cr)if(t===null)r.componentDidMount();else{var i=e.elementType===e.type?t.memoizedProps:ns(e.type,t.memoizedProps);r.componentDidUpdate(i,t.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&u2(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(t=null,e.child!==null)switch(e.child.tag){case 5:t=e.child.stateNode;break;case 1:t=e.child.stateNode}u2(e,o,t)}break;case 5:var a=e.stateNode;if(t===null&&e.flags&4){t=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&t.focus();break;case"img":l.src&&(t.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var f=u.memoizedState;if(f!==null){var h=f.dehydrated;h!==null&&vf(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Ie(163))}Cr||e.flags&512&&I1(e)}catch(p){An(e,e.return,p)}}if(e===n){Je=null;break}if(t=e.sibling,t!==null){t.return=e.return,Je=t;break}Je=e.return}}function A2(n){for(;Je!==null;){var e=Je;if(e===n){Je=null;break}var t=e.sibling;if(t!==null){t.return=e.return,Je=t;break}Je=e.return}}function R2(n){for(;Je!==null;){var e=Je;try{switch(e.tag){case 0:case 11:case 15:var t=e.return;try{k0(4,e)}catch(l){An(e,t,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){An(e,i,l)}}var s=e.return;try{I1(e)}catch(l){An(e,s,l)}break;case 5:var o=e.return;try{I1(e)}catch(l){An(e,o,l)}}}catch(l){An(e,e.return,l)}if(e===n){Je=null;break}var a=e.sibling;if(a!==null){a.return=e.return,Je=a;break}Je=e.return}}var c5=Math.ceil,Hg=Ao.ReactCurrentDispatcher,ZS=Ao.ReactCurrentOwner,Wi=Ao.ReactCurrentBatchConfig,Dt=0,sr=null,Vn=null,fr=0,pi=0,Kc=Ma(0),qn=0,Af=null,Cl=0,I0=0,QS=0,Qd=null,Kr=null,eb=0,yu=1/0,uo=null,Vg=!1,U1=null,da=null,Xp=!1,ia=null,Wg=0,ef=0,F1=null,ng=-1,rg=0;function Fr(){return Dt&6?Nn():ng!==-1?ng:ng=Nn()}function fa(n){return n.mode&1?Dt&2&&fr!==0?fr&-fr:$U.transition!==null?(rg===0&&(rg=t3()),rg):(n=Yt,n!==0||(n=window.event,n=n===void 0?16:l3(n.type)),n):1}function cs(n,e,t,r){if(50<ef)throw ef=0,F1=null,Error(Ie(185));ah(n,t,r),(!(Dt&2)||n!==sr)&&(n===sr&&(!(Dt&2)&&(I0|=t),qn===4&&ea(n,fr)),ti(n,r),t===1&&Dt===0&&!(e.mode&1)&&(yu=Nn()+500,P0&&Ta()))}function ti(n,e){var t=n.callbackNode;$4(n,e);var r=Cg(n,n===sr?fr:0);if(r===0)t!==null&&FT(t),n.callbackNode=null,n.callbackPriority=0;else if(e=r&-r,n.callbackPriority!==e){if(t!=null&&FT(t),e===1)n.tag===0?GU(P2.bind(null,n)):C3(P2.bind(null,n)),jU(function(){!(Dt&6)&&Ta()}),t=null;else{switch(n3(r)){case 1:t=TS;break;case 4:t=QP;break;case 16:t=Tg;break;case 536870912:t=e3;break;default:t=Tg}t=TL(t,xL.bind(null,n))}n.callbackPriority=e,n.callbackNode=t}}function xL(n,e){if(ng=-1,rg=0,Dt&6)throw Error(Ie(327));var t=n.callbackNode;if(ou()&&n.callbackNode!==t)return null;var r=Cg(n,n===sr?fr:0);if(r===0)return null;if(r&30||r&n.expiredLanes||e)e=Gg(n,r);else{e=r;var i=Dt;Dt|=2;var s=wL();(sr!==n||fr!==e)&&(uo=null,yu=Nn()+500,gl(n,e));do try{f5();break}catch(a){_L(n,a)}while(1);zS(),Hg.current=s,Dt=i,Vn!==null?e=0:(sr=null,fr=0,e=qn)}if(e!==0){if(e===2&&(i=d1(n),i!==0&&(r=i,e=z1(n,i))),e===1)throw t=Af,gl(n,0),ea(n,r),ti(n,Nn()),t;if(e===6)ea(n,r);else{if(i=n.current.alternate,!(r&30)&&!u5(i)&&(e=Gg(n,r),e===2&&(s=d1(n),s!==0&&(r=s,e=z1(n,s))),e===1))throw t=Af,gl(n,0),ea(n,r),ti(n,Nn()),t;switch(n.finishedWork=i,n.finishedLanes=r,e){case 0:case 1:throw Error(Ie(345));case 2:Qa(n,Kr,uo);break;case 3:if(ea(n,r),(r&130023424)===r&&(e=eb+500-Nn(),10<e)){if(Cg(n,0)!==0)break;if(i=n.suspendedLanes,(i&r)!==r){Fr(),n.pingedLanes|=n.suspendedLanes&i;break}n.timeoutHandle=x1(Qa.bind(null,n,Kr,uo),e);break}Qa(n,Kr,uo);break;case 4:if(ea(n,r),(r&4194240)===r)break;for(e=n.eventTimes,i=-1;0<r;){var o=31-ls(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=Nn()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*c5(r/1960))-r,10<r){n.timeoutHandle=x1(Qa.bind(null,n,Kr,uo),r);break}Qa(n,Kr,uo);break;case 5:Qa(n,Kr,uo);break;default:throw Error(Ie(329))}}}return ti(n,Nn()),n.callbackNode===t?xL.bind(null,n):null}function z1(n,e){var t=Qd;return n.current.memoizedState.isDehydrated&&(gl(n,e).flags|=256),n=Gg(n,e),n!==2&&(e=Kr,Kr=t,e!==null&&B1(e)),n}function B1(n){Kr===null?Kr=n:Kr.push.apply(Kr,n)}function u5(n){for(var e=n;;){if(e.flags&16384){var t=e.updateQueue;if(t!==null&&(t=t.stores,t!==null))for(var r=0;r<t.length;r++){var i=t[r],s=i.getSnapshot;i=i.value;try{if(!fs(s(),i))return!1}catch{return!1}}}if(t=e.child,e.subtreeFlags&16384&&t!==null)t.return=e,e=t;else{if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function ea(n,e){for(e&=~QS,e&=~I0,n.suspendedLanes|=e,n.pingedLanes&=~e,n=n.expirationTimes;0<e;){var t=31-ls(e),r=1<<t;n[t]=-1,e&=~r}}function P2(n){if(Dt&6)throw Error(Ie(327));ou();var e=Cg(n,0);if(!(e&1))return ti(n,Nn()),null;var t=Gg(n,e);if(n.tag!==0&&t===2){var r=d1(n);r!==0&&(e=r,t=z1(n,r))}if(t===1)throw t=Af,gl(n,0),ea(n,e),ti(n,Nn()),t;if(t===6)throw Error(Ie(345));return n.finishedWork=n.current.alternate,n.finishedLanes=e,Qa(n,Kr,uo),ti(n,Nn()),null}function tb(n,e){var t=Dt;Dt|=1;try{return n(e)}finally{Dt=t,Dt===0&&(yu=Nn()+500,P0&&Ta())}}function Al(n){ia!==null&&ia.tag===0&&!(Dt&6)&&ou();var e=Dt;Dt|=1;var t=Wi.transition,r=Yt;try{if(Wi.transition=null,Yt=1,n)return n()}finally{Yt=r,Wi.transition=t,Dt=e,!(Dt&6)&&Ta()}}function nb(){pi=Kc.current,cn(Kc)}function gl(n,e){n.finishedWork=null,n.finishedLanes=0;var t=n.timeoutHandle;if(t!==-1&&(n.timeoutHandle=-1,BU(t)),Vn!==null)for(t=Vn.return;t!==null;){var r=t;switch(DS(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Og();break;case 3:gu(),cn(Qr),cn(Pr),GS();break;case 5:WS(r);break;case 4:gu();break;case 13:cn(yn);break;case 19:cn(yn);break;case 10:BS(r.type._context);break;case 22:case 23:nb()}t=t.return}if(sr=n,Vn=n=ha(n.current,null),fr=pi=e,qn=0,Af=null,QS=I0=Cl=0,Kr=Qd=null,ll!==null){for(e=0;e<ll.length;e++)if(t=ll[e],r=t.interleaved,r!==null){t.interleaved=null;var i=r.next,s=t.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}t.pending=r}ll=null}return n}function _L(n,e){do{var t=Vn;try{if(zS(),Qm.current=jg,Bg){for(var r=_n.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Bg=!1}if(Tl=0,rr=Xn=_n=null,Jd=!1,Mf=0,ZS.current=null,t===null||t.return===null){qn=1,Af=e,Vn=null;break}e:{var s=n,o=t.return,a=t,l=e;if(e=fr,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,f=a,h=f.tag;if(!(f.mode&1)&&(h===0||h===11||h===15)){var p=f.alternate;p?(f.updateQueue=p.updateQueue,f.memoizedState=p.memoizedState,f.lanes=p.lanes):(f.updateQueue=null,f.memoizedState=null)}var g=v2(o);if(g!==null){g.flags&=-257,y2(g,o,a,s,e),g.mode&1&&g2(s,u,e),e=g,l=u;var v=e.updateQueue;if(v===null){var x=new Set;x.add(l),e.updateQueue=x}else v.add(l);break e}else{if(!(e&1)){g2(s,u,e),rb();break e}l=Error(Ie(426))}}else if(hn&&a.mode&1){var _=v2(o);if(_!==null){!(_.flags&65536)&&(_.flags|=256),y2(_,o,a,s,e),US(vu(l,a));break e}}s=l=vu(l,a),qn!==4&&(qn=2),Qd===null?Qd=[s]:Qd.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var m=rL(s,l,e);c2(s,m);break e;case 1:a=l;var w=s.type,S=s.stateNode;if(!(s.flags&128)&&(typeof w.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(da===null||!da.has(S)))){s.flags|=65536,e&=-e,s.lanes|=e;var M=iL(s,a,e);c2(s,M);break e}}s=s.return}while(s!==null)}bL(t)}catch(R){e=R,Vn===t&&t!==null&&(Vn=t=t.return);continue}break}while(1)}function wL(){var n=Hg.current;return Hg.current=jg,n===null?jg:n}function rb(){(qn===0||qn===3||qn===2)&&(qn=4),sr===null||!(Cl&268435455)&&!(I0&268435455)||ea(sr,fr)}function Gg(n,e){var t=Dt;Dt|=2;var r=wL();(sr!==n||fr!==e)&&(uo=null,gl(n,e));do try{d5();break}catch(i){_L(n,i)}while(1);if(zS(),Dt=t,Hg.current=r,Vn!==null)throw Error(Ie(261));return sr=null,fr=0,qn}function d5(){for(;Vn!==null;)SL(Vn)}function f5(){for(;Vn!==null&&!U4();)SL(Vn)}function SL(n){var e=ML(n.alternate,n,pi);n.memoizedProps=n.pendingProps,e===null?bL(n):Vn=e,ZS.current=null}function bL(n){var e=n;do{var t=e.alternate;if(n=e.return,e.flags&32768){if(t=s5(t,e),t!==null){t.flags&=32767,Vn=t;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{qn=6,Vn=null;return}}else if(t=i5(t,e,pi),t!==null){Vn=t;return}if(e=e.sibling,e!==null){Vn=e;return}Vn=e=n}while(e!==null);qn===0&&(qn=5)}function Qa(n,e,t){var r=Yt,i=Wi.transition;try{Wi.transition=null,Yt=1,h5(n,e,t,r)}finally{Wi.transition=i,Yt=r}return null}function h5(n,e,t,r){do ou();while(ia!==null);if(Dt&6)throw Error(Ie(327));t=n.finishedWork;var i=n.finishedLanes;if(t===null)return null;if(n.finishedWork=null,n.finishedLanes=0,t===n.current)throw Error(Ie(177));n.callbackNode=null,n.callbackPriority=0;var s=t.lanes|t.childLanes;if(X4(n,s),n===sr&&(Vn=sr=null,fr=0),!(t.subtreeFlags&2064)&&!(t.flags&2064)||Xp||(Xp=!0,TL(Tg,function(){return ou(),null})),s=(t.flags&15990)!==0,t.subtreeFlags&15990||s){s=Wi.transition,Wi.transition=null;var o=Yt;Yt=1;var a=Dt;Dt|=4,ZS.current=null,a5(n,t),vL(t,n),kU(v1),Ag=!!g1,v1=g1=null,n.current=t,l5(t),F4(),Dt=a,Yt=o,Wi.transition=s}else n.current=t;if(Xp&&(Xp=!1,ia=n,Wg=i),s=n.pendingLanes,s===0&&(da=null),j4(t.stateNode),ti(n,Nn()),e!==null)for(r=n.onRecoverableError,t=0;t<e.length;t++)i=e[t],r(i.value,{componentStack:i.stack,digest:i.digest});if(Vg)throw Vg=!1,n=U1,U1=null,n;return Wg&1&&n.tag!==0&&ou(),s=n.pendingLanes,s&1?n===F1?ef++:(ef=0,F1=n):ef=0,Ta(),null}function ou(){if(ia!==null){var n=n3(Wg),e=Wi.transition,t=Yt;try{if(Wi.transition=null,Yt=16>n?16:n,ia===null)var r=!1;else{if(n=ia,ia=null,Wg=0,Dt&6)throw Error(Ie(331));var i=Dt;for(Dt|=4,Je=n.current;Je!==null;){var s=Je,o=s.child;if(Je.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(Je=u;Je!==null;){var f=Je;switch(f.tag){case 0:case 11:case 15:Zd(8,f,s)}var h=f.child;if(h!==null)h.return=f,Je=h;else for(;Je!==null;){f=Je;var p=f.sibling,g=f.return;if(pL(f),f===u){Je=null;break}if(p!==null){p.return=g,Je=p;break}Je=g}}}var v=s.alternate;if(v!==null){var x=v.child;if(x!==null){v.child=null;do{var _=x.sibling;x.sibling=null,x=_}while(x!==null)}}Je=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,Je=o;else e:for(;Je!==null;){if(s=Je,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Zd(9,s,s.return)}var m=s.sibling;if(m!==null){m.return=s.return,Je=m;break e}Je=s.return}}var w=n.current;for(Je=w;Je!==null;){o=Je;var S=o.child;if(o.subtreeFlags&2064&&S!==null)S.return=o,Je=S;else e:for(o=w;Je!==null;){if(a=Je,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:k0(9,a)}}catch(R){An(a,a.return,R)}if(a===o){Je=null;break e}var M=a.sibling;if(M!==null){M.return=a.return,Je=M;break e}Je=a.return}}if(Dt=i,Ta(),zs&&typeof zs.onPostCommitFiberRoot=="function")try{zs.onPostCommitFiberRoot(M0,n)}catch{}r=!0}return r}finally{Yt=t,Wi.transition=e}}return!1}function L2(n,e,t){e=vu(t,e),e=rL(n,e,1),n=ua(n,e,1),e=Fr(),n!==null&&(ah(n,1,e),ti(n,e))}function An(n,e,t){if(n.tag===3)L2(n,n,t);else for(;e!==null;){if(e.tag===3){L2(e,n,t);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(da===null||!da.has(r))){n=vu(t,n),n=iL(e,n,1),e=ua(e,n,1),n=Fr(),e!==null&&(ah(e,1,n),ti(e,n));break}}e=e.return}}function p5(n,e,t){var r=n.pingCache;r!==null&&r.delete(e),e=Fr(),n.pingedLanes|=n.suspendedLanes&t,sr===n&&(fr&t)===t&&(qn===4||qn===3&&(fr&130023424)===fr&&500>Nn()-eb?gl(n,0):QS|=t),ti(n,e)}function EL(n,e){e===0&&(n.mode&1?(e=Up,Up<<=1,!(Up&130023424)&&(Up=4194304)):e=1);var t=Fr();n=Eo(n,e),n!==null&&(ah(n,e,t),ti(n,t))}function m5(n){var e=n.memoizedState,t=0;e!==null&&(t=e.retryLane),EL(n,t)}function g5(n,e){var t=0;switch(n.tag){case 13:var r=n.stateNode,i=n.memoizedState;i!==null&&(t=i.retryLane);break;case 19:r=n.stateNode;break;default:throw Error(Ie(314))}r!==null&&r.delete(e),EL(n,t)}var ML;ML=function(n,e,t){if(n!==null)if(n.memoizedProps!==e.pendingProps||Qr.current)Zr=!0;else{if(!(n.lanes&t)&&!(e.flags&128))return Zr=!1,r5(n,e,t);Zr=!!(n.flags&131072)}else Zr=!1,hn&&e.flags&1048576&&A3(e,Ng,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;tg(n,e),n=e.pendingProps;var i=hu(e,Pr.current);su(e,t),i=XS(null,e,r,n,i,t);var s=qS();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,ei(r)?(s=!0,kg(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,HS(e),i.updater=L0,e.stateNode=i,i._reactInternals=e,T1(e,r,n,t),e=R1(null,e,r,!0,s,t)):(e.tag=0,hn&&s&&NS(e),Ur(null,e,i,t),e=e.child),e;case 16:r=e.elementType;e:{switch(tg(n,e),n=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=y5(r),n=ns(r,n),i){case 0:e=A1(null,e,r,n,t);break e;case 1:e=w2(null,e,r,n,t);break e;case 11:e=x2(null,e,r,n,t);break e;case 14:e=_2(null,e,r,ns(r.type,n),t);break e}throw Error(Ie(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:ns(r,i),A1(n,e,r,i,t);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:ns(r,i),w2(n,e,r,i,t);case 3:e:{if(lL(e),n===null)throw Error(Ie(387));r=e.pendingProps,s=e.memoizedState,i=s.element,O3(n,e),Fg(e,r,null,t);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=vu(Error(Ie(423)),e),e=S2(n,e,r,t,i);break e}else if(r!==i){i=vu(Error(Ie(424)),e),e=S2(n,e,r,t,i);break e}else for(vi=ca(e.stateNode.containerInfo.firstChild),xi=e,hn=!0,ss=null,t=D3(e,null,r,t),e.child=t;t;)t.flags=t.flags&-3|4096,t=t.sibling;else{if(pu(),r===i){e=Mo(n,e,t);break e}Ur(n,e,r,t)}e=e.child}return e;case 5:return U3(e),n===null&&b1(e),r=e.type,i=e.pendingProps,s=n!==null?n.memoizedProps:null,o=i.children,y1(r,i)?o=null:s!==null&&y1(r,s)&&(e.flags|=32),aL(n,e),Ur(n,e,o,t),e.child;case 6:return n===null&&b1(e),null;case 13:return cL(n,e,t);case 4:return VS(e,e.stateNode.containerInfo),r=e.pendingProps,n===null?e.child=mu(e,null,r,t):Ur(n,e,r,t),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:ns(r,i),x2(n,e,r,i,t);case 7:return Ur(n,e,e.pendingProps,t),e.child;case 8:return Ur(n,e,e.pendingProps.children,t),e.child;case 12:return Ur(n,e,e.pendingProps.children,t),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,sn(Dg,r._currentValue),r._currentValue=o,s!==null)if(fs(s.value,o)){if(s.children===i.children&&!Qr.current){e=Mo(n,e,t);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=yo(-1,t&-t),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var f=u.pending;f===null?l.next=l:(l.next=f.next,f.next=l),u.pending=l}}s.lanes|=t,l=s.alternate,l!==null&&(l.lanes|=t),E1(s.return,t,e),a.lanes|=t;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(Ie(341));o.lanes|=t,a=o.alternate,a!==null&&(a.lanes|=t),E1(o,t,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Ur(n,e,i.children,t),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,su(e,t),i=$i(i),r=r(i),e.flags|=1,Ur(n,e,r,t),e.child;case 14:return r=e.type,i=ns(r,e.pendingProps),i=ns(r.type,i),_2(n,e,r,i,t);case 15:return sL(n,e,e.type,e.pendingProps,t);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:ns(r,i),tg(n,e),e.tag=1,ei(r)?(n=!0,kg(e)):n=!1,su(e,t),I3(e,r,i),T1(e,r,i,t),R1(null,e,r,!0,n,t);case 19:return uL(n,e,t);case 22:return oL(n,e,t)}throw Error(Ie(156,e.tag))};function TL(n,e){return ZP(n,e)}function v5(n,e,t,r){this.tag=n,this.key=t,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Vi(n,e,t,r){return new v5(n,e,t,r)}function ib(n){return n=n.prototype,!(!n||!n.isReactComponent)}function y5(n){if(typeof n=="function")return ib(n)?1:0;if(n!=null){if(n=n.$$typeof,n===bS)return 11;if(n===ES)return 14}return 2}function ha(n,e){var t=n.alternate;return t===null?(t=Vi(n.tag,e,n.key,n.mode),t.elementType=n.elementType,t.type=n.type,t.stateNode=n.stateNode,t.alternate=n,n.alternate=t):(t.pendingProps=e,t.type=n.type,t.flags=0,t.subtreeFlags=0,t.deletions=null),t.flags=n.flags&14680064,t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},t.sibling=n.sibling,t.index=n.index,t.ref=n.ref,t}function ig(n,e,t,r,i,s){var o=2;if(r=n,typeof n=="function")ib(n)&&(o=1);else if(typeof n=="string")o=5;else e:switch(n){case Bc:return vl(t.children,i,s,e);case SS:o=8,i|=8;break;case K_:return n=Vi(12,t,e,i|2),n.elementType=K_,n.lanes=s,n;case J_:return n=Vi(13,t,e,i),n.elementType=J_,n.lanes=s,n;case Z_:return n=Vi(19,t,e,i),n.elementType=Z_,n.lanes=s,n;case NP:return N0(t,i,s,e);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case kP:o=10;break e;case IP:o=9;break e;case bS:o=11;break e;case ES:o=14;break e;case qo:o=16,r=null;break e}throw Error(Ie(130,n==null?n:typeof n,""))}return e=Vi(o,t,e,i),e.elementType=n,e.type=r,e.lanes=s,e}function vl(n,e,t,r){return n=Vi(7,n,r,e),n.lanes=t,n}function N0(n,e,t,r){return n=Vi(22,n,r,e),n.elementType=NP,n.lanes=t,n.stateNode={isHidden:!1},n}function Ox(n,e,t){return n=Vi(6,n,null,e),n.lanes=t,n}function kx(n,e,t){return e=Vi(4,n.children!==null?n.children:[],n.key,e),e.lanes=t,e.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},e}function x5(n,e,t,r,i){this.tag=e,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=hx(0),this.expirationTimes=hx(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=hx(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function sb(n,e,t,r,i,s,o,a,l){return n=new x5(n,e,t,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Vi(3,null,null,e),n.current=s,s.stateNode=n,s.memoizedState={element:r,isDehydrated:t,cache:null,transitions:null,pendingSuspenseBoundaries:null},HS(s),n}function _5(n,e,t){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:zc,key:r==null?null:""+r,children:n,containerInfo:e,implementation:t}}function CL(n){if(!n)return xa;n=n._reactInternals;e:{if(Dl(n)!==n||n.tag!==1)throw Error(Ie(170));var e=n;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(ei(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Ie(171))}if(n.tag===1){var t=n.type;if(ei(t))return T3(n,t,e)}return e}function AL(n,e,t,r,i,s,o,a,l){return n=sb(t,r,!0,n,i,s,o,a,l),n.context=CL(null),t=n.current,r=Fr(),i=fa(t),s=yo(r,i),s.callback=e??null,ua(t,s,i),n.current.lanes=i,ah(n,i,r),ti(n,r),n}function D0(n,e,t,r){var i=e.current,s=Fr(),o=fa(i);return t=CL(t),e.context===null?e.context=t:e.pendingContext=t,e=yo(s,o),e.payload={element:n},r=r===void 0?null:r,r!==null&&(e.callback=r),n=ua(i,e,o),n!==null&&(cs(n,i,o,s),Zm(n,i,o)),o}function $g(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function O2(n,e){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var t=n.retryLane;n.retryLane=t!==0&&t<e?t:e}}function ob(n,e){O2(n,e),(n=n.alternate)&&O2(n,e)}function w5(){return null}var RL=typeof reportError=="function"?reportError:function(n){console.error(n)};function ab(n){this._internalRoot=n}U0.prototype.render=ab.prototype.render=function(n){var e=this._internalRoot;if(e===null)throw Error(Ie(409));D0(n,e,null,null)};U0.prototype.unmount=ab.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var e=n.containerInfo;Al(function(){D0(null,n,null,null)}),e[bo]=null}};function U0(n){this._internalRoot=n}U0.prototype.unstable_scheduleHydration=function(n){if(n){var e=s3();n={blockedOn:null,target:n,priority:e};for(var t=0;t<Qo.length&&e!==0&&e<Qo[t].priority;t++);Qo.splice(t,0,n),t===0&&a3(n)}};function lb(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function F0(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function k2(){}function S5(n,e,t,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=$g(o);s.call(u)}}var o=AL(e,r,n,0,null,!1,!1,"",k2);return n._reactRootContainer=o,n[bo]=o.current,_f(n.nodeType===8?n.parentNode:n),Al(),o}for(;i=n.lastChild;)n.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=$g(l);a.call(u)}}var l=sb(n,0,!1,null,null,!1,!1,"",k2);return n._reactRootContainer=l,n[bo]=l.current,_f(n.nodeType===8?n.parentNode:n),Al(function(){D0(e,l,t,r)}),l}function z0(n,e,t,r,i){var s=t._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=$g(o);a.call(l)}}D0(e,o,n,i)}else o=S5(t,e,n,i,r);return $g(o)}r3=function(n){switch(n.tag){case 3:var e=n.stateNode;if(e.current.memoizedState.isDehydrated){var t=zd(e.pendingLanes);t!==0&&(CS(e,t|1),ti(e,Nn()),!(Dt&6)&&(yu=Nn()+500,Ta()))}break;case 13:Al(function(){var r=Eo(n,1);if(r!==null){var i=Fr();cs(r,n,1,i)}}),ob(n,1)}};AS=function(n){if(n.tag===13){var e=Eo(n,134217728);if(e!==null){var t=Fr();cs(e,n,134217728,t)}ob(n,134217728)}};i3=function(n){if(n.tag===13){var e=fa(n),t=Eo(n,e);if(t!==null){var r=Fr();cs(t,n,e,r)}ob(n,e)}};s3=function(){return Yt};o3=function(n,e){var t=Yt;try{return Yt=n,e()}finally{Yt=t}};l1=function(n,e,t){switch(e){case"input":if(t1(n,t),e=t.name,t.type==="radio"&&e!=null){for(t=n;t.parentNode;)t=t.parentNode;for(t=t.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<t.length;e++){var r=t[e];if(r!==n&&r.form===n.form){var i=R0(r);if(!i)throw Error(Ie(90));UP(r),t1(r,i)}}}break;case"textarea":zP(n,t);break;case"select":e=t.value,e!=null&&tu(n,!!t.multiple,e,!1)}};$P=tb;XP=Al;var b5={usingClientEntryPoint:!1,Events:[ch,Wc,R0,WP,GP,tb]},vd={findFiberByHostInstance:al,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},E5={bundleType:vd.bundleType,version:vd.version,rendererPackageName:vd.rendererPackageName,rendererConfig:vd.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ao.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=KP(n),n===null?null:n.stateNode},findFiberByHostInstance:vd.findFiberByHostInstance||w5,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var qp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!qp.isDisabled&&qp.supportsFiber)try{M0=qp.inject(E5),zs=qp}catch{}}bi.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=b5;bi.createPortal=function(n,e){var t=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!lb(e))throw Error(Ie(200));return _5(n,e,null,t)};bi.createRoot=function(n,e){if(!lb(n))throw Error(Ie(299));var t=!1,r="",i=RL;return e!=null&&(e.unstable_strictMode===!0&&(t=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=sb(n,1,!1,null,null,t,!1,r,i),n[bo]=e.current,_f(n.nodeType===8?n.parentNode:n),new ab(e)};bi.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var e=n._reactInternals;if(e===void 0)throw typeof n.render=="function"?Error(Ie(188)):(n=Object.keys(n).join(","),Error(Ie(268,n)));return n=KP(e),n=n===null?null:n.stateNode,n};bi.flushSync=function(n){return Al(n)};bi.hydrate=function(n,e,t){if(!F0(e))throw Error(Ie(200));return z0(null,n,e,!0,t)};bi.hydrateRoot=function(n,e,t){if(!lb(n))throw Error(Ie(405));var r=t!=null&&t.hydratedSources||null,i=!1,s="",o=RL;if(t!=null&&(t.unstable_strictMode===!0&&(i=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),e=AL(e,null,n,1,t??null,i,!1,s,o),n[bo]=e.current,_f(n),r)for(n=0;n<r.length;n++)t=r[n],i=t._getVersion,i=i(t._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[t,i]:e.mutableSourceEagerHydrationData.push(t,i);return new U0(e)};bi.render=function(n,e,t){if(!F0(e))throw Error(Ie(200));return z0(null,n,e,!1,t)};bi.unmountComponentAtNode=function(n){if(!F0(n))throw Error(Ie(40));return n._reactRootContainer?(Al(function(){z0(null,null,n,!1,function(){n._reactRootContainer=null,n[bo]=null})}),!0):!1};bi.unstable_batchedUpdates=tb;bi.unstable_renderSubtreeIntoContainer=function(n,e,t,r){if(!F0(t))throw Error(Ie(200));if(n==null||n._reactInternals===void 0)throw Error(Ie(38));return z0(n,e,t,!1,r)};bi.version="18.2.0-next-9e3b772b8-20220608";function PL(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(PL)}catch(n){console.error(n)}}PL(),AP.exports=bi;var LL=AP.exports,I2=LL;q_.createRoot=I2.createRoot,q_.hydrateRoot=I2.hydrateRoot;/**
 * @remix-run/router v1.9.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Rf(){return Rf=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Rf.apply(this,arguments)}var sa;(function(n){n.Pop="POP",n.Push="PUSH",n.Replace="REPLACE"})(sa||(sa={}));const N2="popstate";function M5(n){n===void 0&&(n={});function e(r,i){let{pathname:s,search:o,hash:a}=r.location;return j1("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function t(r,i){return typeof i=="string"?i:OL(i)}return C5(e,t,null,n)}function Yn(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function cb(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function T5(){return Math.random().toString(36).substr(2,8)}function D2(n,e){return{usr:n.state,key:n.key,idx:e}}function j1(n,e,t,r){return t===void 0&&(t=null),Rf({pathname:typeof n=="string"?n:n.pathname,search:"",hash:""},typeof e=="string"?Ou(e):e,{state:t,key:e&&e.key||r||T5()})}function OL(n){let{pathname:e="/",search:t="",hash:r=""}=n;return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Ou(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substr(t),n=n.substr(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substr(r),n=n.substr(0,r)),n&&(e.pathname=n)}return e}function C5(n,e,t,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=sa.Pop,l=null,u=f();u==null&&(u=0,o.replaceState(Rf({},o.state,{idx:u}),""));function f(){return(o.state||{idx:null}).idx}function h(){a=sa.Pop;let _=f(),m=_==null?null:_-u;u=_,l&&l({action:a,location:x.location,delta:m})}function p(_,m){a=sa.Push;let w=j1(x.location,_,m);t&&t(w,_),u=f()+1;let S=D2(w,u),M=x.createHref(w);try{o.pushState(S,"",M)}catch(R){if(R instanceof DOMException&&R.name==="DataCloneError")throw R;i.location.assign(M)}s&&l&&l({action:a,location:x.location,delta:1})}function g(_,m){a=sa.Replace;let w=j1(x.location,_,m);t&&t(w,_),u=f();let S=D2(w,u),M=x.createHref(w);o.replaceState(S,"",M),s&&l&&l({action:a,location:x.location,delta:0})}function v(_){let m=i.location.origin!=="null"?i.location.origin:i.location.href,w=typeof _=="string"?_:OL(_);return Yn(m,"No window.location.(origin|href) available to create URL for href: "+w),new URL(w,m)}let x={get action(){return a},get location(){return n(i,o)},listen(_){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(N2,h),l=_,()=>{i.removeEventListener(N2,h),l=null}},createHref(_){return e(i,_)},createURL:v,encodeLocation(_){let m=v(_);return{pathname:m.pathname,search:m.search,hash:m.hash}},push:p,replace:g,go(_){return o.go(_)}};return x}var U2;(function(n){n.data="data",n.deferred="deferred",n.redirect="redirect",n.error="error"})(U2||(U2={}));function A5(n,e,t){t===void 0&&(t="/");let r=typeof e=="string"?Ou(e):e,i=NL(r.pathname||"/",t);if(i==null)return null;let s=kL(n);R5(s);let o=null;for(let a=0;o==null&&a<s.length;++a)o=F5(s[a],j5(i));return o}function kL(n,e,t,r){e===void 0&&(e=[]),t===void 0&&(t=[]),r===void 0&&(r="");let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(Yn(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=yl([r,l.relativePath]),f=t.concat(l);s.children&&s.children.length>0&&(Yn(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),kL(s.children,e,f,u)),!(s.path==null&&!s.index)&&e.push({path:u,score:D5(u,s.index),routesMeta:f})};return n.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of IL(s.path))i(s,o,l)}),e}function IL(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,i=t.endsWith("?"),s=t.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=IL(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>n.startsWith("/")&&l===""?"/":l)}function R5(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:U5(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}const P5=/^:\w+$/,L5=3,O5=2,k5=1,I5=10,N5=-2,F2=n=>n==="*";function D5(n,e){let t=n.split("/"),r=t.length;return t.some(F2)&&(r+=N5),e&&(r+=O5),t.filter(i=>!F2(i)).reduce((i,s)=>i+(P5.test(s)?L5:s===""?k5:I5),r)}function U5(n,e){return n.length===e.length&&n.slice(0,-1).every((r,i)=>r===e[i])?n[n.length-1]-e[e.length-1]:0}function F5(n,e){let{routesMeta:t}=n,r={},i="/",s=[];for(let o=0;o<t.length;++o){let a=t[o],l=o===t.length-1,u=i==="/"?e:e.slice(i.length)||"/",f=z5({path:a.relativePath,caseSensitive:a.caseSensitive,end:l},u);if(!f)return null;Object.assign(r,f.params);let h=a.route;s.push({params:r,pathname:yl([i,f.pathname]),pathnameBase:X5(yl([i,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(i=yl([i,f.pathnameBase]))}return s}function z5(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=B5(n.path,n.caseSensitive,n.end),i=e.match(t);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((u,f,h)=>{if(f==="*"){let p=a[h]||"";o=s.slice(0,s.length-p.length).replace(/(.)\/+$/,"$1")}return u[f]=H5(a[h]||"",f),u},{}),pathname:s,pathnameBase:o,pattern:n}}function B5(n,e,t){e===void 0&&(e=!1),t===void 0&&(t=!0),cb(n==="*"||!n.endsWith("*")||n.endsWith("/*"),'Route path "'+n+'" will be treated as if it were '+('"'+n.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+n.replace(/\*$/,"/*")+'".'));let r=[],i="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(o,a)=>(r.push(a),"/([^\\/]+)"));return n.endsWith("*")?(r.push("*"),i+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?i+="\\/*$":n!==""&&n!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function j5(n){try{return decodeURI(n)}catch(e){return cb(!1,'The URL path "'+n+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),n}}function H5(n,e){try{return decodeURIComponent(n)}catch(t){return cb(!1,'The value for the URL param "'+e+'" will not be decoded because'+(' the string "'+n+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+t+").")),n}}function NL(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}function V5(n,e){e===void 0&&(e="/");let{pathname:t,search:r="",hash:i=""}=typeof n=="string"?Ou(n):n;return{pathname:t?t.startsWith("/")?t:W5(t,e):e,search:q5(r),hash:Y5(i)}}function W5(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(i=>{i===".."?t.length>1&&t.pop():i!=="."&&t.push(i)}),t.length>1?t.join("/"):"/"}function Ix(n,e,t,r){return"Cannot include a '"+n+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+t+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function G5(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function $5(n,e,t,r){r===void 0&&(r=!1);let i;typeof n=="string"?i=Ou(n):(i=Rf({},n),Yn(!i.pathname||!i.pathname.includes("?"),Ix("?","pathname","search",i)),Yn(!i.pathname||!i.pathname.includes("#"),Ix("#","pathname","hash",i)),Yn(!i.search||!i.search.includes("#"),Ix("#","search","hash",i)));let s=n===""||i.pathname==="",o=s?"/":i.pathname,a;if(r||o==null)a=t;else{let h=e.length-1;if(o.startsWith("..")){let p=o.split("/");for(;p[0]==="..";)p.shift(),h-=1;i.pathname=p.join("/")}a=h>=0?e[h]:"/"}let l=V5(i,a),u=o&&o!=="/"&&o.endsWith("/"),f=(s||o===".")&&t.endsWith("/");return!l.pathname.endsWith("/")&&(u||f)&&(l.pathname+="/"),l}const yl=n=>n.join("/").replace(/\/\/+/g,"/"),X5=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),q5=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,Y5=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function K5(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}const DL=["post","put","patch","delete"];new Set(DL);const J5=["get",...DL];new Set(J5);/**
 * React Router v6.16.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Xg(){return Xg=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Xg.apply(this,arguments)}const ub=N.createContext(null),Z5=N.createContext(null),B0=N.createContext(null),j0=N.createContext(null),Ul=N.createContext({outlet:null,matches:[],isDataRoute:!1}),UL=N.createContext(null);function H0(){return N.useContext(j0)!=null}function dh(){return H0()||Yn(!1),N.useContext(j0).location}function FL(n){N.useContext(B0).static||N.useLayoutEffect(n)}function gs(){let{isDataRoute:n}=N.useContext(Ul);return n?fF():Q5()}function Q5(){H0()||Yn(!1);let n=N.useContext(ub),{basename:e,navigator:t}=N.useContext(B0),{matches:r}=N.useContext(Ul),{pathname:i}=dh(),s=JSON.stringify(G5(r).map(l=>l.pathnameBase)),o=N.useRef(!1);return FL(()=>{o.current=!0}),N.useCallback(function(l,u){if(u===void 0&&(u={}),!o.current)return;if(typeof l=="number"){t.go(l);return}let f=$5(l,JSON.parse(s),i,u.relative==="path");n==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:yl([e,f.pathname])),(u.replace?t.replace:t.push)(f,u.state,u)},[e,t,s,i,n])}function eF(){let{matches:n}=N.useContext(Ul),e=n[n.length-1];return e?e.params:{}}function tF(n,e){return nF(n,e)}function nF(n,e,t){H0()||Yn(!1);let{navigator:r}=N.useContext(B0),{matches:i}=N.useContext(Ul),s=i[i.length-1],o=s?s.params:{};s&&s.pathname;let a=s?s.pathnameBase:"/";s&&s.route;let l=dh(),u;if(e){var f;let x=typeof e=="string"?Ou(e):e;a==="/"||(f=x.pathname)!=null&&f.startsWith(a)||Yn(!1),u=x}else u=l;let h=u.pathname||"/",p=a==="/"?h:h.slice(a.length)||"/",g=A5(n,{pathname:p}),v=aF(g&&g.map(x=>Object.assign({},x,{params:Object.assign({},o,x.params),pathname:yl([a,r.encodeLocation?r.encodeLocation(x.pathname).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?a:yl([a,r.encodeLocation?r.encodeLocation(x.pathnameBase).pathname:x.pathnameBase])})),i,t);return e&&v?N.createElement(j0.Provider,{value:{location:Xg({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:sa.Pop}},v):v}function rF(){let n=dF(),e=K5(n)?n.status+" "+n.statusText:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},s=null;return N.createElement(N.Fragment,null,N.createElement("h2",null,"Unexpected Application Error!"),N.createElement("h3",{style:{fontStyle:"italic"}},e),t?N.createElement("pre",{style:i},t):null,s)}const iF=N.createElement(rF,null);class sF extends N.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error||t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error?N.createElement(Ul.Provider,{value:this.props.routeContext},N.createElement(UL.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function oF(n){let{routeContext:e,match:t,children:r}=n,i=N.useContext(ub);return i&&i.static&&i.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=t.route.id),N.createElement(Ul.Provider,{value:e},r)}function aF(n,e,t){var r;if(e===void 0&&(e=[]),t===void 0&&(t=null),n==null){var i;if((i=t)!=null&&i.errors)n=t.matches;else return null}let s=n,o=(r=t)==null?void 0:r.errors;if(o!=null){let a=s.findIndex(l=>l.route.id&&(o==null?void 0:o[l.route.id]));a>=0||Yn(!1),s=s.slice(0,Math.min(s.length,a+1))}return s.reduceRight((a,l,u)=>{let f=l.route.id?o==null?void 0:o[l.route.id]:null,h=null;t&&(h=l.route.errorElement||iF);let p=e.concat(s.slice(0,u+1)),g=()=>{let v;return f?v=h:l.route.Component?v=N.createElement(l.route.Component,null):l.route.element?v=l.route.element:v=a,N.createElement(oF,{match:l,routeContext:{outlet:a,matches:p,isDataRoute:t!=null},children:v})};return t&&(l.route.ErrorBoundary||l.route.errorElement||u===0)?N.createElement(sF,{location:t.location,revalidation:t.revalidation,component:h,error:f,children:g(),routeContext:{outlet:null,matches:p,isDataRoute:!0}}):g()},null)}var zL=function(n){return n.UseBlocker="useBlocker",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n}(zL||{}),qg=function(n){return n.UseBlocker="useBlocker",n.UseLoaderData="useLoaderData",n.UseActionData="useActionData",n.UseRouteError="useRouteError",n.UseNavigation="useNavigation",n.UseRouteLoaderData="useRouteLoaderData",n.UseMatches="useMatches",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n.UseRouteId="useRouteId",n}(qg||{});function lF(n){let e=N.useContext(ub);return e||Yn(!1),e}function cF(n){let e=N.useContext(Z5);return e||Yn(!1),e}function uF(n){let e=N.useContext(Ul);return e||Yn(!1),e}function BL(n){let e=uF(),t=e.matches[e.matches.length-1];return t.route.id||Yn(!1),t.route.id}function dF(){var n;let e=N.useContext(UL),t=cF(qg.UseRouteError),r=BL(qg.UseRouteError);return e||((n=t.errors)==null?void 0:n[r])}function fF(){let{router:n}=lF(zL.UseNavigateStable),e=BL(qg.UseNavigateStable),t=N.useRef(!1);return FL(()=>{t.current=!0}),N.useCallback(function(i,s){s===void 0&&(s={}),t.current&&(typeof i=="number"?n.navigate(i):n.navigate(i,Xg({fromRouteId:e},s)))},[n,e])}function cr(n){Yn(!1)}function hF(n){let{basename:e="/",children:t=null,location:r,navigationType:i=sa.Pop,navigator:s,static:o=!1}=n;H0()&&Yn(!1);let a=e.replace(/^\/*/,"/"),l=N.useMemo(()=>({basename:a,navigator:s,static:o}),[a,s,o]);typeof r=="string"&&(r=Ou(r));let{pathname:u="/",search:f="",hash:h="",state:p=null,key:g="default"}=r,v=N.useMemo(()=>{let x=NL(u,a);return x==null?null:{location:{pathname:x,search:f,hash:h,state:p,key:g},navigationType:i}},[a,u,f,h,p,g,i]);return v==null?null:N.createElement(B0.Provider,{value:l},N.createElement(j0.Provider,{children:t,value:v}))}function pF(n){let{children:e,location:t}=n;return tF(H1(e),t)}new Promise(()=>{});function H1(n,e){e===void 0&&(e=[]);let t=[];return N.Children.forEach(n,(r,i)=>{if(!N.isValidElement(r))return;let s=[...e,i];if(r.type===N.Fragment){t.push.apply(t,H1(r.props.children,s));return}r.type!==cr&&Yn(!1),!r.props.index||!r.props.children||Yn(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=H1(r.props.children,s)),t.push(o)}),t}/**
 * React Router DOM v6.16.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const mF="startTransition",z2=Sg[mF];function gF(n){let{basename:e,children:t,future:r,window:i}=n,s=N.useRef();s.current==null&&(s.current=M5({window:i,v5Compat:!0}));let o=s.current,[a,l]=N.useState({action:o.action,location:o.location}),{v7_startTransition:u}=r||{},f=N.useCallback(h=>{u&&z2?z2(()=>l(h)):l(h)},[l,u]);return N.useLayoutEffect(()=>o.listen(f),[o,f]),N.createElement(hF,{basename:e,children:t,location:a.location,navigationType:a.action,navigator:o})}var B2;(function(n){n.UseScrollRestoration="useScrollRestoration",n.UseSubmit="useSubmit",n.UseSubmitFetcher="useSubmitFetcher",n.UseFetcher="useFetcher"})(B2||(B2={}));var j2;(function(n){n.UseFetchers="useFetchers",n.UseScrollRestoration="useScrollRestoration"})(j2||(j2={}));/**
 * @license
 * Copyright 2010-2023 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const V0="154",el={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},tl={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},jL=0,V1=1,HL=2,vF=3,yF=0,db=1,W0=2,Ls=3,To=0,zr=1,as=2,xF=2,xo=0,xl=1,W1=2,G1=3,$1=4,VL=5,rl=100,WL=101,GL=102,X1=103,q1=104,$L=200,XL=201,qL=202,YL=203,fb=204,hb=205,KL=206,JL=207,ZL=208,QL=209,eO=210,tO=0,nO=1,rO=2,Yg=3,iO=4,sO=5,oO=6,aO=7,fh=0,lO=1,cO=2,us=0,uO=1,dO=2,fO=3,pb=4,hO=5,G0=300,_a=301,wa=302,Pf=303,Lf=304,ku=306,Of=1e3,Ar=1001,kf=1002,In=1003,Kg=1004,_F=1004,tf=1005,wF=1005,Dn=1006,mb=1007,SF=1007,Sa=1008,bF=1008,_o=1009,pO=1010,mO=1011,$0=1012,gb=1013,vo=1014,Ds=1015,xu=1016,vb=1017,yb=1018,pa=1020,gO=1021,mi=1023,vO=1024,yO=1025,ma=1026,Rl=1027,xO=1028,xb=1029,_O=1030,_b=1031,wb=1033,sg=33776,og=33777,ag=33778,lg=33779,Y1=35840,K1=35841,J1=35842,Z1=35843,wO=36196,Q1=37492,ew=37496,tw=37808,nw=37809,rw=37810,iw=37811,sw=37812,ow=37813,aw=37814,lw=37815,cw=37816,uw=37817,dw=37818,fw=37819,hw=37820,pw=37821,cg=36492,SO=36283,mw=36284,gw=36285,vw=36286,bO=2200,EO=2201,MO=2202,If=2300,Nf=2301,ug=2302,ul=2400,dl=2401,Df=2402,X0=2500,Sb=2501,EF=0,MF=1,TF=2,q0=3e3,js=3001,TO=3200,CO=3201,Ca=0,AO=1,ga="",_t="srgb",hs="srgb-linear",bb="display-p3",CF=0,dg=7680,AF=7681,RF=7682,PF=7683,LF=34055,OF=34056,kF=5386,IF=512,NF=513,DF=514,UF=515,FF=516,zF=517,BF=518,RO=519,PO=512,LO=513,OO=514,kO=515,IO=516,NO=517,DO=518,UO=519,Uf=35044,jF=35048,HF=35040,VF=35045,WF=35049,GF=35041,$F=35046,XF=35050,qF=35042,YF="100",yw="300 es",Jg=1035,Us=2e3,Ff=2001;class Gs{addEventListener(e,t){this._listeners===void 0&&(this._listeners={});const r=this._listeners;r[e]===void 0&&(r[e]=[]),r[e].indexOf(t)===-1&&r[e].push(t)}hasEventListener(e,t){if(this._listeners===void 0)return!1;const r=this._listeners;return r[e]!==void 0&&r[e].indexOf(t)!==-1}removeEventListener(e,t){if(this._listeners===void 0)return;const i=this._listeners[e];if(i!==void 0){const s=i.indexOf(t);s!==-1&&i.splice(s,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const r=this._listeners[e.type];if(r!==void 0){e.target=this;const i=r.slice(0);for(let s=0,o=i.length;s<o;s++)i[s].call(this,e);e.target=null}}}const br=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let H2=1234567;const _l=Math.PI/180,_u=180/Math.PI;function _i(){const n=Math.random()*4294967295|0,e=Math.random()*4294967295|0,t=Math.random()*4294967295|0,r=Math.random()*4294967295|0;return(br[n&255]+br[n>>8&255]+br[n>>16&255]+br[n>>24&255]+"-"+br[e&255]+br[e>>8&255]+"-"+br[e>>16&15|64]+br[e>>24&255]+"-"+br[t&63|128]+br[t>>8&255]+"-"+br[t>>16&255]+br[t>>24&255]+br[r&255]+br[r>>8&255]+br[r>>16&255]+br[r>>24&255]).toLowerCase()}function Pn(n,e,t){return Math.max(e,Math.min(t,n))}function Eb(n,e){return(n%e+e)%e}function KF(n,e,t,r,i){return r+(n-e)*(i-r)/(t-e)}function JF(n,e,t){return n!==e?(t-n)/(e-n):0}function nf(n,e,t){return(1-t)*n+t*e}function ZF(n,e,t,r){return nf(n,e,1-Math.exp(-t*r))}function QF(n,e=1){return e-Math.abs(Eb(n,e*2)-e)}function ez(n,e,t){return n<=e?0:n>=t?1:(n=(n-e)/(t-e),n*n*(3-2*n))}function tz(n,e,t){return n<=e?0:n>=t?1:(n=(n-e)/(t-e),n*n*n*(n*(n*6-15)+10))}function nz(n,e){return n+Math.floor(Math.random()*(e-n+1))}function rz(n,e){return n+Math.random()*(e-n)}function iz(n){return n*(.5-Math.random())}function sz(n){n!==void 0&&(H2=n);let e=H2+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296}function oz(n){return n*_l}function az(n){return n*_u}function xw(n){return(n&n-1)===0&&n!==0}function FO(n){return Math.pow(2,Math.ceil(Math.log(n)/Math.LN2))}function Zg(n){return Math.pow(2,Math.floor(Math.log(n)/Math.LN2))}function lz(n,e,t,r,i){const s=Math.cos,o=Math.sin,a=s(t/2),l=o(t/2),u=s((e+r)/2),f=o((e+r)/2),h=s((e-r)/2),p=o((e-r)/2),g=s((r-e)/2),v=o((r-e)/2);switch(i){case"XYX":n.set(a*f,l*h,l*p,a*u);break;case"YZY":n.set(l*p,a*f,l*h,a*u);break;case"ZXZ":n.set(l*h,l*p,a*f,a*u);break;case"XZX":n.set(a*f,l*v,l*g,a*u);break;case"YXY":n.set(l*g,a*f,l*v,a*u);break;case"ZYZ":n.set(l*v,l*g,a*f,a*u);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+i)}}function yi(n,e){switch(e.constructor){case Float32Array:return n;case Uint32Array:return n/4294967295;case Uint16Array:return n/65535;case Uint8Array:return n/255;case Int32Array:return Math.max(n/2147483647,-1);case Int16Array:return Math.max(n/32767,-1);case Int8Array:return Math.max(n/127,-1);default:throw new Error("Invalid component type.")}}function Mt(n,e){switch(e.constructor){case Float32Array:return n;case Uint32Array:return Math.round(n*4294967295);case Uint16Array:return Math.round(n*65535);case Uint8Array:return Math.round(n*255);case Int32Array:return Math.round(n*2147483647);case Int16Array:return Math.round(n*32767);case Int8Array:return Math.round(n*127);default:throw new Error("Invalid component type.")}}const cz={DEG2RAD:_l,RAD2DEG:_u,generateUUID:_i,clamp:Pn,euclideanModulo:Eb,mapLinear:KF,inverseLerp:JF,lerp:nf,damp:ZF,pingpong:QF,smoothstep:ez,smootherstep:tz,randInt:nz,randFloat:rz,randFloatSpread:iz,seededRandom:sz,degToRad:oz,radToDeg:az,isPowerOfTwo:xw,ceilPowerOfTwo:FO,floorPowerOfTwo:Zg,setQuaternionFromProperEuler:lz,normalize:Mt,denormalize:yi};class _e{constructor(e=0,t=0){_e.prototype.isVector2=!0,this.x=e,this.y=t}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,t){return this.x=e,this.y=t,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const t=this.x,r=this.y,i=e.elements;return this.x=i[0]*t+i[3]*r+i[6],this.y=i[1]*t+i[4]*r+i[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this}clampLength(e,t){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(t,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;const r=this.dot(e)/t;return Math.acos(Pn(r,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,r=this.y-e.y;return t*t+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this}lerpVectors(e,t,r){return this.x=e.x+(t.x-e.x)*r,this.y=e.y+(t.y-e.y)*r,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this}rotateAround(e,t){const r=Math.cos(t),i=Math.sin(t),s=this.x-e.x,o=this.y-e.y;return this.x=s*r-o*i+e.x,this.y=s*i+o*r+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class Et{constructor(e,t,r,i,s,o,a,l,u){Et.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],e!==void 0&&this.set(e,t,r,i,s,o,a,l,u)}set(e,t,r,i,s,o,a,l,u){const f=this.elements;return f[0]=e,f[1]=i,f[2]=a,f[3]=t,f[4]=s,f[5]=l,f[6]=r,f[7]=o,f[8]=u,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const t=this.elements,r=e.elements;return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[4]=r[4],t[5]=r[5],t[6]=r[6],t[7]=r[7],t[8]=r[8],this}extractBasis(e,t,r){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),r.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const r=e.elements,i=t.elements,s=this.elements,o=r[0],a=r[3],l=r[6],u=r[1],f=r[4],h=r[7],p=r[2],g=r[5],v=r[8],x=i[0],_=i[3],m=i[6],w=i[1],S=i[4],M=i[7],R=i[2],P=i[5],L=i[8];return s[0]=o*x+a*w+l*R,s[3]=o*_+a*S+l*P,s[6]=o*m+a*M+l*L,s[1]=u*x+f*w+h*R,s[4]=u*_+f*S+h*P,s[7]=u*m+f*M+h*L,s[2]=p*x+g*w+v*R,s[5]=p*_+g*S+v*P,s[8]=p*m+g*M+v*L,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this}determinant(){const e=this.elements,t=e[0],r=e[1],i=e[2],s=e[3],o=e[4],a=e[5],l=e[6],u=e[7],f=e[8];return t*o*f-t*a*u-r*s*f+r*a*l+i*s*u-i*o*l}invert(){const e=this.elements,t=e[0],r=e[1],i=e[2],s=e[3],o=e[4],a=e[5],l=e[6],u=e[7],f=e[8],h=f*o-a*u,p=a*l-f*s,g=u*s-o*l,v=t*h+r*p+i*g;if(v===0)return this.set(0,0,0,0,0,0,0,0,0);const x=1/v;return e[0]=h*x,e[1]=(i*u-f*r)*x,e[2]=(a*r-i*o)*x,e[3]=p*x,e[4]=(f*t-i*l)*x,e[5]=(i*s-a*t)*x,e[6]=g*x,e[7]=(r*l-u*t)*x,e[8]=(o*t-r*s)*x,this}transpose(){let e;const t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this}setUvTransform(e,t,r,i,s,o,a){const l=Math.cos(s),u=Math.sin(s);return this.set(r*l,r*u,-r*(l*o+u*a)+o+e,-i*u,i*l,-i*(-u*o+l*a)+a+t,0,0,1),this}scale(e,t){return this.premultiply(Nx.makeScale(e,t)),this}rotate(e){return this.premultiply(Nx.makeRotation(-e)),this}translate(e,t){return this.premultiply(Nx.makeTranslation(e,t)),this}makeTranslation(e,t){return e.isVector2?this.set(1,0,e.x,0,1,e.y,0,0,1):this.set(1,0,e,0,1,t,0,0,1),this}makeRotation(e){const t=Math.cos(e),r=Math.sin(e);return this.set(t,-r,0,r,t,0,0,0,1),this}makeScale(e,t){return this.set(e,0,0,0,t,0,0,0,1),this}equals(e){const t=this.elements,r=e.elements;for(let i=0;i<9;i++)if(t[i]!==r[i])return!1;return!0}fromArray(e,t=0){for(let r=0;r<9;r++)this.elements[r]=e[r+t];return this}toArray(e=[],t=0){const r=this.elements;return e[t]=r[0],e[t+1]=r[1],e[t+2]=r[2],e[t+3]=r[3],e[t+4]=r[4],e[t+5]=r[5],e[t+6]=r[6],e[t+7]=r[7],e[t+8]=r[8],e}clone(){return new this.constructor().fromArray(this.elements)}}const Nx=new Et;function zO(n){for(let e=n.length-1;e>=0;--e)if(n[e]>=65535)return!0;return!1}const uz={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function Jc(n,e){return new uz[n](e)}function zf(n){return document.createElementNS("http://www.w3.org/1999/xhtml",n)}const V2={};function rf(n){n in V2||(V2[n]=!0,console.warn(n))}function au(n){return n<.04045?n*.0773993808:Math.pow(n*.9478672986+.0521327014,2.4)}function Dx(n){return n<.0031308?n*12.92:1.055*Math.pow(n,.41666)-.055}const dz=new Et().fromArray([.8224621,.0331941,.0170827,.177538,.9668058,.0723974,-1e-7,1e-7,.9105199]),fz=new Et().fromArray([1.2249401,-.0420569,-.0196376,-.2249404,1.0420571,-.0786361,1e-7,0,1.0982735]);function hz(n){return n.convertSRGBToLinear().applyMatrix3(fz)}function pz(n){return n.applyMatrix3(dz).convertLinearToSRGB()}const mz={[hs]:n=>n,[_t]:n=>n.convertSRGBToLinear(),[bb]:hz},gz={[hs]:n=>n,[_t]:n=>n.convertLinearToSRGB(),[bb]:pz},Ui={enabled:!0,get legacyMode(){return console.warn("THREE.ColorManagement: .legacyMode=false renamed to .enabled=true in r150."),!this.enabled},set legacyMode(n){console.warn("THREE.ColorManagement: .legacyMode=false renamed to .enabled=true in r150."),this.enabled=!n},get workingColorSpace(){return hs},set workingColorSpace(n){console.warn("THREE.ColorManagement: .workingColorSpace is readonly.")},convert:function(n,e,t){if(this.enabled===!1||e===t||!e||!t)return n;const r=mz[e],i=gz[t];if(r===void 0||i===void 0)throw new Error(`Unsupported color space conversion, "${e}" to "${t}".`);return i(r(n))},fromWorkingColorSpace:function(n,e){return this.convert(n,this.workingColorSpace,e)},toWorkingColorSpace:function(n,e){return this.convert(n,e,this.workingColorSpace)}};let nc;class Mb{static getDataURL(e){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let t;if(e instanceof HTMLCanvasElement)t=e;else{nc===void 0&&(nc=zf("canvas")),nc.width=e.width,nc.height=e.height;const r=nc.getContext("2d");e instanceof ImageData?r.putImageData(e,0,0):r.drawImage(e,0,0,e.width,e.height),t=nc}return t.width>2048||t.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),t.toDataURL("image/jpeg",.6)):t.toDataURL("image/png")}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const t=zf("canvas");t.width=e.width,t.height=e.height;const r=t.getContext("2d");r.drawImage(e,0,0,e.width,e.height);const i=r.getImageData(0,0,e.width,e.height),s=i.data;for(let o=0;o<s.length;o++)s[o]=au(s[o]/255)*255;return r.putImageData(i,0,0),t}else if(e.data){const t=e.data.slice(0);for(let r=0;r<t.length;r++)t instanceof Uint8Array||t instanceof Uint8ClampedArray?t[r]=Math.floor(au(t[r]/255)*255):t[r]=au(t[r]);return{data:t,width:e.width,height:e.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}let vz=0;class fl{constructor(e=null){this.isSource=!0,Object.defineProperty(this,"id",{value:vz++}),this.uuid=_i(),this.data=e,this.version=0}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const r={uuid:this.uuid,url:""},i=this.data;if(i!==null){let s;if(Array.isArray(i)){s=[];for(let o=0,a=i.length;o<a;o++)i[o].isDataTexture?s.push(Ux(i[o].image)):s.push(Ux(i[o]))}else s=Ux(i);r.url=s}return t||(e.images[this.uuid]=r),r}}function Ux(n){return typeof HTMLImageElement<"u"&&n instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&n instanceof ImageBitmap?Mb.getDataURL(n):n.data?{data:Array.from(n.data),width:n.width,height:n.height,type:n.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let yz=0;class Ln extends Gs{constructor(e=Ln.DEFAULT_IMAGE,t=Ln.DEFAULT_MAPPING,r=Ar,i=Ar,s=Dn,o=Sa,a=mi,l=_o,u=Ln.DEFAULT_ANISOTROPY,f=ga){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:yz++}),this.uuid=_i(),this.name="",this.source=new fl(e),this.mipmaps=[],this.mapping=t,this.channel=0,this.wrapS=r,this.wrapT=i,this.magFilter=s,this.minFilter=o,this.anisotropy=u,this.format=a,this.internalFormat=null,this.type=l,this.offset=new _e(0,0),this.repeat=new _e(1,1),this.center=new _e(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new Et,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,typeof f=="string"?this.colorSpace=f:(rf("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace=f===js?_t:ga),this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.needsPMREMUpdate=!1}get image(){return this.source.data}set image(e=null){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.channel=e.channel,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.colorSpace=e.colorSpace,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const r={metadata:{version:4.6,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(r.userData=this.userData),t||(e.textures[this.uuid]=r),r}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==G0)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case Of:e.x=e.x-Math.floor(e.x);break;case Ar:e.x=e.x<0?0:1;break;case kf:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case Of:e.y=e.y-Math.floor(e.y);break;case Ar:e.y=e.y<0?0:1;break;case kf:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}get encoding(){return rf("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace===_t?js:q0}set encoding(e){rf("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace=e===js?_t:ga}}Ln.DEFAULT_IMAGE=null;Ln.DEFAULT_MAPPING=G0;Ln.DEFAULT_ANISOTROPY=1;class qt{constructor(e=0,t=0,r=0,i=1){qt.prototype.isVector4=!0,this.x=e,this.y=t,this.z=r,this.w=i}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,t,r,i){return this.x=e,this.y=t,this.z=r,this.w=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const t=this.x,r=this.y,i=this.z,s=this.w,o=e.elements;return this.x=o[0]*t+o[4]*r+o[8]*i+o[12]*s,this.y=o[1]*t+o[5]*r+o[9]*i+o[13]*s,this.z=o[2]*t+o[6]*r+o[10]*i+o[14]*s,this.w=o[3]*t+o[7]*r+o[11]*i+o[15]*s,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this}setAxisAngleFromRotationMatrix(e){let t,r,i,s;const l=e.elements,u=l[0],f=l[4],h=l[8],p=l[1],g=l[5],v=l[9],x=l[2],_=l[6],m=l[10];if(Math.abs(f-p)<.01&&Math.abs(h-x)<.01&&Math.abs(v-_)<.01){if(Math.abs(f+p)<.1&&Math.abs(h+x)<.1&&Math.abs(v+_)<.1&&Math.abs(u+g+m-3)<.1)return this.set(1,0,0,0),this;t=Math.PI;const S=(u+1)/2,M=(g+1)/2,R=(m+1)/2,P=(f+p)/4,L=(h+x)/4,k=(v+_)/4;return S>M&&S>R?S<.01?(r=0,i=.707106781,s=.707106781):(r=Math.sqrt(S),i=P/r,s=L/r):M>R?M<.01?(r=.707106781,i=0,s=.707106781):(i=Math.sqrt(M),r=P/i,s=k/i):R<.01?(r=.707106781,i=.707106781,s=0):(s=Math.sqrt(R),r=L/s,i=k/s),this.set(r,i,s,t),this}let w=Math.sqrt((_-v)*(_-v)+(h-x)*(h-x)+(p-f)*(p-f));return Math.abs(w)<.001&&(w=1),this.x=(_-v)/w,this.y=(h-x)/w,this.z=(p-f)/w,this.w=Math.acos((u+g+m-1)/2),this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this.w=Math.max(e.w,Math.min(t.w,this.w)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this.w=Math.max(e,Math.min(t,this.w)),this}clampLength(e,t){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(t,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this}lerpVectors(e,t,r){return this.x=e.x+(t.x-e.x)*r,this.y=e.y+(t.y-e.y)*r,this.z=e.z+(t.z-e.z)*r,this.w=e.w+(t.w-e.w)*r,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class ps extends Gs{constructor(e=1,t=1,r={}){super(),this.isWebGLRenderTarget=!0,this.width=e,this.height=t,this.depth=1,this.scissor=new qt(0,0,e,t),this.scissorTest=!1,this.viewport=new qt(0,0,e,t);const i={width:e,height:t,depth:1};r.encoding!==void 0&&(rf("THREE.WebGLRenderTarget: option.encoding has been replaced by option.colorSpace."),r.colorSpace=r.encoding===js?_t:ga),this.texture=new Ln(i,r.mapping,r.wrapS,r.wrapT,r.magFilter,r.minFilter,r.format,r.type,r.anisotropy,r.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.flipY=!1,this.texture.generateMipmaps=r.generateMipmaps!==void 0?r.generateMipmaps:!1,this.texture.internalFormat=r.internalFormat!==void 0?r.internalFormat:null,this.texture.minFilter=r.minFilter!==void 0?r.minFilter:Dn,this.depthBuffer=r.depthBuffer!==void 0?r.depthBuffer:!0,this.stencilBuffer=r.stencilBuffer!==void 0?r.stencilBuffer:!1,this.depthTexture=r.depthTexture!==void 0?r.depthTexture:null,this.samples=r.samples!==void 0?r.samples:0}setSize(e,t,r=1){(this.width!==e||this.height!==t||this.depth!==r)&&(this.width=e,this.height=t,this.depth=r,this.texture.image.width=e,this.texture.image.height=t,this.texture.image.depth=r,this.dispose()),this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.texture=e.texture.clone(),this.texture.isRenderTargetTexture=!0;const t=Object.assign({},e.texture.image);return this.texture.source=new fl(t),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class Y0 extends Ln{constructor(e=null,t=1,r=1,i=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:t,height:r,depth:i},this.magFilter=In,this.minFilter=In,this.wrapR=Ar,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class xz extends ps{constructor(e=1,t=1,r=1){super(e,t),this.isWebGLArrayRenderTarget=!0,this.depth=r,this.texture=new Y0(null,e,t,r),this.texture.isRenderTargetTexture=!0}}class Tb extends Ln{constructor(e=null,t=1,r=1,i=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:t,height:r,depth:i},this.magFilter=In,this.minFilter=In,this.wrapR=Ar,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class _z extends ps{constructor(e=1,t=1,r=1){super(e,t),this.isWebGL3DRenderTarget=!0,this.depth=r,this.texture=new Tb(null,e,t,r),this.texture.isRenderTargetTexture=!0}}class wz extends ps{constructor(e=1,t=1,r=1,i={}){super(e,t,i),this.isWebGLMultipleRenderTargets=!0;const s=this.texture;this.texture=[];for(let o=0;o<r;o++)this.texture[o]=s.clone(),this.texture[o].isRenderTargetTexture=!0}setSize(e,t,r=1){if(this.width!==e||this.height!==t||this.depth!==r){this.width=e,this.height=t,this.depth=r;for(let i=0,s=this.texture.length;i<s;i++)this.texture[i].image.width=e,this.texture[i].image.height=t,this.texture[i].image.depth=r;this.dispose()}return this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t),this}copy(e){this.dispose(),this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.texture.length=0;for(let t=0,r=e.texture.length;t<r;t++)this.texture[t]=e.texture[t].clone(),this.texture[t].isRenderTargetTexture=!0;return this}}class Rr{constructor(e=0,t=0,r=0,i=1){this.isQuaternion=!0,this._x=e,this._y=t,this._z=r,this._w=i}static slerpFlat(e,t,r,i,s,o,a){let l=r[i+0],u=r[i+1],f=r[i+2],h=r[i+3];const p=s[o+0],g=s[o+1],v=s[o+2],x=s[o+3];if(a===0){e[t+0]=l,e[t+1]=u,e[t+2]=f,e[t+3]=h;return}if(a===1){e[t+0]=p,e[t+1]=g,e[t+2]=v,e[t+3]=x;return}if(h!==x||l!==p||u!==g||f!==v){let _=1-a;const m=l*p+u*g+f*v+h*x,w=m>=0?1:-1,S=1-m*m;if(S>Number.EPSILON){const R=Math.sqrt(S),P=Math.atan2(R,m*w);_=Math.sin(_*P)/R,a=Math.sin(a*P)/R}const M=a*w;if(l=l*_+p*M,u=u*_+g*M,f=f*_+v*M,h=h*_+x*M,_===1-a){const R=1/Math.sqrt(l*l+u*u+f*f+h*h);l*=R,u*=R,f*=R,h*=R}}e[t]=l,e[t+1]=u,e[t+2]=f,e[t+3]=h}static multiplyQuaternionsFlat(e,t,r,i,s,o){const a=r[i],l=r[i+1],u=r[i+2],f=r[i+3],h=s[o],p=s[o+1],g=s[o+2],v=s[o+3];return e[t]=a*v+f*h+l*g-u*p,e[t+1]=l*v+f*p+u*h-a*g,e[t+2]=u*v+f*g+a*p-l*h,e[t+3]=f*v-a*h-l*p-u*g,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,t,r,i){return this._x=e,this._y=t,this._z=r,this._w=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,t){const r=e._x,i=e._y,s=e._z,o=e._order,a=Math.cos,l=Math.sin,u=a(r/2),f=a(i/2),h=a(s/2),p=l(r/2),g=l(i/2),v=l(s/2);switch(o){case"XYZ":this._x=p*f*h+u*g*v,this._y=u*g*h-p*f*v,this._z=u*f*v+p*g*h,this._w=u*f*h-p*g*v;break;case"YXZ":this._x=p*f*h+u*g*v,this._y=u*g*h-p*f*v,this._z=u*f*v-p*g*h,this._w=u*f*h+p*g*v;break;case"ZXY":this._x=p*f*h-u*g*v,this._y=u*g*h+p*f*v,this._z=u*f*v+p*g*h,this._w=u*f*h-p*g*v;break;case"ZYX":this._x=p*f*h-u*g*v,this._y=u*g*h+p*f*v,this._z=u*f*v-p*g*h,this._w=u*f*h+p*g*v;break;case"YZX":this._x=p*f*h+u*g*v,this._y=u*g*h+p*f*v,this._z=u*f*v-p*g*h,this._w=u*f*h-p*g*v;break;case"XZY":this._x=p*f*h-u*g*v,this._y=u*g*h-p*f*v,this._z=u*f*v+p*g*h,this._w=u*f*h+p*g*v;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+o)}return t!==!1&&this._onChangeCallback(),this}setFromAxisAngle(e,t){const r=t/2,i=Math.sin(r);return this._x=e.x*i,this._y=e.y*i,this._z=e.z*i,this._w=Math.cos(r),this._onChangeCallback(),this}setFromRotationMatrix(e){const t=e.elements,r=t[0],i=t[4],s=t[8],o=t[1],a=t[5],l=t[9],u=t[2],f=t[6],h=t[10],p=r+a+h;if(p>0){const g=.5/Math.sqrt(p+1);this._w=.25/g,this._x=(f-l)*g,this._y=(s-u)*g,this._z=(o-i)*g}else if(r>a&&r>h){const g=2*Math.sqrt(1+r-a-h);this._w=(f-l)/g,this._x=.25*g,this._y=(i+o)/g,this._z=(s+u)/g}else if(a>h){const g=2*Math.sqrt(1+a-r-h);this._w=(s-u)/g,this._x=(i+o)/g,this._y=.25*g,this._z=(l+f)/g}else{const g=2*Math.sqrt(1+h-r-a);this._w=(o-i)/g,this._x=(s+u)/g,this._y=(l+f)/g,this._z=.25*g}return this._onChangeCallback(),this}setFromUnitVectors(e,t){let r=e.dot(t)+1;return r<Number.EPSILON?(r=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=r):(this._x=0,this._y=-e.z,this._z=e.y,this._w=r)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=r),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(Pn(this.dot(e),-1,1)))}rotateTowards(e,t){const r=this.angleTo(e);if(r===0)return this;const i=Math.min(1,t/r);return this.slerp(e,i),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,t){const r=e._x,i=e._y,s=e._z,o=e._w,a=t._x,l=t._y,u=t._z,f=t._w;return this._x=r*f+o*a+i*u-s*l,this._y=i*f+o*l+s*a-r*u,this._z=s*f+o*u+r*l-i*a,this._w=o*f-r*a-i*l-s*u,this._onChangeCallback(),this}slerp(e,t){if(t===0)return this;if(t===1)return this.copy(e);const r=this._x,i=this._y,s=this._z,o=this._w;let a=o*e._w+r*e._x+i*e._y+s*e._z;if(a<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,a=-a):this.copy(e),a>=1)return this._w=o,this._x=r,this._y=i,this._z=s,this;const l=1-a*a;if(l<=Number.EPSILON){const g=1-t;return this._w=g*o+t*this._w,this._x=g*r+t*this._x,this._y=g*i+t*this._y,this._z=g*s+t*this._z,this.normalize(),this._onChangeCallback(),this}const u=Math.sqrt(l),f=Math.atan2(u,a),h=Math.sin((1-t)*f)/u,p=Math.sin(t*f)/u;return this._w=o*h+this._w*p,this._x=r*h+this._x*p,this._y=i*h+this._y*p,this._z=s*h+this._z*p,this._onChangeCallback(),this}slerpQuaternions(e,t,r){return this.copy(e).slerp(t,r)}random(){const e=Math.random(),t=Math.sqrt(1-e),r=Math.sqrt(e),i=2*Math.PI*Math.random(),s=2*Math.PI*Math.random();return this.set(t*Math.cos(i),r*Math.sin(s),r*Math.cos(s),t*Math.sin(i))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,t=0){return this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e}fromBufferAttribute(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this}toJSON(){return this.toArray()}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class z{constructor(e=0,t=0,r=0){z.prototype.isVector3=!0,this.x=e,this.y=t,this.z=r}set(e,t,r){return r===void 0&&(r=this.z),this.x=e,this.y=t,this.z=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this}applyEuler(e){return this.applyQuaternion(W2.setFromEuler(e))}applyAxisAngle(e,t){return this.applyQuaternion(W2.setFromAxisAngle(e,t))}applyMatrix3(e){const t=this.x,r=this.y,i=this.z,s=e.elements;return this.x=s[0]*t+s[3]*r+s[6]*i,this.y=s[1]*t+s[4]*r+s[7]*i,this.z=s[2]*t+s[5]*r+s[8]*i,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const t=this.x,r=this.y,i=this.z,s=e.elements,o=1/(s[3]*t+s[7]*r+s[11]*i+s[15]);return this.x=(s[0]*t+s[4]*r+s[8]*i+s[12])*o,this.y=(s[1]*t+s[5]*r+s[9]*i+s[13])*o,this.z=(s[2]*t+s[6]*r+s[10]*i+s[14])*o,this}applyQuaternion(e){const t=this.x,r=this.y,i=this.z,s=e.x,o=e.y,a=e.z,l=e.w,u=l*t+o*i-a*r,f=l*r+a*t-s*i,h=l*i+s*r-o*t,p=-s*t-o*r-a*i;return this.x=u*l+p*-s+f*-a-h*-o,this.y=f*l+p*-o+h*-s-u*-a,this.z=h*l+p*-a+u*-o-f*-s,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const t=this.x,r=this.y,i=this.z,s=e.elements;return this.x=s[0]*t+s[4]*r+s[8]*i,this.y=s[1]*t+s[5]*r+s[9]*i,this.z=s[2]*t+s[6]*r+s[10]*i,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this}clampLength(e,t){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(t,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this}lerpVectors(e,t,r){return this.x=e.x+(t.x-e.x)*r,this.y=e.y+(t.y-e.y)*r,this.z=e.z+(t.z-e.z)*r,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,t){const r=e.x,i=e.y,s=e.z,o=t.x,a=t.y,l=t.z;return this.x=i*l-s*a,this.y=s*o-r*l,this.z=r*a-i*o,this}projectOnVector(e){const t=e.lengthSq();if(t===0)return this.set(0,0,0);const r=e.dot(this)/t;return this.copy(e).multiplyScalar(r)}projectOnPlane(e){return Fx.copy(this).projectOnVector(e),this.sub(Fx)}reflect(e){return this.sub(Fx.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;const r=this.dot(e)/t;return Math.acos(Pn(r,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,r=this.y-e.y,i=this.z-e.z;return t*t+r*r+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,t,r){const i=Math.sin(t)*e;return this.x=i*Math.sin(r),this.y=Math.cos(t)*e,this.z=i*Math.cos(r),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,t,r){return this.x=e*Math.sin(t),this.y=r,this.z=e*Math.cos(t),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this}setFromMatrixScale(e){const t=this.setFromMatrixColumn(e,0).length(),r=this.setFromMatrixColumn(e,1).length(),i=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=r,this.z=i,this}setFromMatrixColumn(e,t){return this.fromArray(e.elements,t*4)}setFromMatrix3Column(e,t){return this.fromArray(e.elements,t*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}setFromColor(e){return this.x=e.r,this.y=e.g,this.z=e.b,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=(Math.random()-.5)*2,t=Math.random()*Math.PI*2,r=Math.sqrt(1-e**2);return this.x=r*Math.cos(t),this.y=r*Math.sin(t),this.z=e,this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const Fx=new z,W2=new Rr;class Mi{constructor(e=new z(1/0,1/0,1/0),t=new z(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromArray(e){this.makeEmpty();for(let t=0,r=e.length;t<r;t+=3)this.expandByPoint(no.fromArray(e,t));return this}setFromBufferAttribute(e){this.makeEmpty();for(let t=0,r=e.count;t<r;t++)this.expandByPoint(no.fromBufferAttribute(e,t));return this}setFromPoints(e){this.makeEmpty();for(let t=0,r=e.length;t<r;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const r=no.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}setFromObject(e,t=!1){return this.makeEmpty(),this.expandByObject(e,t)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,t=!1){if(e.updateWorldMatrix(!1,!1),e.boundingBox!==void 0)e.boundingBox===null&&e.computeBoundingBox(),rc.copy(e.boundingBox),rc.applyMatrix4(e.matrixWorld),this.union(rc);else{const i=e.geometry;if(i!==void 0)if(t&&i.attributes!==void 0&&i.attributes.position!==void 0){const s=i.attributes.position;for(let o=0,a=s.count;o<a;o++)no.fromBufferAttribute(s,o).applyMatrix4(e.matrixWorld),this.expandByPoint(no)}else i.boundingBox===null&&i.computeBoundingBox(),rc.copy(i.boundingBox),rc.applyMatrix4(e.matrixWorld),this.union(rc)}const r=e.children;for(let i=0,s=r.length;i<s;i++)this.expandByObject(r[i],t);return this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)}intersectsSphere(e){return this.clampPoint(e.center,no),no.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let t,r;return e.normal.x>0?(t=e.normal.x*this.min.x,r=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,r=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,r+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,r+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,r+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,r+=e.normal.z*this.min.z),t<=-e.constant&&r>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(yd),Yp.subVectors(this.max,yd),ic.subVectors(e.a,yd),sc.subVectors(e.b,yd),oc.subVectors(e.c,yd),Bo.subVectors(sc,ic),jo.subVectors(oc,sc),Ba.subVectors(ic,oc);let t=[0,-Bo.z,Bo.y,0,-jo.z,jo.y,0,-Ba.z,Ba.y,Bo.z,0,-Bo.x,jo.z,0,-jo.x,Ba.z,0,-Ba.x,-Bo.y,Bo.x,0,-jo.y,jo.x,0,-Ba.y,Ba.x,0];return!zx(t,ic,sc,oc,Yp)||(t=[1,0,0,0,1,0,0,0,1],!zx(t,ic,sc,oc,Yp))?!1:(Kp.crossVectors(Bo,jo),t=[Kp.x,Kp.y,Kp.z],zx(t,ic,sc,oc,Yp))}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,no).distanceTo(e)}getBoundingSphere(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=this.getSize(no).length()*.5),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(to[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),to[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),to[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),to[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),to[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),to[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),to[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),to[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(to),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const to=[new z,new z,new z,new z,new z,new z,new z,new z],no=new z,rc=new Mi,ic=new z,sc=new z,oc=new z,Bo=new z,jo=new z,Ba=new z,yd=new z,Yp=new z,Kp=new z,ja=new z;function zx(n,e,t,r,i){for(let s=0,o=n.length-3;s<=o;s+=3){ja.fromArray(n,s);const a=i.x*Math.abs(ja.x)+i.y*Math.abs(ja.y)+i.z*Math.abs(ja.z),l=e.dot(ja),u=t.dot(ja),f=r.dot(ja);if(Math.max(-Math.max(l,u,f),Math.min(l,u,f))>a)return!1}return!0}const Sz=new Mi,xd=new z,Bx=new z;class vs{constructor(e=new z,t=-1){this.center=e,this.radius=t}set(e,t){return this.center.copy(e),this.radius=t,this}setFromPoints(e,t){const r=this.center;t!==void 0?r.copy(t):Sz.setFromPoints(e).getCenter(r);let i=0;for(let s=0,o=e.length;s<o;s++)i=Math.max(i,r.distanceToSquared(e[s]));return this.radius=Math.sqrt(i),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,t){const r=this.center.distanceToSquared(e);return t.copy(e),r>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;xd.subVectors(e,this.center);const t=xd.lengthSq();if(t>this.radius*this.radius){const r=Math.sqrt(t),i=(r-this.radius)*.5;this.center.addScaledVector(xd,i/r),this.radius+=i}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(this.center.equals(e.center)===!0?this.radius=Math.max(this.radius,e.radius):(Bx.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(xd.copy(e.center).add(Bx)),this.expandByPoint(xd.copy(e.center).sub(Bx))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}}const ro=new z,jx=new z,Jp=new z,Ho=new z,Hx=new z,Zp=new z,Vx=new z;class Iu{constructor(e=new z,t=new z(0,0,-1)){this.origin=e,this.direction=t}set(e,t){return this.origin.copy(e),this.direction.copy(t),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,t){return t.copy(this.origin).addScaledVector(this.direction,e)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,ro)),this}closestPointToPoint(e,t){t.subVectors(e,this.origin);const r=t.dot(this.direction);return r<0?t.copy(this.origin):t.copy(this.origin).addScaledVector(this.direction,r)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const t=ro.subVectors(e,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(e):(ro.copy(this.origin).addScaledVector(this.direction,t),ro.distanceToSquared(e))}distanceSqToSegment(e,t,r,i){jx.copy(e).add(t).multiplyScalar(.5),Jp.copy(t).sub(e).normalize(),Ho.copy(this.origin).sub(jx);const s=e.distanceTo(t)*.5,o=-this.direction.dot(Jp),a=Ho.dot(this.direction),l=-Ho.dot(Jp),u=Ho.lengthSq(),f=Math.abs(1-o*o);let h,p,g,v;if(f>0)if(h=o*l-a,p=o*a-l,v=s*f,h>=0)if(p>=-v)if(p<=v){const x=1/f;h*=x,p*=x,g=h*(h+o*p+2*a)+p*(o*h+p+2*l)+u}else p=s,h=Math.max(0,-(o*p+a)),g=-h*h+p*(p+2*l)+u;else p=-s,h=Math.max(0,-(o*p+a)),g=-h*h+p*(p+2*l)+u;else p<=-v?(h=Math.max(0,-(-o*s+a)),p=h>0?-s:Math.min(Math.max(-s,-l),s),g=-h*h+p*(p+2*l)+u):p<=v?(h=0,p=Math.min(Math.max(-s,-l),s),g=p*(p+2*l)+u):(h=Math.max(0,-(o*s+a)),p=h>0?s:Math.min(Math.max(-s,-l),s),g=-h*h+p*(p+2*l)+u);else p=o>0?-s:s,h=Math.max(0,-(o*p+a)),g=-h*h+p*(p+2*l)+u;return r&&r.copy(this.origin).addScaledVector(this.direction,h),i&&i.copy(jx).addScaledVector(Jp,p),g}intersectSphere(e,t){ro.subVectors(e.center,this.origin);const r=ro.dot(this.direction),i=ro.dot(ro)-r*r,s=e.radius*e.radius;if(i>s)return null;const o=Math.sqrt(s-i),a=r-o,l=r+o;return l<0?null:a<0?this.at(l,t):this.at(a,t)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const t=e.normal.dot(this.direction);if(t===0)return e.distanceToPoint(this.origin)===0?0:null;const r=-(this.origin.dot(e.normal)+e.constant)/t;return r>=0?r:null}intersectPlane(e,t){const r=this.distanceToPlane(e);return r===null?null:this.at(r,t)}intersectsPlane(e){const t=e.distanceToPoint(this.origin);return t===0||e.normal.dot(this.direction)*t<0}intersectBox(e,t){let r,i,s,o,a,l;const u=1/this.direction.x,f=1/this.direction.y,h=1/this.direction.z,p=this.origin;return u>=0?(r=(e.min.x-p.x)*u,i=(e.max.x-p.x)*u):(r=(e.max.x-p.x)*u,i=(e.min.x-p.x)*u),f>=0?(s=(e.min.y-p.y)*f,o=(e.max.y-p.y)*f):(s=(e.max.y-p.y)*f,o=(e.min.y-p.y)*f),r>o||s>i||((s>r||isNaN(r))&&(r=s),(o<i||isNaN(i))&&(i=o),h>=0?(a=(e.min.z-p.z)*h,l=(e.max.z-p.z)*h):(a=(e.max.z-p.z)*h,l=(e.min.z-p.z)*h),r>l||a>i)||((a>r||r!==r)&&(r=a),(l<i||i!==i)&&(i=l),i<0)?null:this.at(r>=0?r:i,t)}intersectsBox(e){return this.intersectBox(e,ro)!==null}intersectTriangle(e,t,r,i,s){Hx.subVectors(t,e),Zp.subVectors(r,e),Vx.crossVectors(Hx,Zp);let o=this.direction.dot(Vx),a;if(o>0){if(i)return null;a=1}else if(o<0)a=-1,o=-o;else return null;Ho.subVectors(this.origin,e);const l=a*this.direction.dot(Zp.crossVectors(Ho,Zp));if(l<0)return null;const u=a*this.direction.dot(Hx.cross(Ho));if(u<0||l+u>o)return null;const f=-a*Ho.dot(Vx);return f<0?null:this.at(f/o,s)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class pt{constructor(e,t,r,i,s,o,a,l,u,f,h,p,g,v,x,_){pt.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],e!==void 0&&this.set(e,t,r,i,s,o,a,l,u,f,h,p,g,v,x,_)}set(e,t,r,i,s,o,a,l,u,f,h,p,g,v,x,_){const m=this.elements;return m[0]=e,m[4]=t,m[8]=r,m[12]=i,m[1]=s,m[5]=o,m[9]=a,m[13]=l,m[2]=u,m[6]=f,m[10]=h,m[14]=p,m[3]=g,m[7]=v,m[11]=x,m[15]=_,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new pt().fromArray(this.elements)}copy(e){const t=this.elements,r=e.elements;return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[4]=r[4],t[5]=r[5],t[6]=r[6],t[7]=r[7],t[8]=r[8],t[9]=r[9],t[10]=r[10],t[11]=r[11],t[12]=r[12],t[13]=r[13],t[14]=r[14],t[15]=r[15],this}copyPosition(e){const t=this.elements,r=e.elements;return t[12]=r[12],t[13]=r[13],t[14]=r[14],this}setFromMatrix3(e){const t=e.elements;return this.set(t[0],t[3],t[6],0,t[1],t[4],t[7],0,t[2],t[5],t[8],0,0,0,0,1),this}extractBasis(e,t,r){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),r.setFromMatrixColumn(this,2),this}makeBasis(e,t,r){return this.set(e.x,t.x,r.x,0,e.y,t.y,r.y,0,e.z,t.z,r.z,0,0,0,0,1),this}extractRotation(e){const t=this.elements,r=e.elements,i=1/ac.setFromMatrixColumn(e,0).length(),s=1/ac.setFromMatrixColumn(e,1).length(),o=1/ac.setFromMatrixColumn(e,2).length();return t[0]=r[0]*i,t[1]=r[1]*i,t[2]=r[2]*i,t[3]=0,t[4]=r[4]*s,t[5]=r[5]*s,t[6]=r[6]*s,t[7]=0,t[8]=r[8]*o,t[9]=r[9]*o,t[10]=r[10]*o,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromEuler(e){const t=this.elements,r=e.x,i=e.y,s=e.z,o=Math.cos(r),a=Math.sin(r),l=Math.cos(i),u=Math.sin(i),f=Math.cos(s),h=Math.sin(s);if(e.order==="XYZ"){const p=o*f,g=o*h,v=a*f,x=a*h;t[0]=l*f,t[4]=-l*h,t[8]=u,t[1]=g+v*u,t[5]=p-x*u,t[9]=-a*l,t[2]=x-p*u,t[6]=v+g*u,t[10]=o*l}else if(e.order==="YXZ"){const p=l*f,g=l*h,v=u*f,x=u*h;t[0]=p+x*a,t[4]=v*a-g,t[8]=o*u,t[1]=o*h,t[5]=o*f,t[9]=-a,t[2]=g*a-v,t[6]=x+p*a,t[10]=o*l}else if(e.order==="ZXY"){const p=l*f,g=l*h,v=u*f,x=u*h;t[0]=p-x*a,t[4]=-o*h,t[8]=v+g*a,t[1]=g+v*a,t[5]=o*f,t[9]=x-p*a,t[2]=-o*u,t[6]=a,t[10]=o*l}else if(e.order==="ZYX"){const p=o*f,g=o*h,v=a*f,x=a*h;t[0]=l*f,t[4]=v*u-g,t[8]=p*u+x,t[1]=l*h,t[5]=x*u+p,t[9]=g*u-v,t[2]=-u,t[6]=a*l,t[10]=o*l}else if(e.order==="YZX"){const p=o*l,g=o*u,v=a*l,x=a*u;t[0]=l*f,t[4]=x-p*h,t[8]=v*h+g,t[1]=h,t[5]=o*f,t[9]=-a*f,t[2]=-u*f,t[6]=g*h+v,t[10]=p-x*h}else if(e.order==="XZY"){const p=o*l,g=o*u,v=a*l,x=a*u;t[0]=l*f,t[4]=-h,t[8]=u*f,t[1]=p*h+x,t[5]=o*f,t[9]=g*h-v,t[2]=v*h-g,t[6]=a*f,t[10]=x*h+p}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromQuaternion(e){return this.compose(bz,e,Ez)}lookAt(e,t,r){const i=this.elements;return di.subVectors(e,t),di.lengthSq()===0&&(di.z=1),di.normalize(),Vo.crossVectors(r,di),Vo.lengthSq()===0&&(Math.abs(r.z)===1?di.x+=1e-4:di.z+=1e-4,di.normalize(),Vo.crossVectors(r,di)),Vo.normalize(),Qp.crossVectors(di,Vo),i[0]=Vo.x,i[4]=Qp.x,i[8]=di.x,i[1]=Vo.y,i[5]=Qp.y,i[9]=di.y,i[2]=Vo.z,i[6]=Qp.z,i[10]=di.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const r=e.elements,i=t.elements,s=this.elements,o=r[0],a=r[4],l=r[8],u=r[12],f=r[1],h=r[5],p=r[9],g=r[13],v=r[2],x=r[6],_=r[10],m=r[14],w=r[3],S=r[7],M=r[11],R=r[15],P=i[0],L=i[4],k=i[8],C=i[12],A=i[1],U=i[5],W=i[9],F=i[13],G=i[2],X=i[6],Z=i[10],J=i[14],D=i[3],$=i[7],q=i[11],Y=i[15];return s[0]=o*P+a*A+l*G+u*D,s[4]=o*L+a*U+l*X+u*$,s[8]=o*k+a*W+l*Z+u*q,s[12]=o*C+a*F+l*J+u*Y,s[1]=f*P+h*A+p*G+g*D,s[5]=f*L+h*U+p*X+g*$,s[9]=f*k+h*W+p*Z+g*q,s[13]=f*C+h*F+p*J+g*Y,s[2]=v*P+x*A+_*G+m*D,s[6]=v*L+x*U+_*X+m*$,s[10]=v*k+x*W+_*Z+m*q,s[14]=v*C+x*F+_*J+m*Y,s[3]=w*P+S*A+M*G+R*D,s[7]=w*L+S*U+M*X+R*$,s[11]=w*k+S*W+M*Z+R*q,s[15]=w*C+S*F+M*J+R*Y,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this}determinant(){const e=this.elements,t=e[0],r=e[4],i=e[8],s=e[12],o=e[1],a=e[5],l=e[9],u=e[13],f=e[2],h=e[6],p=e[10],g=e[14],v=e[3],x=e[7],_=e[11],m=e[15];return v*(+s*l*h-i*u*h-s*a*p+r*u*p+i*a*g-r*l*g)+x*(+t*l*g-t*u*p+s*o*p-i*o*g+i*u*f-s*l*f)+_*(+t*u*h-t*a*g-s*o*h+r*o*g+s*a*f-r*u*f)+m*(-i*a*f-t*l*h+t*a*p+i*o*h-r*o*p+r*l*f)}transpose(){const e=this.elements;let t;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this}setPosition(e,t,r){const i=this.elements;return e.isVector3?(i[12]=e.x,i[13]=e.y,i[14]=e.z):(i[12]=e,i[13]=t,i[14]=r),this}invert(){const e=this.elements,t=e[0],r=e[1],i=e[2],s=e[3],o=e[4],a=e[5],l=e[6],u=e[7],f=e[8],h=e[9],p=e[10],g=e[11],v=e[12],x=e[13],_=e[14],m=e[15],w=h*_*u-x*p*u+x*l*g-a*_*g-h*l*m+a*p*m,S=v*p*u-f*_*u-v*l*g+o*_*g+f*l*m-o*p*m,M=f*x*u-v*h*u+v*a*g-o*x*g-f*a*m+o*h*m,R=v*h*l-f*x*l-v*a*p+o*x*p+f*a*_-o*h*_,P=t*w+r*S+i*M+s*R;if(P===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const L=1/P;return e[0]=w*L,e[1]=(x*p*s-h*_*s-x*i*g+r*_*g+h*i*m-r*p*m)*L,e[2]=(a*_*s-x*l*s+x*i*u-r*_*u-a*i*m+r*l*m)*L,e[3]=(h*l*s-a*p*s-h*i*u+r*p*u+a*i*g-r*l*g)*L,e[4]=S*L,e[5]=(f*_*s-v*p*s+v*i*g-t*_*g-f*i*m+t*p*m)*L,e[6]=(v*l*s-o*_*s-v*i*u+t*_*u+o*i*m-t*l*m)*L,e[7]=(o*p*s-f*l*s+f*i*u-t*p*u-o*i*g+t*l*g)*L,e[8]=M*L,e[9]=(v*h*s-f*x*s-v*r*g+t*x*g+f*r*m-t*h*m)*L,e[10]=(o*x*s-v*a*s+v*r*u-t*x*u-o*r*m+t*a*m)*L,e[11]=(f*a*s-o*h*s-f*r*u+t*h*u+o*r*g-t*a*g)*L,e[12]=R*L,e[13]=(f*x*i-v*h*i+v*r*p-t*x*p-f*r*_+t*h*_)*L,e[14]=(v*a*i-o*x*i-v*r*l+t*x*l+o*r*_-t*a*_)*L,e[15]=(o*h*i-f*a*i+f*r*l-t*h*l-o*r*p+t*a*p)*L,this}scale(e){const t=this.elements,r=e.x,i=e.y,s=e.z;return t[0]*=r,t[4]*=i,t[8]*=s,t[1]*=r,t[5]*=i,t[9]*=s,t[2]*=r,t[6]*=i,t[10]*=s,t[3]*=r,t[7]*=i,t[11]*=s,this}getMaxScaleOnAxis(){const e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],r=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],i=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,r,i))}makeTranslation(e,t,r){return e.isVector3?this.set(1,0,0,e.x,0,1,0,e.y,0,0,1,e.z,0,0,0,1):this.set(1,0,0,e,0,1,0,t,0,0,1,r,0,0,0,1),this}makeRotationX(e){const t=Math.cos(e),r=Math.sin(e);return this.set(1,0,0,0,0,t,-r,0,0,r,t,0,0,0,0,1),this}makeRotationY(e){const t=Math.cos(e),r=Math.sin(e);return this.set(t,0,r,0,0,1,0,0,-r,0,t,0,0,0,0,1),this}makeRotationZ(e){const t=Math.cos(e),r=Math.sin(e);return this.set(t,-r,0,0,r,t,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,t){const r=Math.cos(t),i=Math.sin(t),s=1-r,o=e.x,a=e.y,l=e.z,u=s*o,f=s*a;return this.set(u*o+r,u*a-i*l,u*l+i*a,0,u*a+i*l,f*a+r,f*l-i*o,0,u*l-i*a,f*l+i*o,s*l*l+r,0,0,0,0,1),this}makeScale(e,t,r){return this.set(e,0,0,0,0,t,0,0,0,0,r,0,0,0,0,1),this}makeShear(e,t,r,i,s,o){return this.set(1,r,s,0,e,1,o,0,t,i,1,0,0,0,0,1),this}compose(e,t,r){const i=this.elements,s=t._x,o=t._y,a=t._z,l=t._w,u=s+s,f=o+o,h=a+a,p=s*u,g=s*f,v=s*h,x=o*f,_=o*h,m=a*h,w=l*u,S=l*f,M=l*h,R=r.x,P=r.y,L=r.z;return i[0]=(1-(x+m))*R,i[1]=(g+M)*R,i[2]=(v-S)*R,i[3]=0,i[4]=(g-M)*P,i[5]=(1-(p+m))*P,i[6]=(_+w)*P,i[7]=0,i[8]=(v+S)*L,i[9]=(_-w)*L,i[10]=(1-(p+x))*L,i[11]=0,i[12]=e.x,i[13]=e.y,i[14]=e.z,i[15]=1,this}decompose(e,t,r){const i=this.elements;let s=ac.set(i[0],i[1],i[2]).length();const o=ac.set(i[4],i[5],i[6]).length(),a=ac.set(i[8],i[9],i[10]).length();this.determinant()<0&&(s=-s),e.x=i[12],e.y=i[13],e.z=i[14],Qi.copy(this);const u=1/s,f=1/o,h=1/a;return Qi.elements[0]*=u,Qi.elements[1]*=u,Qi.elements[2]*=u,Qi.elements[4]*=f,Qi.elements[5]*=f,Qi.elements[6]*=f,Qi.elements[8]*=h,Qi.elements[9]*=h,Qi.elements[10]*=h,t.setFromRotationMatrix(Qi),r.x=s,r.y=o,r.z=a,this}makePerspective(e,t,r,i,s,o,a=Us){const l=this.elements,u=2*s/(t-e),f=2*s/(r-i),h=(t+e)/(t-e),p=(r+i)/(r-i);let g,v;if(a===Us)g=-(o+s)/(o-s),v=-2*o*s/(o-s);else if(a===Ff)g=-o/(o-s),v=-o*s/(o-s);else throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+a);return l[0]=u,l[4]=0,l[8]=h,l[12]=0,l[1]=0,l[5]=f,l[9]=p,l[13]=0,l[2]=0,l[6]=0,l[10]=g,l[14]=v,l[3]=0,l[7]=0,l[11]=-1,l[15]=0,this}makeOrthographic(e,t,r,i,s,o,a=Us){const l=this.elements,u=1/(t-e),f=1/(r-i),h=1/(o-s),p=(t+e)*u,g=(r+i)*f;let v,x;if(a===Us)v=(o+s)*h,x=-2*h;else if(a===Ff)v=s*h,x=-1*h;else throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+a);return l[0]=2*u,l[4]=0,l[8]=0,l[12]=-p,l[1]=0,l[5]=2*f,l[9]=0,l[13]=-g,l[2]=0,l[6]=0,l[10]=x,l[14]=-v,l[3]=0,l[7]=0,l[11]=0,l[15]=1,this}equals(e){const t=this.elements,r=e.elements;for(let i=0;i<16;i++)if(t[i]!==r[i])return!1;return!0}fromArray(e,t=0){for(let r=0;r<16;r++)this.elements[r]=e[r+t];return this}toArray(e=[],t=0){const r=this.elements;return e[t]=r[0],e[t+1]=r[1],e[t+2]=r[2],e[t+3]=r[3],e[t+4]=r[4],e[t+5]=r[5],e[t+6]=r[6],e[t+7]=r[7],e[t+8]=r[8],e[t+9]=r[9],e[t+10]=r[10],e[t+11]=r[11],e[t+12]=r[12],e[t+13]=r[13],e[t+14]=r[14],e[t+15]=r[15],e}}const ac=new z,Qi=new pt,bz=new z(0,0,0),Ez=new z(1,1,1),Vo=new z,Qp=new z,di=new z,G2=new pt,$2=new Rr;class hh{constructor(e=0,t=0,r=0,i=hh.DEFAULT_ORDER){this.isEuler=!0,this._x=e,this._y=t,this._z=r,this._order=i}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,t,r,i=this._order){return this._x=e,this._y=t,this._z=r,this._order=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,t=this._order,r=!0){const i=e.elements,s=i[0],o=i[4],a=i[8],l=i[1],u=i[5],f=i[9],h=i[2],p=i[6],g=i[10];switch(t){case"XYZ":this._y=Math.asin(Pn(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(-f,g),this._z=Math.atan2(-o,s)):(this._x=Math.atan2(p,u),this._z=0);break;case"YXZ":this._x=Math.asin(-Pn(f,-1,1)),Math.abs(f)<.9999999?(this._y=Math.atan2(a,g),this._z=Math.atan2(l,u)):(this._y=Math.atan2(-h,s),this._z=0);break;case"ZXY":this._x=Math.asin(Pn(p,-1,1)),Math.abs(p)<.9999999?(this._y=Math.atan2(-h,g),this._z=Math.atan2(-o,u)):(this._y=0,this._z=Math.atan2(l,s));break;case"ZYX":this._y=Math.asin(-Pn(h,-1,1)),Math.abs(h)<.9999999?(this._x=Math.atan2(p,g),this._z=Math.atan2(l,s)):(this._x=0,this._z=Math.atan2(-o,u));break;case"YZX":this._z=Math.asin(Pn(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-f,u),this._y=Math.atan2(-h,s)):(this._x=0,this._y=Math.atan2(a,g));break;case"XZY":this._z=Math.asin(-Pn(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(p,u),this._y=Math.atan2(a,s)):(this._x=Math.atan2(-f,g),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+t)}return this._order=t,r===!0&&this._onChangeCallback(),this}setFromQuaternion(e,t,r){return G2.makeRotationFromQuaternion(e),this.setFromRotationMatrix(G2,t,r)}setFromVector3(e,t=this._order){return this.set(e.x,e.y,e.z,t)}reorder(e){return $2.setFromEuler(this),this.setFromQuaternion($2,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}hh.DEFAULT_ORDER="XYZ";class wl{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}}let Mz=0;const X2=new z,lc=new Rr,io=new pt,em=new z,_d=new z,Tz=new z,Cz=new Rr,q2=new z(1,0,0),Y2=new z(0,1,0),K2=new z(0,0,1),Az={type:"added"},J2={type:"removed"};class Vt extends Gs{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:Mz++}),this.uuid=_i(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=Vt.DEFAULT_UP.clone();const e=new z,t=new hh,r=new Rr,i=new z(1,1,1);function s(){r.setFromEuler(t,!1)}function o(){t.setFromQuaternion(r,void 0,!1)}t._onChange(s),r._onChange(o),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:t},quaternion:{configurable:!0,enumerable:!0,value:r},scale:{configurable:!0,enumerable:!0,value:i},modelViewMatrix:{value:new pt},normalMatrix:{value:new Et}}),this.matrix=new pt,this.matrixWorld=new pt,this.matrixAutoUpdate=Vt.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.matrixWorldAutoUpdate=Vt.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.layers=new wl,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,t){this.quaternion.setFromAxisAngle(e,t)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,t){return lc.setFromAxisAngle(e,t),this.quaternion.multiply(lc),this}rotateOnWorldAxis(e,t){return lc.setFromAxisAngle(e,t),this.quaternion.premultiply(lc),this}rotateX(e){return this.rotateOnAxis(q2,e)}rotateY(e){return this.rotateOnAxis(Y2,e)}rotateZ(e){return this.rotateOnAxis(K2,e)}translateOnAxis(e,t){return X2.copy(e).applyQuaternion(this.quaternion),this.position.add(X2.multiplyScalar(t)),this}translateX(e){return this.translateOnAxis(q2,e)}translateY(e){return this.translateOnAxis(Y2,e)}translateZ(e){return this.translateOnAxis(K2,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(io.copy(this.matrixWorld).invert())}lookAt(e,t,r){e.isVector3?em.copy(e):em.set(e,t,r);const i=this.parent;this.updateWorldMatrix(!0,!1),_d.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?io.lookAt(_d,em,this.up):io.lookAt(em,_d,this.up),this.quaternion.setFromRotationMatrix(io),i&&(io.extractRotation(i.matrixWorld),lc.setFromRotationMatrix(io),this.quaternion.premultiply(lc.invert()))}add(e){if(arguments.length>1){for(let t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.parent!==null&&e.parent.remove(e),e.parent=this,this.children.push(e),e.dispatchEvent(Az)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let r=0;r<arguments.length;r++)this.remove(arguments[r]);return this}const t=this.children.indexOf(e);return t!==-1&&(e.parent=null,this.children.splice(t,1),e.dispatchEvent(J2)),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){for(let e=0;e<this.children.length;e++){const t=this.children[e];t.parent=null,t.dispatchEvent(J2)}return this.children.length=0,this}attach(e){return this.updateWorldMatrix(!0,!1),io.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),io.multiply(e.parent.matrixWorld)),e.applyMatrix4(io),this.add(e),e.updateWorldMatrix(!1,!0),this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,t){if(this[e]===t)return this;for(let r=0,i=this.children.length;r<i;r++){const o=this.children[r].getObjectByProperty(e,t);if(o!==void 0)return o}}getObjectsByProperty(e,t){let r=[];this[e]===t&&r.push(this);for(let i=0,s=this.children.length;i<s;i++){const o=this.children[i].getObjectsByProperty(e,t);o.length>0&&(r=r.concat(o))}return r}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(_d,e,Tz),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(_d,Cz,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(t[8],t[9],t[10]).normalize()}raycast(){}traverse(e){e(this);const t=this.children;for(let r=0,i=t.length;r<i;r++)t[r].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const t=this.children;for(let r=0,i=t.length;r<i;r++)t[r].traverseVisible(e)}traverseAncestors(e){const t=this.parent;t!==null&&(e(t),t.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);const t=this.children;for(let r=0,i=t.length;r<i;r++){const s=t[r];(s.matrixWorldAutoUpdate===!0||e===!0)&&s.updateMatrixWorld(e)}}updateWorldMatrix(e,t){const r=this.parent;if(e===!0&&r!==null&&r.matrixWorldAutoUpdate===!0&&r.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),t===!0){const i=this.children;for(let s=0,o=i.length;s<o;s++){const a=i[s];a.matrixWorldAutoUpdate===!0&&a.updateWorldMatrix(!1,!0)}}}toJSON(e){const t=e===void 0||typeof e=="string",r={};t&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},r.metadata={version:4.6,type:"Object",generator:"Object3D.toJSON"});const i={};i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),this.castShadow===!0&&(i.castShadow=!0),this.receiveShadow===!0&&(i.receiveShadow=!0),this.visible===!1&&(i.visible=!1),this.frustumCulled===!1&&(i.frustumCulled=!1),this.renderOrder!==0&&(i.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(i.userData=this.userData),i.layers=this.layers.mask,i.matrix=this.matrix.toArray(),i.up=this.up.toArray(),this.matrixAutoUpdate===!1&&(i.matrixAutoUpdate=!1),this.isInstancedMesh&&(i.type="InstancedMesh",i.count=this.count,i.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(i.instanceColor=this.instanceColor.toJSON()));function s(a,l){return a[l.uuid]===void 0&&(a[l.uuid]=l.toJSON(e)),l.uuid}if(this.isScene)this.background&&(this.background.isColor?i.background=this.background.toJSON():this.background.isTexture&&(i.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(i.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){i.geometry=s(e.geometries,this.geometry);const a=this.geometry.parameters;if(a!==void 0&&a.shapes!==void 0){const l=a.shapes;if(Array.isArray(l))for(let u=0,f=l.length;u<f;u++){const h=l[u];s(e.shapes,h)}else s(e.shapes,l)}}if(this.isSkinnedMesh&&(i.bindMode=this.bindMode,i.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(s(e.skeletons,this.skeleton),i.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const a=[];for(let l=0,u=this.material.length;l<u;l++)a.push(s(e.materials,this.material[l]));i.material=a}else i.material=s(e.materials,this.material);if(this.children.length>0){i.children=[];for(let a=0;a<this.children.length;a++)i.children.push(this.children[a].toJSON(e).object)}if(this.animations.length>0){i.animations=[];for(let a=0;a<this.animations.length;a++){const l=this.animations[a];i.animations.push(s(e.animations,l))}}if(t){const a=o(e.geometries),l=o(e.materials),u=o(e.textures),f=o(e.images),h=o(e.shapes),p=o(e.skeletons),g=o(e.animations),v=o(e.nodes);a.length>0&&(r.geometries=a),l.length>0&&(r.materials=l),u.length>0&&(r.textures=u),f.length>0&&(r.images=f),h.length>0&&(r.shapes=h),p.length>0&&(r.skeletons=p),g.length>0&&(r.animations=g),v.length>0&&(r.nodes=v)}return r.object=i,r;function o(a){const l=[];for(const u in a){const f=a[u];delete f.metadata,l.push(f)}return l}}clone(e){return new this.constructor().copy(this,e)}copy(e,t=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.animations=e.animations,this.userData=JSON.parse(JSON.stringify(e.userData)),t===!0)for(let r=0;r<e.children.length;r++){const i=e.children[r];this.add(i.clone())}return this}}Vt.DEFAULT_UP=new z(0,1,0);Vt.DEFAULT_MATRIX_AUTO_UPDATE=!0;Vt.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const es=new z,so=new z,Wx=new z,oo=new z,cc=new z,uc=new z,Z2=new z,Gx=new z,$x=new z,Xx=new z;let tm=!1;class Jr{constructor(e=new z,t=new z,r=new z){this.a=e,this.b=t,this.c=r}static getNormal(e,t,r,i){i.subVectors(r,t),es.subVectors(e,t),i.cross(es);const s=i.lengthSq();return s>0?i.multiplyScalar(1/Math.sqrt(s)):i.set(0,0,0)}static getBarycoord(e,t,r,i,s){es.subVectors(i,t),so.subVectors(r,t),Wx.subVectors(e,t);const o=es.dot(es),a=es.dot(so),l=es.dot(Wx),u=so.dot(so),f=so.dot(Wx),h=o*u-a*a;if(h===0)return s.set(-2,-1,-1);const p=1/h,g=(u*l-a*f)*p,v=(o*f-a*l)*p;return s.set(1-g-v,v,g)}static containsPoint(e,t,r,i){return this.getBarycoord(e,t,r,i,oo),oo.x>=0&&oo.y>=0&&oo.x+oo.y<=1}static getUV(e,t,r,i,s,o,a,l){return tm===!1&&(console.warn("THREE.Triangle.getUV() has been renamed to THREE.Triangle.getInterpolation()."),tm=!0),this.getInterpolation(e,t,r,i,s,o,a,l)}static getInterpolation(e,t,r,i,s,o,a,l){return this.getBarycoord(e,t,r,i,oo),l.setScalar(0),l.addScaledVector(s,oo.x),l.addScaledVector(o,oo.y),l.addScaledVector(a,oo.z),l}static isFrontFacing(e,t,r,i){return es.subVectors(r,t),so.subVectors(e,t),es.cross(so).dot(i)<0}set(e,t,r){return this.a.copy(e),this.b.copy(t),this.c.copy(r),this}setFromPointsAndIndices(e,t,r,i){return this.a.copy(e[t]),this.b.copy(e[r]),this.c.copy(e[i]),this}setFromAttributeAndIndices(e,t,r,i){return this.a.fromBufferAttribute(e,t),this.b.fromBufferAttribute(e,r),this.c.fromBufferAttribute(e,i),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return es.subVectors(this.c,this.b),so.subVectors(this.a,this.b),es.cross(so).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return Jr.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,t){return Jr.getBarycoord(e,this.a,this.b,this.c,t)}getUV(e,t,r,i,s){return tm===!1&&(console.warn("THREE.Triangle.getUV() has been renamed to THREE.Triangle.getInterpolation()."),tm=!0),Jr.getInterpolation(e,this.a,this.b,this.c,t,r,i,s)}getInterpolation(e,t,r,i,s){return Jr.getInterpolation(e,this.a,this.b,this.c,t,r,i,s)}containsPoint(e){return Jr.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return Jr.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,t){const r=this.a,i=this.b,s=this.c;let o,a;cc.subVectors(i,r),uc.subVectors(s,r),Gx.subVectors(e,r);const l=cc.dot(Gx),u=uc.dot(Gx);if(l<=0&&u<=0)return t.copy(r);$x.subVectors(e,i);const f=cc.dot($x),h=uc.dot($x);if(f>=0&&h<=f)return t.copy(i);const p=l*h-f*u;if(p<=0&&l>=0&&f<=0)return o=l/(l-f),t.copy(r).addScaledVector(cc,o);Xx.subVectors(e,s);const g=cc.dot(Xx),v=uc.dot(Xx);if(v>=0&&g<=v)return t.copy(s);const x=g*u-l*v;if(x<=0&&u>=0&&v<=0)return a=u/(u-v),t.copy(r).addScaledVector(uc,a);const _=f*v-g*h;if(_<=0&&h-f>=0&&g-v>=0)return Z2.subVectors(s,i),a=(h-f)/(h-f+(g-v)),t.copy(i).addScaledVector(Z2,a);const m=1/(_+x+p);return o=x*m,a=p*m,t.copy(r).addScaledVector(cc,o).addScaledVector(uc,a)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}let Rz=0;class pr extends Gs{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:Rz++}),this.uuid=_i(),this.name="",this.type="Material",this.blending=xl,this.side=To,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=fb,this.blendDst=hb,this.blendEquation=rl,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=Yg,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=RO,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=dg,this.stencilZFail=dg,this.stencilZPass=dg,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBuild(){}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const t in e){const r=e[t];if(r===void 0){console.warn(`THREE.Material: parameter '${t}' has value of undefined.`);continue}const i=this[t];if(i===void 0){console.warn(`THREE.Material: '${t}' is not a property of THREE.${this.type}.`);continue}i&&i.isColor?i.set(r):i&&i.isVector3&&r&&r.isVector3?i.copy(r):this[t]=r}}toJSON(e){const t=e===void 0||typeof e=="string";t&&(e={textures:{},images:{}});const r={metadata:{version:4.6,type:"Material",generator:"Material.toJSON"}};r.uuid=this.uuid,r.type=this.type,this.name!==""&&(r.name=this.name),this.color&&this.color.isColor&&(r.color=this.color.getHex()),this.roughness!==void 0&&(r.roughness=this.roughness),this.metalness!==void 0&&(r.metalness=this.metalness),this.sheen!==void 0&&(r.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(r.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(r.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(r.emissive=this.emissive.getHex()),this.emissiveIntensity&&this.emissiveIntensity!==1&&(r.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(r.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(r.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(r.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(r.shininess=this.shininess),this.clearcoat!==void 0&&(r.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(r.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(r.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(r.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(r.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,r.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.iridescence!==void 0&&(r.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(r.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(r.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(r.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(r.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.anisotropy!==void 0&&(r.anisotropy=this.anisotropy),this.anisotropyRotation!==void 0&&(r.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(r.anisotropyMap=this.anisotropyMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(r.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(r.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(r.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(r.lightMap=this.lightMap.toJSON(e).uuid,r.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(r.aoMap=this.aoMap.toJSON(e).uuid,r.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(r.bumpMap=this.bumpMap.toJSON(e).uuid,r.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(r.normalMap=this.normalMap.toJSON(e).uuid,r.normalMapType=this.normalMapType,r.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(r.displacementMap=this.displacementMap.toJSON(e).uuid,r.displacementScale=this.displacementScale,r.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(r.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(r.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(r.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(r.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(r.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(r.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(r.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(r.combine=this.combine)),this.envMapIntensity!==void 0&&(r.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(r.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(r.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(r.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(r.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(r.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(r.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(r.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(r.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(r.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(r.size=this.size),this.shadowSide!==null&&(r.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(r.sizeAttenuation=this.sizeAttenuation),this.blending!==xl&&(r.blending=this.blending),this.side!==To&&(r.side=this.side),this.vertexColors&&(r.vertexColors=!0),this.opacity<1&&(r.opacity=this.opacity),this.transparent===!0&&(r.transparent=this.transparent),r.depthFunc=this.depthFunc,r.depthTest=this.depthTest,r.depthWrite=this.depthWrite,r.colorWrite=this.colorWrite,r.stencilWrite=this.stencilWrite,r.stencilWriteMask=this.stencilWriteMask,r.stencilFunc=this.stencilFunc,r.stencilRef=this.stencilRef,r.stencilFuncMask=this.stencilFuncMask,r.stencilFail=this.stencilFail,r.stencilZFail=this.stencilZFail,r.stencilZPass=this.stencilZPass,this.rotation!==void 0&&this.rotation!==0&&(r.rotation=this.rotation),this.polygonOffset===!0&&(r.polygonOffset=!0),this.polygonOffsetFactor!==0&&(r.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(r.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(r.linewidth=this.linewidth),this.dashSize!==void 0&&(r.dashSize=this.dashSize),this.gapSize!==void 0&&(r.gapSize=this.gapSize),this.scale!==void 0&&(r.scale=this.scale),this.dithering===!0&&(r.dithering=!0),this.alphaTest>0&&(r.alphaTest=this.alphaTest),this.alphaHash===!0&&(r.alphaHash=this.alphaHash),this.alphaToCoverage===!0&&(r.alphaToCoverage=this.alphaToCoverage),this.premultipliedAlpha===!0&&(r.premultipliedAlpha=this.premultipliedAlpha),this.forceSinglePass===!0&&(r.forceSinglePass=this.forceSinglePass),this.wireframe===!0&&(r.wireframe=this.wireframe),this.wireframeLinewidth>1&&(r.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(r.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(r.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(r.flatShading=this.flatShading),this.visible===!1&&(r.visible=!1),this.toneMapped===!1&&(r.toneMapped=!1),this.fog===!1&&(r.fog=!1),Object.keys(this.userData).length>0&&(r.userData=this.userData);function i(s){const o=[];for(const a in s){const l=s[a];delete l.metadata,o.push(l)}return o}if(t){const s=i(e.textures),o=i(e.images);s.length>0&&(r.textures=s),o.length>0&&(r.images=o)}return r}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const t=e.clippingPlanes;let r=null;if(t!==null){const i=t.length;r=new Array(i);for(let s=0;s!==i;++s)r[s]=t[s].clone()}return this.clippingPlanes=r,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaHash=e.alphaHash,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}}const BO={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},ts={h:0,s:0,l:0},nm={h:0,s:0,l:0};function qx(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*6*(2/3-t):n}class Ye{constructor(e,t,r){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(e,t,r)}set(e,t,r){if(t===void 0&&r===void 0){const i=e;i&&i.isColor?this.copy(i):typeof i=="number"?this.setHex(i):typeof i=="string"&&this.setStyle(i)}else this.setRGB(e,t,r);return this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,t=_t){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,Ui.toWorkingColorSpace(this,t),this}setRGB(e,t,r,i=Ui.workingColorSpace){return this.r=e,this.g=t,this.b=r,Ui.toWorkingColorSpace(this,i),this}setHSL(e,t,r,i=Ui.workingColorSpace){if(e=Eb(e,1),t=Pn(t,0,1),r=Pn(r,0,1),t===0)this.r=this.g=this.b=r;else{const s=r<=.5?r*(1+t):r+t-r*t,o=2*r-s;this.r=qx(o,s,e+1/3),this.g=qx(o,s,e),this.b=qx(o,s,e-1/3)}return Ui.toWorkingColorSpace(this,i),this}setStyle(e,t=_t){function r(s){s!==void 0&&parseFloat(s)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let i;if(i=/^(\w+)\(([^\)]*)\)/.exec(e)){let s;const o=i[1],a=i[2];switch(o){case"rgb":case"rgba":if(s=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return r(s[4]),this.setRGB(Math.min(255,parseInt(s[1],10))/255,Math.min(255,parseInt(s[2],10))/255,Math.min(255,parseInt(s[3],10))/255,t);if(s=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return r(s[4]),this.setRGB(Math.min(100,parseInt(s[1],10))/100,Math.min(100,parseInt(s[2],10))/100,Math.min(100,parseInt(s[3],10))/100,t);break;case"hsl":case"hsla":if(s=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return r(s[4]),this.setHSL(parseFloat(s[1])/360,parseFloat(s[2])/100,parseFloat(s[3])/100,t);break;default:console.warn("THREE.Color: Unknown color model "+e)}}else if(i=/^\#([A-Fa-f\d]+)$/.exec(e)){const s=i[1],o=s.length;if(o===3)return this.setRGB(parseInt(s.charAt(0),16)/15,parseInt(s.charAt(1),16)/15,parseInt(s.charAt(2),16)/15,t);if(o===6)return this.setHex(parseInt(s,16),t);console.warn("THREE.Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,t);return this}setColorName(e,t=_t){const r=BO[e.toLowerCase()];return r!==void 0?this.setHex(r,t):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=au(e.r),this.g=au(e.g),this.b=au(e.b),this}copyLinearToSRGB(e){return this.r=Dx(e.r),this.g=Dx(e.g),this.b=Dx(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=_t){return Ui.fromWorkingColorSpace(Er.copy(this),e),Math.round(Pn(Er.r*255,0,255))*65536+Math.round(Pn(Er.g*255,0,255))*256+Math.round(Pn(Er.b*255,0,255))}getHexString(e=_t){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,t=Ui.workingColorSpace){Ui.fromWorkingColorSpace(Er.copy(this),t);const r=Er.r,i=Er.g,s=Er.b,o=Math.max(r,i,s),a=Math.min(r,i,s);let l,u;const f=(a+o)/2;if(a===o)l=0,u=0;else{const h=o-a;switch(u=f<=.5?h/(o+a):h/(2-o-a),o){case r:l=(i-s)/h+(i<s?6:0);break;case i:l=(s-r)/h+2;break;case s:l=(r-i)/h+4;break}l/=6}return e.h=l,e.s=u,e.l=f,e}getRGB(e,t=Ui.workingColorSpace){return Ui.fromWorkingColorSpace(Er.copy(this),t),e.r=Er.r,e.g=Er.g,e.b=Er.b,e}getStyle(e=_t){Ui.fromWorkingColorSpace(Er.copy(this),e);const t=Er.r,r=Er.g,i=Er.b;return e!==_t?`color(${e} ${t.toFixed(3)} ${r.toFixed(3)} ${i.toFixed(3)})`:`rgb(${Math.round(t*255)},${Math.round(r*255)},${Math.round(i*255)})`}offsetHSL(e,t,r){return this.getHSL(ts),ts.h+=e,ts.s+=t,ts.l+=r,this.setHSL(ts.h,ts.s,ts.l),this}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this}lerpColors(e,t,r){return this.r=e.r+(t.r-e.r)*r,this.g=e.g+(t.g-e.g)*r,this.b=e.b+(t.b-e.b)*r,this}lerpHSL(e,t){this.getHSL(ts),e.getHSL(nm);const r=nf(ts.h,nm.h,t),i=nf(ts.s,nm.s,t),s=nf(ts.l,nm.l,t);return this.setHSL(r,i,s),this}setFromVector3(e){return this.r=e.x,this.g=e.y,this.b=e.z,this}applyMatrix3(e){const t=this.r,r=this.g,i=this.b,s=e.elements;return this.r=s[0]*t+s[3]*r+s[6]*i,this.g=s[1]*t+s[4]*r+s[7]*i,this.b=s[2]*t+s[5]*r+s[8]*i,this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,t=0){return this.r=e[t],this.g=e[t+1],this.b=e[t+2],this}toArray(e=[],t=0){return e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e}fromBufferAttribute(e,t){return this.r=e.getX(t),this.g=e.getY(t),this.b=e.getZ(t),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}const Er=new Ye;Ye.NAMES=BO;class Aa extends pr{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new Ye(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=fh,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const ho=Pz();function Pz(){const n=new ArrayBuffer(4),e=new Float32Array(n),t=new Uint32Array(n),r=new Uint32Array(512),i=new Uint32Array(512);for(let l=0;l<256;++l){const u=l-127;u<-27?(r[l]=0,r[l|256]=32768,i[l]=24,i[l|256]=24):u<-14?(r[l]=1024>>-u-14,r[l|256]=1024>>-u-14|32768,i[l]=-u-1,i[l|256]=-u-1):u<=15?(r[l]=u+15<<10,r[l|256]=u+15<<10|32768,i[l]=13,i[l|256]=13):u<128?(r[l]=31744,r[l|256]=64512,i[l]=24,i[l|256]=24):(r[l]=31744,r[l|256]=64512,i[l]=13,i[l|256]=13)}const s=new Uint32Array(2048),o=new Uint32Array(64),a=new Uint32Array(64);for(let l=1;l<1024;++l){let u=l<<13,f=0;for(;!(u&8388608);)u<<=1,f-=8388608;u&=-8388609,f+=947912704,s[l]=u|f}for(let l=1024;l<2048;++l)s[l]=939524096+(l-1024<<13);for(let l=1;l<31;++l)o[l]=l<<23;o[31]=1199570944,o[32]=2147483648;for(let l=33;l<63;++l)o[l]=2147483648+(l-32<<23);o[63]=3347054592;for(let l=1;l<64;++l)l!==32&&(a[l]=1024);return{floatView:e,uint32View:t,baseTable:r,shiftTable:i,mantissaTable:s,exponentTable:o,offsetTable:a}}function qr(n){Math.abs(n)>65504&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range."),n=Pn(n,-65504,65504),ho.floatView[0]=n;const e=ho.uint32View[0],t=e>>23&511;return ho.baseTable[t]+((e&8388607)>>ho.shiftTable[t])}function jd(n){const e=n>>10;return ho.uint32View[0]=ho.mantissaTable[ho.offsetTable[e]+(n&1023)]+ho.exponentTable[e],ho.floatView[0]}const Lz={toHalfFloat:qr,fromHalfFloat:jd},jn=new z,rm=new _e;class Ut{constructor(e,t,r=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=e,this.itemSize=t,this.count=e!==void 0?e.length/t:0,this.normalized=r,this.usage=Uf,this.updateRange={offset:0,count:-1},this.gpuType=Ds,this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this.gpuType=e.gpuType,this}copyAt(e,t,r){e*=this.itemSize,r*=t.itemSize;for(let i=0,s=this.itemSize;i<s;i++)this.array[e+i]=t.array[r+i];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(this.itemSize===2)for(let t=0,r=this.count;t<r;t++)rm.fromBufferAttribute(this,t),rm.applyMatrix3(e),this.setXY(t,rm.x,rm.y);else if(this.itemSize===3)for(let t=0,r=this.count;t<r;t++)jn.fromBufferAttribute(this,t),jn.applyMatrix3(e),this.setXYZ(t,jn.x,jn.y,jn.z);return this}applyMatrix4(e){for(let t=0,r=this.count;t<r;t++)jn.fromBufferAttribute(this,t),jn.applyMatrix4(e),this.setXYZ(t,jn.x,jn.y,jn.z);return this}applyNormalMatrix(e){for(let t=0,r=this.count;t<r;t++)jn.fromBufferAttribute(this,t),jn.applyNormalMatrix(e),this.setXYZ(t,jn.x,jn.y,jn.z);return this}transformDirection(e){for(let t=0,r=this.count;t<r;t++)jn.fromBufferAttribute(this,t),jn.transformDirection(e),this.setXYZ(t,jn.x,jn.y,jn.z);return this}set(e,t=0){return this.array.set(e,t),this}getX(e){let t=this.array[e*this.itemSize];return this.normalized&&(t=yi(t,this.array)),t}setX(e,t){return this.normalized&&(t=Mt(t,this.array)),this.array[e*this.itemSize]=t,this}getY(e){let t=this.array[e*this.itemSize+1];return this.normalized&&(t=yi(t,this.array)),t}setY(e,t){return this.normalized&&(t=Mt(t,this.array)),this.array[e*this.itemSize+1]=t,this}getZ(e){let t=this.array[e*this.itemSize+2];return this.normalized&&(t=yi(t,this.array)),t}setZ(e,t){return this.normalized&&(t=Mt(t,this.array)),this.array[e*this.itemSize+2]=t,this}getW(e){let t=this.array[e*this.itemSize+3];return this.normalized&&(t=yi(t,this.array)),t}setW(e,t){return this.normalized&&(t=Mt(t,this.array)),this.array[e*this.itemSize+3]=t,this}setXY(e,t,r){return e*=this.itemSize,this.normalized&&(t=Mt(t,this.array),r=Mt(r,this.array)),this.array[e+0]=t,this.array[e+1]=r,this}setXYZ(e,t,r,i){return e*=this.itemSize,this.normalized&&(t=Mt(t,this.array),r=Mt(r,this.array),i=Mt(i,this.array)),this.array[e+0]=t,this.array[e+1]=r,this.array[e+2]=i,this}setXYZW(e,t,r,i,s){return e*=this.itemSize,this.normalized&&(t=Mt(t,this.array),r=Mt(r,this.array),i=Mt(i,this.array),s=Mt(s,this.array)),this.array[e+0]=t,this.array[e+1]=r,this.array[e+2]=i,this.array[e+3]=s,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==Uf&&(e.usage=this.usage),(this.updateRange.offset!==0||this.updateRange.count!==-1)&&(e.updateRange=this.updateRange),e}}class Oz extends Ut{constructor(e,t,r){super(new Int8Array(e),t,r)}}class kz extends Ut{constructor(e,t,r){super(new Uint8Array(e),t,r)}}class Iz extends Ut{constructor(e,t,r){super(new Uint8ClampedArray(e),t,r)}}class Nz extends Ut{constructor(e,t,r){super(new Int16Array(e),t,r)}}class Cb extends Ut{constructor(e,t,r){super(new Uint16Array(e),t,r)}}class Dz extends Ut{constructor(e,t,r){super(new Int32Array(e),t,r)}}class Ab extends Ut{constructor(e,t,r){super(new Uint32Array(e),t,r)}}class Uz extends Ut{constructor(e,t,r){super(new Uint16Array(e),t,r),this.isFloat16BufferAttribute=!0}getX(e){let t=jd(this.array[e*this.itemSize]);return this.normalized&&(t=yi(t,this.array)),t}setX(e,t){return this.normalized&&(t=Mt(t,this.array)),this.array[e*this.itemSize]=qr(t),this}getY(e){let t=jd(this.array[e*this.itemSize+1]);return this.normalized&&(t=yi(t,this.array)),t}setY(e,t){return this.normalized&&(t=Mt(t,this.array)),this.array[e*this.itemSize+1]=qr(t),this}getZ(e){let t=jd(this.array[e*this.itemSize+2]);return this.normalized&&(t=yi(t,this.array)),t}setZ(e,t){return this.normalized&&(t=Mt(t,this.array)),this.array[e*this.itemSize+2]=qr(t),this}getW(e){let t=jd(this.array[e*this.itemSize+3]);return this.normalized&&(t=yi(t,this.array)),t}setW(e,t){return this.normalized&&(t=Mt(t,this.array)),this.array[e*this.itemSize+3]=qr(t),this}setXY(e,t,r){return e*=this.itemSize,this.normalized&&(t=Mt(t,this.array),r=Mt(r,this.array)),this.array[e+0]=qr(t),this.array[e+1]=qr(r),this}setXYZ(e,t,r,i){return e*=this.itemSize,this.normalized&&(t=Mt(t,this.array),r=Mt(r,this.array),i=Mt(i,this.array)),this.array[e+0]=qr(t),this.array[e+1]=qr(r),this.array[e+2]=qr(i),this}setXYZW(e,t,r,i,s){return e*=this.itemSize,this.normalized&&(t=Mt(t,this.array),r=Mt(r,this.array),i=Mt(i,this.array),s=Mt(s,this.array)),this.array[e+0]=qr(t),this.array[e+1]=qr(r),this.array[e+2]=qr(i),this.array[e+3]=qr(s),this}}class et extends Ut{constructor(e,t,r){super(new Float32Array(e),t,r)}}class Fz extends Ut{constructor(e,t,r){super(new Float64Array(e),t,r)}}let zz=0;const Ni=new pt,Yx=new Vt,dc=new z,fi=new Mi,wd=new Mi,nr=new z;class mt extends Gs{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:zz++}),this.uuid=_i(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(zO(e)?Ab:Cb)(e,1):this.index=e,this}getAttribute(e){return this.attributes[e]}setAttribute(e,t){return this.attributes[e]=t,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,t,r=0){this.groups.push({start:e,count:t,materialIndex:r})}clearGroups(){this.groups=[]}setDrawRange(e,t){this.drawRange.start=e,this.drawRange.count=t}applyMatrix4(e){const t=this.attributes.position;t!==void 0&&(t.applyMatrix4(e),t.needsUpdate=!0);const r=this.attributes.normal;if(r!==void 0){const s=new Et().getNormalMatrix(e);r.applyNormalMatrix(s),r.needsUpdate=!0}const i=this.attributes.tangent;return i!==void 0&&(i.transformDirection(e),i.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return Ni.makeRotationFromQuaternion(e),this.applyMatrix4(Ni),this}rotateX(e){return Ni.makeRotationX(e),this.applyMatrix4(Ni),this}rotateY(e){return Ni.makeRotationY(e),this.applyMatrix4(Ni),this}rotateZ(e){return Ni.makeRotationZ(e),this.applyMatrix4(Ni),this}translate(e,t,r){return Ni.makeTranslation(e,t,r),this.applyMatrix4(Ni),this}scale(e,t,r){return Ni.makeScale(e,t,r),this.applyMatrix4(Ni),this}lookAt(e){return Yx.lookAt(e),Yx.updateMatrix(),this.applyMatrix4(Yx.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(dc).negate(),this.translate(dc.x,dc.y,dc.z),this}setFromPoints(e){const t=[];for(let r=0,i=e.length;r<i;r++){const s=e[r];t.push(s.x,s.y,s.z||0)}return this.setAttribute("position",new et(t,3)),this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new Mi);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingBox.set(new z(-1/0,-1/0,-1/0),new z(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),t)for(let r=0,i=t.length;r<i;r++){const s=t[r];fi.setFromBufferAttribute(s),this.morphTargetsRelative?(nr.addVectors(this.boundingBox.min,fi.min),this.boundingBox.expandByPoint(nr),nr.addVectors(this.boundingBox.max,fi.max),this.boundingBox.expandByPoint(nr)):(this.boundingBox.expandByPoint(fi.min),this.boundingBox.expandByPoint(fi.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new vs);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingSphere.set(new z,1/0);return}if(e){const r=this.boundingSphere.center;if(fi.setFromBufferAttribute(e),t)for(let s=0,o=t.length;s<o;s++){const a=t[s];wd.setFromBufferAttribute(a),this.morphTargetsRelative?(nr.addVectors(fi.min,wd.min),fi.expandByPoint(nr),nr.addVectors(fi.max,wd.max),fi.expandByPoint(nr)):(fi.expandByPoint(wd.min),fi.expandByPoint(wd.max))}fi.getCenter(r);let i=0;for(let s=0,o=e.count;s<o;s++)nr.fromBufferAttribute(e,s),i=Math.max(i,r.distanceToSquared(nr));if(t)for(let s=0,o=t.length;s<o;s++){const a=t[s],l=this.morphTargetsRelative;for(let u=0,f=a.count;u<f;u++)nr.fromBufferAttribute(a,u),l&&(dc.fromBufferAttribute(e,u),nr.add(dc)),i=Math.max(i,r.distanceToSquared(nr))}this.boundingSphere.radius=Math.sqrt(i),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,t=this.attributes;if(e===null||t.position===void 0||t.normal===void 0||t.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const r=e.array,i=t.position.array,s=t.normal.array,o=t.uv.array,a=i.length/3;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new Ut(new Float32Array(4*a),4));const l=this.getAttribute("tangent").array,u=[],f=[];for(let A=0;A<a;A++)u[A]=new z,f[A]=new z;const h=new z,p=new z,g=new z,v=new _e,x=new _e,_=new _e,m=new z,w=new z;function S(A,U,W){h.fromArray(i,A*3),p.fromArray(i,U*3),g.fromArray(i,W*3),v.fromArray(o,A*2),x.fromArray(o,U*2),_.fromArray(o,W*2),p.sub(h),g.sub(h),x.sub(v),_.sub(v);const F=1/(x.x*_.y-_.x*x.y);isFinite(F)&&(m.copy(p).multiplyScalar(_.y).addScaledVector(g,-x.y).multiplyScalar(F),w.copy(g).multiplyScalar(x.x).addScaledVector(p,-_.x).multiplyScalar(F),u[A].add(m),u[U].add(m),u[W].add(m),f[A].add(w),f[U].add(w),f[W].add(w))}let M=this.groups;M.length===0&&(M=[{start:0,count:r.length}]);for(let A=0,U=M.length;A<U;++A){const W=M[A],F=W.start,G=W.count;for(let X=F,Z=F+G;X<Z;X+=3)S(r[X+0],r[X+1],r[X+2])}const R=new z,P=new z,L=new z,k=new z;function C(A){L.fromArray(s,A*3),k.copy(L);const U=u[A];R.copy(U),R.sub(L.multiplyScalar(L.dot(U))).normalize(),P.crossVectors(k,U);const F=P.dot(f[A])<0?-1:1;l[A*4]=R.x,l[A*4+1]=R.y,l[A*4+2]=R.z,l[A*4+3]=F}for(let A=0,U=M.length;A<U;++A){const W=M[A],F=W.start,G=W.count;for(let X=F,Z=F+G;X<Z;X+=3)C(r[X+0]),C(r[X+1]),C(r[X+2])}}computeVertexNormals(){const e=this.index,t=this.getAttribute("position");if(t!==void 0){let r=this.getAttribute("normal");if(r===void 0)r=new Ut(new Float32Array(t.count*3),3),this.setAttribute("normal",r);else for(let p=0,g=r.count;p<g;p++)r.setXYZ(p,0,0,0);const i=new z,s=new z,o=new z,a=new z,l=new z,u=new z,f=new z,h=new z;if(e)for(let p=0,g=e.count;p<g;p+=3){const v=e.getX(p+0),x=e.getX(p+1),_=e.getX(p+2);i.fromBufferAttribute(t,v),s.fromBufferAttribute(t,x),o.fromBufferAttribute(t,_),f.subVectors(o,s),h.subVectors(i,s),f.cross(h),a.fromBufferAttribute(r,v),l.fromBufferAttribute(r,x),u.fromBufferAttribute(r,_),a.add(f),l.add(f),u.add(f),r.setXYZ(v,a.x,a.y,a.z),r.setXYZ(x,l.x,l.y,l.z),r.setXYZ(_,u.x,u.y,u.z)}else for(let p=0,g=t.count;p<g;p+=3)i.fromBufferAttribute(t,p+0),s.fromBufferAttribute(t,p+1),o.fromBufferAttribute(t,p+2),f.subVectors(o,s),h.subVectors(i,s),f.cross(h),r.setXYZ(p+0,f.x,f.y,f.z),r.setXYZ(p+1,f.x,f.y,f.z),r.setXYZ(p+2,f.x,f.y,f.z);this.normalizeNormals(),r.needsUpdate=!0}}normalizeNormals(){const e=this.attributes.normal;for(let t=0,r=e.count;t<r;t++)nr.fromBufferAttribute(e,t),nr.normalize(),e.setXYZ(t,nr.x,nr.y,nr.z)}toNonIndexed(){function e(a,l){const u=a.array,f=a.itemSize,h=a.normalized,p=new u.constructor(l.length*f);let g=0,v=0;for(let x=0,_=l.length;x<_;x++){a.isInterleavedBufferAttribute?g=l[x]*a.data.stride+a.offset:g=l[x]*f;for(let m=0;m<f;m++)p[v++]=u[g++]}return new Ut(p,f,h)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const t=new mt,r=this.index.array,i=this.attributes;for(const a in i){const l=i[a],u=e(l,r);t.setAttribute(a,u)}const s=this.morphAttributes;for(const a in s){const l=[],u=s[a];for(let f=0,h=u.length;f<h;f++){const p=u[f],g=e(p,r);l.push(g)}t.morphAttributes[a]=l}t.morphTargetsRelative=this.morphTargetsRelative;const o=this.groups;for(let a=0,l=o.length;a<l;a++){const u=o[a];t.addGroup(u.start,u.count,u.materialIndex)}return t}toJSON(){const e={metadata:{version:4.6,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const l=this.parameters;for(const u in l)l[u]!==void 0&&(e[u]=l[u]);return e}e.data={attributes:{}};const t=this.index;t!==null&&(e.data.index={type:t.array.constructor.name,array:Array.prototype.slice.call(t.array)});const r=this.attributes;for(const l in r){const u=r[l];e.data.attributes[l]=u.toJSON(e.data)}const i={};let s=!1;for(const l in this.morphAttributes){const u=this.morphAttributes[l],f=[];for(let h=0,p=u.length;h<p;h++){const g=u[h];f.push(g.toJSON(e.data))}f.length>0&&(i[l]=f,s=!0)}s&&(e.data.morphAttributes=i,e.data.morphTargetsRelative=this.morphTargetsRelative);const o=this.groups;o.length>0&&(e.data.groups=JSON.parse(JSON.stringify(o)));const a=this.boundingSphere;return a!==null&&(e.data.boundingSphere={center:a.center.toArray(),radius:a.radius}),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const t={};this.name=e.name;const r=e.index;r!==null&&this.setIndex(r.clone(t));const i=e.attributes;for(const u in i){const f=i[u];this.setAttribute(u,f.clone(t))}const s=e.morphAttributes;for(const u in s){const f=[],h=s[u];for(let p=0,g=h.length;p<g;p++)f.push(h[p].clone(t));this.morphAttributes[u]=f}this.morphTargetsRelative=e.morphTargetsRelative;const o=e.groups;for(let u=0,f=o.length;u<f;u++){const h=o[u];this.addGroup(h.start,h.count,h.materialIndex)}const a=e.boundingBox;a!==null&&(this.boundingBox=a.clone());const l=e.boundingSphere;return l!==null&&(this.boundingSphere=l.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const Q2=new pt,Ha=new Iu,im=new vs,eC=new z,fc=new z,hc=new z,pc=new z,Kx=new z,sm=new z,om=new _e,am=new _e,lm=new _e,tC=new z,nC=new z,rC=new z,cm=new z,um=new z;class ir extends Vt{constructor(e=new mt,t=new Aa){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=e.material,this.geometry=e.geometry,this}updateMorphTargets(){const t=this.geometry.morphAttributes,r=Object.keys(t);if(r.length>0){const i=t[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=i.length;s<o;s++){const a=i[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}getVertexPosition(e,t){const r=this.geometry,i=r.attributes.position,s=r.morphAttributes.position,o=r.morphTargetsRelative;t.fromBufferAttribute(i,e);const a=this.morphTargetInfluences;if(s&&a){sm.set(0,0,0);for(let l=0,u=s.length;l<u;l++){const f=a[l],h=s[l];f!==0&&(Kx.fromBufferAttribute(h,e),o?sm.addScaledVector(Kx,f):sm.addScaledVector(Kx.sub(t),f))}t.add(sm)}return t}raycast(e,t){const r=this.geometry,i=this.material,s=this.matrixWorld;i!==void 0&&(r.boundingSphere===null&&r.computeBoundingSphere(),im.copy(r.boundingSphere),im.applyMatrix4(s),Ha.copy(e.ray).recast(e.near),!(im.containsPoint(Ha.origin)===!1&&(Ha.intersectSphere(im,eC)===null||Ha.origin.distanceToSquared(eC)>(e.far-e.near)**2))&&(Q2.copy(s).invert(),Ha.copy(e.ray).applyMatrix4(Q2),!(r.boundingBox!==null&&Ha.intersectsBox(r.boundingBox)===!1)&&this._computeIntersections(e,t,Ha)))}_computeIntersections(e,t,r){let i;const s=this.geometry,o=this.material,a=s.index,l=s.attributes.position,u=s.attributes.uv,f=s.attributes.uv1,h=s.attributes.normal,p=s.groups,g=s.drawRange;if(a!==null)if(Array.isArray(o))for(let v=0,x=p.length;v<x;v++){const _=p[v],m=o[_.materialIndex],w=Math.max(_.start,g.start),S=Math.min(a.count,Math.min(_.start+_.count,g.start+g.count));for(let M=w,R=S;M<R;M+=3){const P=a.getX(M),L=a.getX(M+1),k=a.getX(M+2);i=dm(this,m,e,r,u,f,h,P,L,k),i&&(i.faceIndex=Math.floor(M/3),i.face.materialIndex=_.materialIndex,t.push(i))}}else{const v=Math.max(0,g.start),x=Math.min(a.count,g.start+g.count);for(let _=v,m=x;_<m;_+=3){const w=a.getX(_),S=a.getX(_+1),M=a.getX(_+2);i=dm(this,o,e,r,u,f,h,w,S,M),i&&(i.faceIndex=Math.floor(_/3),t.push(i))}}else if(l!==void 0)if(Array.isArray(o))for(let v=0,x=p.length;v<x;v++){const _=p[v],m=o[_.materialIndex],w=Math.max(_.start,g.start),S=Math.min(l.count,Math.min(_.start+_.count,g.start+g.count));for(let M=w,R=S;M<R;M+=3){const P=M,L=M+1,k=M+2;i=dm(this,m,e,r,u,f,h,P,L,k),i&&(i.faceIndex=Math.floor(M/3),i.face.materialIndex=_.materialIndex,t.push(i))}}else{const v=Math.max(0,g.start),x=Math.min(l.count,g.start+g.count);for(let _=v,m=x;_<m;_+=3){const w=_,S=_+1,M=_+2;i=dm(this,o,e,r,u,f,h,w,S,M),i&&(i.faceIndex=Math.floor(_/3),t.push(i))}}}}function Bz(n,e,t,r,i,s,o,a){let l;if(e.side===zr?l=r.intersectTriangle(o,s,i,!0,a):l=r.intersectTriangle(i,s,o,e.side===To,a),l===null)return null;um.copy(a),um.applyMatrix4(n.matrixWorld);const u=t.ray.origin.distanceTo(um);return u<t.near||u>t.far?null:{distance:u,point:um.clone(),object:n}}function dm(n,e,t,r,i,s,o,a,l,u){n.getVertexPosition(a,fc),n.getVertexPosition(l,hc),n.getVertexPosition(u,pc);const f=Bz(n,e,t,r,fc,hc,pc,cm);if(f){i&&(om.fromBufferAttribute(i,a),am.fromBufferAttribute(i,l),lm.fromBufferAttribute(i,u),f.uv=Jr.getInterpolation(cm,fc,hc,pc,om,am,lm,new _e)),s&&(om.fromBufferAttribute(s,a),am.fromBufferAttribute(s,l),lm.fromBufferAttribute(s,u),f.uv1=Jr.getInterpolation(cm,fc,hc,pc,om,am,lm,new _e),f.uv2=f.uv1),o&&(tC.fromBufferAttribute(o,a),nC.fromBufferAttribute(o,l),rC.fromBufferAttribute(o,u),f.normal=Jr.getInterpolation(cm,fc,hc,pc,tC,nC,rC,new z),f.normal.dot(r.direction)>0&&f.normal.multiplyScalar(-1));const h={a,b:l,c:u,normal:new z,materialIndex:0};Jr.getNormal(fc,hc,pc,h.normal),f.face=h}return f}class Fl extends mt{constructor(e=1,t=1,r=1,i=1,s=1,o=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:t,depth:r,widthSegments:i,heightSegments:s,depthSegments:o};const a=this;i=Math.floor(i),s=Math.floor(s),o=Math.floor(o);const l=[],u=[],f=[],h=[];let p=0,g=0;v("z","y","x",-1,-1,r,t,e,o,s,0),v("z","y","x",1,-1,r,t,-e,o,s,1),v("x","z","y",1,1,e,r,t,i,o,2),v("x","z","y",1,-1,e,r,-t,i,o,3),v("x","y","z",1,-1,e,t,r,i,s,4),v("x","y","z",-1,-1,e,t,-r,i,s,5),this.setIndex(l),this.setAttribute("position",new et(u,3)),this.setAttribute("normal",new et(f,3)),this.setAttribute("uv",new et(h,2));function v(x,_,m,w,S,M,R,P,L,k,C){const A=M/L,U=R/k,W=M/2,F=R/2,G=P/2,X=L+1,Z=k+1;let J=0,D=0;const $=new z;for(let q=0;q<Z;q++){const Y=q*U-F;for(let Q=0;Q<X;Q++){const Ce=Q*A-W;$[x]=Ce*w,$[_]=Y*S,$[m]=G,u.push($.x,$.y,$.z),$[x]=0,$[_]=0,$[m]=P>0?1:-1,f.push($.x,$.y,$.z),h.push(Q/L),h.push(1-q/k),J+=1}}for(let q=0;q<k;q++)for(let Y=0;Y<L;Y++){const Q=p+Y+X*q,Ce=p+Y+X*(q+1),ge=p+(Y+1)+X*(q+1),ie=p+(Y+1)+X*q;l.push(Q,Ce,ie),l.push(Ce,ge,ie),D+=6}a.addGroup(g,D,C),g+=D,p+=J}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Fl(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function wu(n){const e={};for(const t in n){e[t]={};for(const r in n[t]){const i=n[t][r];i&&(i.isColor||i.isMatrix3||i.isMatrix4||i.isVector2||i.isVector3||i.isVector4||i.isTexture||i.isQuaternion)?i.isRenderTargetTexture?(console.warn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),e[t][r]=null):e[t][r]=i.clone():Array.isArray(i)?e[t][r]=i.slice():e[t][r]=i}}return e}function Dr(n){const e={};for(let t=0;t<n.length;t++){const r=wu(n[t]);for(const i in r)e[i]=r[i]}return e}function jz(n){const e=[];for(let t=0;t<n.length;t++)e.push(n[t].clone());return e}function jO(n){return n.getRenderTarget()===null?n.outputColorSpace:hs}const HO={clone:wu,merge:Dr};var Hz=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,Vz=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class Ws extends pr{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=Hz,this.fragmentShader=Vz,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=wu(e.uniforms),this.uniformsGroups=jz(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const t=super.toJSON(e);t.glslVersion=this.glslVersion,t.uniforms={};for(const i in this.uniforms){const o=this.uniforms[i].value;o&&o.isTexture?t.uniforms[i]={type:"t",value:o.toJSON(e).uuid}:o&&o.isColor?t.uniforms[i]={type:"c",value:o.getHex()}:o&&o.isVector2?t.uniforms[i]={type:"v2",value:o.toArray()}:o&&o.isVector3?t.uniforms[i]={type:"v3",value:o.toArray()}:o&&o.isVector4?t.uniforms[i]={type:"v4",value:o.toArray()}:o&&o.isMatrix3?t.uniforms[i]={type:"m3",value:o.toArray()}:o&&o.isMatrix4?t.uniforms[i]={type:"m4",value:o.toArray()}:t.uniforms[i]={value:o}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader,t.lights=this.lights,t.clipping=this.clipping;const r={};for(const i in this.extensions)this.extensions[i]===!0&&(r[i]=!0);return Object.keys(r).length>0&&(t.extensions=r),t}}let ph=class extends Vt{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new pt,this.projectionMatrix=new pt,this.projectionMatrixInverse=new pt,this.coordinateSystem=Us}copy(e,t){return super.copy(e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this.coordinateSystem=e.coordinateSystem,this}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(-t[8],-t[9],-t[10]).normalize()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,t){super.updateWorldMatrix(e,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}};class pn extends ph{constructor(e=50,t=1,r=.1,i=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=r,this.far=i,this.focus=10,this.aspect=t,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const t=.5*this.getFilmHeight()/e;this.fov=_u*2*Math.atan(t),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(_l*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return _u*2*Math.atan(Math.tan(_l*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}setViewOffset(e,t,r,i,s,o){this.aspect=e/t,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=r,this.view.offsetY=i,this.view.width=s,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let t=e*Math.tan(_l*.5*this.fov)/this.zoom,r=2*t,i=this.aspect*r,s=-.5*i;const o=this.view;if(this.view!==null&&this.view.enabled){const l=o.fullWidth,u=o.fullHeight;s+=o.offsetX*i/l,t-=o.offsetY*r/u,i*=o.width/l,r*=o.height/u}const a=this.filmOffset;a!==0&&(s+=e*a/this.getFilmWidth()),this.projectionMatrix.makePerspective(s,s+i,t,t-r,e,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,this.view!==null&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}}const mc=-90,gc=1;class VO extends Vt{constructor(e,t,r){super(),this.type="CubeCamera",this.renderTarget=r,this.coordinateSystem=null;const i=new pn(mc,gc,e,t);i.layers=this.layers,this.add(i);const s=new pn(mc,gc,e,t);s.layers=this.layers,this.add(s);const o=new pn(mc,gc,e,t);o.layers=this.layers,this.add(o);const a=new pn(mc,gc,e,t);a.layers=this.layers,this.add(a);const l=new pn(mc,gc,e,t);l.layers=this.layers,this.add(l);const u=new pn(mc,gc,e,t);u.layers=this.layers,this.add(u)}updateCoordinateSystem(){const e=this.coordinateSystem,t=this.children.concat(),[r,i,s,o,a,l]=t;for(const u of t)this.remove(u);if(e===Us)r.up.set(0,1,0),r.lookAt(1,0,0),i.up.set(0,1,0),i.lookAt(-1,0,0),s.up.set(0,0,-1),s.lookAt(0,1,0),o.up.set(0,0,1),o.lookAt(0,-1,0),a.up.set(0,1,0),a.lookAt(0,0,1),l.up.set(0,1,0),l.lookAt(0,0,-1);else if(e===Ff)r.up.set(0,-1,0),r.lookAt(-1,0,0),i.up.set(0,-1,0),i.lookAt(1,0,0),s.up.set(0,0,1),s.lookAt(0,1,0),o.up.set(0,0,-1),o.lookAt(0,-1,0),a.up.set(0,-1,0),a.lookAt(0,0,1),l.up.set(0,-1,0),l.lookAt(0,0,-1);else throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+e);for(const u of t)this.add(u),u.updateMatrixWorld()}update(e,t){this.parent===null&&this.updateMatrixWorld();const r=this.renderTarget;this.coordinateSystem!==e.coordinateSystem&&(this.coordinateSystem=e.coordinateSystem,this.updateCoordinateSystem());const[i,s,o,a,l,u]=this.children,f=e.getRenderTarget(),h=e.toneMapping,p=e.xr.enabled;e.toneMapping=us,e.xr.enabled=!1;const g=r.texture.generateMipmaps;r.texture.generateMipmaps=!1,e.setRenderTarget(r,0),e.render(t,i),e.setRenderTarget(r,1),e.render(t,s),e.setRenderTarget(r,2),e.render(t,o),e.setRenderTarget(r,3),e.render(t,a),e.setRenderTarget(r,4),e.render(t,l),r.texture.generateMipmaps=g,e.setRenderTarget(r,5),e.render(t,u),e.setRenderTarget(f),e.toneMapping=h,e.xr.enabled=p,r.texture.needsPMREMUpdate=!0}}class mh extends Ln{constructor(e,t,r,i,s,o,a,l,u,f){e=e!==void 0?e:[],t=t!==void 0?t:_a,super(e,t,r,i,s,o,a,l,u,f),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class WO extends ps{constructor(e=1,t={}){super(e,e,t),this.isWebGLCubeRenderTarget=!0;const r={width:e,height:e,depth:1},i=[r,r,r,r,r,r];t.encoding!==void 0&&(rf("THREE.WebGLCubeRenderTarget: option.encoding has been replaced by option.colorSpace."),t.colorSpace=t.encoding===js?_t:ga),this.texture=new mh(i,t.mapping,t.wrapS,t.wrapT,t.magFilter,t.minFilter,t.format,t.type,t.anisotropy,t.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=t.generateMipmaps!==void 0?t.generateMipmaps:!1,this.texture.minFilter=t.minFilter!==void 0?t.minFilter:Dn}fromEquirectangularTexture(e,t){this.texture.type=t.type,this.texture.colorSpace=t.colorSpace,this.texture.generateMipmaps=t.generateMipmaps,this.texture.minFilter=t.minFilter,this.texture.magFilter=t.magFilter;const r={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},i=new Fl(5,5,5),s=new Ws({name:"CubemapFromEquirect",uniforms:wu(r.uniforms),vertexShader:r.vertexShader,fragmentShader:r.fragmentShader,side:zr,blending:xo});s.uniforms.tEquirect.value=t;const o=new ir(i,s),a=t.minFilter;return t.minFilter===Sa&&(t.minFilter=Dn),new VO(1,10,this).update(e,o),t.minFilter=a,o.geometry.dispose(),o.material.dispose(),this}clear(e,t,r,i){const s=e.getRenderTarget();for(let o=0;o<6;o++)e.setRenderTarget(this,o),e.clear(t,r,i);e.setRenderTarget(s)}}const Jx=new z,Wz=new z,Gz=new Et;class Ko{constructor(e=new z(1,0,0),t=0){this.isPlane=!0,this.normal=e,this.constant=t}set(e,t){return this.normal.copy(e),this.constant=t,this}setComponents(e,t,r,i){return this.normal.set(e,t,r),this.constant=i,this}setFromNormalAndCoplanarPoint(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this}setFromCoplanarPoints(e,t,r){const i=Jx.subVectors(r,t).cross(Wz.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(i,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,t){return t.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}intersectLine(e,t){const r=e.delta(Jx),i=this.normal.dot(r);if(i===0)return this.distanceToPoint(e.start)===0?t.copy(e.start):null;const s=-(e.start.dot(this.normal)+this.constant)/i;return s<0||s>1?null:t.copy(e.start).addScaledVector(r,s)}intersectsLine(e){const t=this.distanceToPoint(e.start),r=this.distanceToPoint(e.end);return t<0&&r>0||r<0&&t>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,t){const r=t||Gz.getNormalMatrix(e),i=this.coplanarPoint(Jx).applyMatrix4(e),s=this.normal.applyMatrix3(r).normalize();return this.constant=-i.dot(s),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}const Va=new vs,fm=new z;class K0{constructor(e=new Ko,t=new Ko,r=new Ko,i=new Ko,s=new Ko,o=new Ko){this.planes=[e,t,r,i,s,o]}set(e,t,r,i,s,o){const a=this.planes;return a[0].copy(e),a[1].copy(t),a[2].copy(r),a[3].copy(i),a[4].copy(s),a[5].copy(o),this}copy(e){const t=this.planes;for(let r=0;r<6;r++)t[r].copy(e.planes[r]);return this}setFromProjectionMatrix(e,t=Us){const r=this.planes,i=e.elements,s=i[0],o=i[1],a=i[2],l=i[3],u=i[4],f=i[5],h=i[6],p=i[7],g=i[8],v=i[9],x=i[10],_=i[11],m=i[12],w=i[13],S=i[14],M=i[15];if(r[0].setComponents(l-s,p-u,_-g,M-m).normalize(),r[1].setComponents(l+s,p+u,_+g,M+m).normalize(),r[2].setComponents(l+o,p+f,_+v,M+w).normalize(),r[3].setComponents(l-o,p-f,_-v,M-w).normalize(),r[4].setComponents(l-a,p-h,_-x,M-S).normalize(),t===Us)r[5].setComponents(l+a,p+h,_+x,M+S).normalize();else if(t===Ff)r[5].setComponents(a,h,x,S).normalize();else throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+t);return this}intersectsObject(e){if(e.boundingSphere!==void 0)e.boundingSphere===null&&e.computeBoundingSphere(),Va.copy(e.boundingSphere).applyMatrix4(e.matrixWorld);else{const t=e.geometry;t.boundingSphere===null&&t.computeBoundingSphere(),Va.copy(t.boundingSphere).applyMatrix4(e.matrixWorld)}return this.intersectsSphere(Va)}intersectsSprite(e){return Va.center.set(0,0,0),Va.radius=.7071067811865476,Va.applyMatrix4(e.matrixWorld),this.intersectsSphere(Va)}intersectsSphere(e){const t=this.planes,r=e.center,i=-e.radius;for(let s=0;s<6;s++)if(t[s].distanceToPoint(r)<i)return!1;return!0}intersectsBox(e){const t=this.planes;for(let r=0;r<6;r++){const i=t[r];if(fm.x=i.normal.x>0?e.max.x:e.min.x,fm.y=i.normal.y>0?e.max.y:e.min.y,fm.z=i.normal.z>0?e.max.z:e.min.z,i.distanceToPoint(fm)<0)return!1}return!0}containsPoint(e){const t=this.planes;for(let r=0;r<6;r++)if(t[r].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}function GO(){let n=null,e=!1,t=null,r=null;function i(s,o){t(s,o),r=n.requestAnimationFrame(i)}return{start:function(){e!==!0&&t!==null&&(r=n.requestAnimationFrame(i),e=!0)},stop:function(){n.cancelAnimationFrame(r),e=!1},setAnimationLoop:function(s){t=s},setContext:function(s){n=s}}}function $z(n,e){const t=e.isWebGL2,r=new WeakMap;function i(u,f){const h=u.array,p=u.usage,g=n.createBuffer();n.bindBuffer(f,g),n.bufferData(f,h,p),u.onUploadCallback();let v;if(h instanceof Float32Array)v=n.FLOAT;else if(h instanceof Uint16Array)if(u.isFloat16BufferAttribute)if(t)v=n.HALF_FLOAT;else throw new Error("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2.");else v=n.UNSIGNED_SHORT;else if(h instanceof Int16Array)v=n.SHORT;else if(h instanceof Uint32Array)v=n.UNSIGNED_INT;else if(h instanceof Int32Array)v=n.INT;else if(h instanceof Int8Array)v=n.BYTE;else if(h instanceof Uint8Array)v=n.UNSIGNED_BYTE;else if(h instanceof Uint8ClampedArray)v=n.UNSIGNED_BYTE;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+h);return{buffer:g,type:v,bytesPerElement:h.BYTES_PER_ELEMENT,version:u.version}}function s(u,f,h){const p=f.array,g=f.updateRange;n.bindBuffer(h,u),g.count===-1?n.bufferSubData(h,0,p):(t?n.bufferSubData(h,g.offset*p.BYTES_PER_ELEMENT,p,g.offset,g.count):n.bufferSubData(h,g.offset*p.BYTES_PER_ELEMENT,p.subarray(g.offset,g.offset+g.count)),g.count=-1),f.onUploadCallback()}function o(u){return u.isInterleavedBufferAttribute&&(u=u.data),r.get(u)}function a(u){u.isInterleavedBufferAttribute&&(u=u.data);const f=r.get(u);f&&(n.deleteBuffer(f.buffer),r.delete(u))}function l(u,f){if(u.isGLBufferAttribute){const p=r.get(u);(!p||p.version<u.version)&&r.set(u,{buffer:u.buffer,type:u.type,bytesPerElement:u.elementSize,version:u.version});return}u.isInterleavedBufferAttribute&&(u=u.data);const h=r.get(u);h===void 0?r.set(u,i(u,f)):h.version<u.version&&(s(h.buffer,u,f),h.version=u.version)}return{get:o,remove:a,update:l}}class gh extends mt{constructor(e=1,t=1,r=1,i=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:t,widthSegments:r,heightSegments:i};const s=e/2,o=t/2,a=Math.floor(r),l=Math.floor(i),u=a+1,f=l+1,h=e/a,p=t/l,g=[],v=[],x=[],_=[];for(let m=0;m<f;m++){const w=m*p-o;for(let S=0;S<u;S++){const M=S*h-s;v.push(M,-w,0),x.push(0,0,1),_.push(S/a),_.push(1-m/l)}}for(let m=0;m<l;m++)for(let w=0;w<a;w++){const S=w+u*m,M=w+u*(m+1),R=w+1+u*(m+1),P=w+1+u*m;g.push(S,M,P),g.push(M,R,P)}this.setIndex(g),this.setAttribute("position",new et(v,3)),this.setAttribute("normal",new et(x,3)),this.setAttribute("uv",new et(_,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new gh(e.width,e.height,e.widthSegments,e.heightSegments)}}var Xz=`#ifdef USE_ALPHAHASH
	if ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;
#endif`,qz=`#ifdef USE_ALPHAHASH
	const float ALPHA_HASH_SCALE = 0.05;
	float hash2D( vec2 value ) {
		return fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );
	}
	float hash3D( vec3 value ) {
		return hash2D( vec2( hash2D( value.xy ), value.z ) );
	}
	float getAlphaHashThreshold( vec3 position ) {
		float maxDeriv = max(
			length( dFdx( position.xyz ) ),
			length( dFdy( position.xyz ) )
		);
		float pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );
		vec2 pixScales = vec2(
			exp2( floor( log2( pixScale ) ) ),
			exp2( ceil( log2( pixScale ) ) )
		);
		vec2 alpha = vec2(
			hash3D( floor( pixScales.x * position.xyz ) ),
			hash3D( floor( pixScales.y * position.xyz ) )
		);
		float lerpFactor = fract( log2( pixScale ) );
		float x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;
		float a = min( lerpFactor, 1.0 - lerpFactor );
		vec3 cases = vec3(
			x * x / ( 2.0 * a * ( 1.0 - a ) ),
			( x - 0.5 * a ) / ( 1.0 - a ),
			1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )
		);
		float threshold = ( x < ( 1.0 - a ) )
			? ( ( x < a ) ? cases.x : cases.y )
			: cases.z;
		return clamp( threshold , 1.0e-6, 1.0 );
	}
#endif`,Yz=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;
#endif`,Kz=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,Jz=`#ifdef USE_ALPHATEST
	if ( diffuseColor.a < alphaTest ) discard;
#endif`,Zz=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,Qz=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,e6=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,t6=`vec3 transformed = vec3( position );
#ifdef USE_ALPHAHASH
	vPosition = vec3( position );
#endif`,n6=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,r6=`float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
} // validated`,i6=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			 return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float R21 = R12;
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,s6=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vBumpMapUv );
		vec2 dSTdy = dFdy( vBumpMapUv );
		float Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = dFdx( surf_pos.xyz );
		vec3 vSigmaY = dFdy( surf_pos.xyz );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,o6=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#pragma unroll_loop_start
	for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
		plane = clippingPlanes[ i ];
		if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
	}
	#pragma unroll_loop_end
	#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
		bool clipped = true;
		#pragma unroll_loop_start
		for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
		}
		#pragma unroll_loop_end
		if ( clipped ) discard;
	#endif
#endif`,a6=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,l6=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,c6=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,u6=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,d6=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,f6=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	varying vec3 vColor;
#endif`,h6=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif`,p6=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
struct GeometricContext {
	vec3 position;
	vec3 normal;
	vec3 viewDir;
#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal;
#endif
};
#ifdef USE_ALPHAHASH
	varying vec3 vPosition;
#endif
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
float luminance( const in vec3 rgb ) {
	const vec3 weights = vec3( 0.2126729, 0.7151522, 0.0721750 );
	return dot( weights, rgb );
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}
vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
} // validated`,m6=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_v0 0.339
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_v1 0.276
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_v4 0.046
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_v5 0.016
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_v6 0.0038
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,g6=`vec3 transformedNormal = objectNormal;
#ifdef USE_INSTANCING
	mat3 m = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );
	transformedNormal = m * transformedNormal;
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	vec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,v6=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,y6=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );
#endif`,x6=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,_6=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,w6="gl_FragColor = linearToOutputTexel( gl_FragColor );",S6=`vec4 LinearToLinear( in vec4 value ) {
	return value;
}
vec4 LinearTosRGB( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}`,b6=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,E6=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,M6=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,T6=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,C6=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,A6=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,R6=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,P6=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,L6=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,O6=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,k6=`#ifdef USE_LIGHTMAP
	vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
	vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
	reflectedLight.indirectDiffuse += lightMapIrradiance;
#endif`,I6=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,N6=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,D6=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in GeometricContext geometry, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in GeometricContext geometry, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,U6=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
uniform vec3 lightProbe[ 9 ];
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	#if defined ( LEGACY_LIGHTS )
		if ( cutoffDistance > 0.0 && decayExponent > 0.0 ) {
			return pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );
		}
		return 1.0;
	#else
		float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
		if ( cutoffDistance > 0.0 ) {
			distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
		}
		return distanceFalloff;
	#endif
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometry.position;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometry.position;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,F6=`#ifdef USE_ENVMAP
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	#ifdef USE_ANISOTROPY
		vec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {
			#ifdef ENVMAP_TYPE_CUBE_UV
				vec3 bentNormal = cross( bitangent, viewDir );
				bentNormal = normalize( cross( bentNormal, bitangent ) );
				bentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );
				return getIBLRadiance( viewDir, bentNormal, roughness );
			#else
				return vec3( 0.0 );
			#endif
		}
	#endif
#endif`,z6=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,B6=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,j6=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,H6=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,V6=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef USE_SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULAR_COLORMAP
			specularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;
		#endif
		#ifdef USE_SPECULAR_INTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEEN_COLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEEN_ROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;
	#endif
#endif
#ifdef USE_ANISOTROPY
	#ifdef USE_ANISOTROPYMAP
		mat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );
		vec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;
		vec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;
	#else
		vec2 anisotropyV = anisotropyVector;
	#endif
	material.anisotropy = length( anisotropyV );
	anisotropyV /= material.anisotropy;
	material.anisotropy = saturate( material.anisotropy );
	material.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );
	material.anisotropyT = tbn[ 0 ] * anisotropyV.x - tbn[ 1 ] * anisotropyV.y;
	material.anisotropyB = tbn[ 1 ] * anisotropyV.x + tbn[ 0 ] * anisotropyV.y;
#endif`,W6=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
	#ifdef USE_ANISOTROPY
		float anisotropy;
		float alphaT;
		vec3 anisotropyT;
		vec3 anisotropyB;
	#endif
};
vec3 clearcoatSpecular = vec3( 0.0 );
vec3 sheenSpecular = vec3( 0.0 );
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
#ifdef USE_ANISOTROPY
	float V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {
		float gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );
		float gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );
		float v = 0.5 / ( gv + gl );
		return saturate(v);
	}
	float D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {
		float a2 = alphaT * alphaB;
		highp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );
		highp float v2 = dot( v, v );
		float w2 = a2 / v2;
		return RECIPROCAL_PI * a2 * pow2 ( w2 );
	}
#endif
#ifdef USE_CLEARCOAT
	vec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {
		vec3 f0 = material.clearcoatF0;
		float f90 = material.clearcoatF90;
		float roughness = material.clearcoatRoughness;
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = F_Schlick( f0, f90, dotVH );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 f0 = material.specularColor;
	float f90 = material.specularF90;
	float roughness = material.roughness;
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	#ifdef USE_IRIDESCENCE
		F = mix( F, material.iridescenceFresnel, material.iridescence );
	#endif
	#ifdef USE_ANISOTROPY
		float dotTL = dot( material.anisotropyT, lightDir );
		float dotTV = dot( material.anisotropyT, viewDir );
		float dotTH = dot( material.anisotropyT, halfDir );
		float dotBL = dot( material.anisotropyB, lightDir );
		float dotBV = dot( material.anisotropyB, viewDir );
		float dotBH = dot( material.anisotropyB, halfDir );
		float V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );
		float D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );
	#else
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
	#endif
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometry.normal;
		vec3 viewDir = geometry.viewDir;
		vec3 position = geometry.position;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecular += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometry.viewDir, geometry.clearcoatNormal, material );
	#endif
	#ifdef USE_SHEEN
		sheenSpecular += irradiance * BRDF_Sheen( directLight.direction, geometry.viewDir, geometry.normal, material.sheenColor, material.sheenRoughness );
	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.normal, material );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecular += clearcoatRadiance * EnvironmentBRDF( geometry.clearcoatNormal, geometry.viewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecular += irradiance * material.sheenColor * IBLSheenBRDF( geometry.normal, geometry.viewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,G6=`
GeometricContext geometry;
geometry.position = - vViewPosition;
geometry.normal = normal;
geometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
#ifdef USE_CLEARCOAT
	geometry.clearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometry.viewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometry, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	irradiance += getLightProbeIrradiance( lightProbe, geometry.normal );
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,$6=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometry.normal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	#ifdef USE_ANISOTROPY
		radiance += getIBLAnisotropyRadiance( geometry.viewDir, geometry.normal, material.roughness, material.anisotropyB, material.anisotropy );
	#else
		radiance += getIBLRadiance( geometry.viewDir, geometry.normal, material.roughness );
	#endif
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,X6=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );
#endif`,q6=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	gl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,Y6=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,K6=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		varying float vFragDepth;
		varying float vIsPerspective;
	#else
		uniform float logDepthBufFC;
	#endif
#endif`,J6=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		vFragDepth = 1.0 + gl_Position.w;
		vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
	#else
		if ( isPerspectiveMatrix( projectionMatrix ) ) {
			gl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;
			gl_Position.z *= gl_Position.w;
		}
	#endif
#endif`,Z6=`#ifdef USE_MAP
	diffuseColor *= texture2D( map, vMapUv );
#endif`,Q6=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,eB=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	#if defined( USE_POINTS_UV )
		vec2 uv = vUv;
	#else
		vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
	#endif
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,tB=`#if defined( USE_POINTS_UV )
	varying vec2 vUv;
#else
	#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
		uniform mat3 uvTransform;
	#endif
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,nB=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );
	metalnessFactor *= texelMetalness.b;
#endif`,rB=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,iB=`#if defined( USE_MORPHCOLORS ) && defined( MORPHTARGETS_TEXTURE )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,sB=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		objectNormal += morphNormal0 * morphTargetInfluences[ 0 ];
		objectNormal += morphNormal1 * morphTargetInfluences[ 1 ];
		objectNormal += morphNormal2 * morphTargetInfluences[ 2 ];
		objectNormal += morphNormal3 * morphTargetInfluences[ 3 ];
	#endif
#endif`,oB=`#ifdef USE_MORPHTARGETS
	uniform float morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
		uniform sampler2DArray morphTargetsTexture;
		uniform ivec2 morphTargetsTextureSize;
		vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
			int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
			int y = texelIndex / morphTargetsTextureSize.x;
			int x = texelIndex - y * morphTargetsTextureSize.x;
			ivec3 morphUV = ivec3( x, y, morphTargetIndex );
			return texelFetch( morphTargetsTexture, morphUV, 0 );
		}
	#else
		#ifndef USE_MORPHNORMALS
			uniform float morphTargetInfluences[ 8 ];
		#else
			uniform float morphTargetInfluences[ 4 ];
		#endif
	#endif
#endif`,aB=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		transformed += morphTarget0 * morphTargetInfluences[ 0 ];
		transformed += morphTarget1 * morphTargetInfluences[ 1 ];
		transformed += morphTarget2 * morphTargetInfluences[ 2 ];
		transformed += morphTarget3 * morphTargetInfluences[ 3 ];
		#ifndef USE_MORPHNORMALS
			transformed += morphTarget4 * morphTargetInfluences[ 4 ];
			transformed += morphTarget5 * morphTargetInfluences[ 5 ];
			transformed += morphTarget6 * morphTargetInfluences[ 6 ];
			transformed += morphTarget7 * morphTargetInfluences[ 7 ];
		#endif
	#endif
#endif`,lB=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal *= faceDirection;
	#endif
#endif
#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )
	#ifdef USE_TANGENT
		mat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn = getTangentFrame( - vViewPosition, normal,
		#if defined( USE_NORMALMAP )
			vNormalMapUv
		#elif defined( USE_CLEARCOAT_NORMALMAP )
			vClearcoatNormalMapUv
		#else
			vUv
		#endif
		);
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn[0] *= faceDirection;
		tbn[1] *= faceDirection;
	#endif
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	#ifdef USE_TANGENT
		mat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn2[0] *= faceDirection;
		tbn2[1] *= faceDirection;
	#endif
#endif
vec3 geometryNormal = normal;`,cB=`#ifdef USE_NORMALMAP_OBJECTSPACE
	normal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( USE_NORMALMAP_TANGENTSPACE )
	vec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	normal = normalize( tbn * mapN );
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,uB=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,dB=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,fB=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,hB=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef USE_NORMALMAP_OBJECTSPACE
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )
	mat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( uv.st );
		vec2 st1 = dFdy( uv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );
		return mat3( T * scale, B * scale, N );
	}
#endif`,pB=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = geometryNormal;
#endif`,mB=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	clearcoatNormal = normalize( tbn2 * clearcoatMapN );
#endif`,gB=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif`,vB=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,yB=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,xB=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;
const vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );
const vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );
const float ShiftRight8 = 1. / 256.;
vec4 packDepthToRGBA( const in float v ) {
	vec4 r = vec4( fract( v * PackFactors ), v );
	r.yzw -= r.xyz * ShiftRight8;	return r * PackUpscale;
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors );
}
vec2 packDepthToRG( in highp float v ) {
	return packDepthToRGBA( v ).yx;
}
float unpackRGToDepth( const in highp vec2 v ) {
	return unpackRGBAToDepth( vec4( v.xy, 0.0, 0.0 ) );
}
vec4 pack2HalfToRGBA( vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return depth * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * depth - far );
}`,_B=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,wB=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,SB=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,bB=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,EB=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );
	roughnessFactor *= texelRoughness.g;
#endif`,MB=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,TB=`#if NUM_SPOT_LIGHT_COORDS > 0
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
	uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
		bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return shadow;
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
		vec3 lightToPosition = shadowCoord.xyz;
		float dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );		dp += shadowBias;
		vec3 bd3D = normalize( lightToPosition );
		#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
			vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
			return (
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
			) * ( 1.0 / 9.0 );
		#else
			return texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
		#endif
	}
#endif`,CB=`#if NUM_SPOT_LIGHT_COORDS > 0
	uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,AB=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,RB=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,PB=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,LB=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	uniform int boneTextureSize;
	mat4 getBoneMatrix( const in float i ) {
		float j = i * 4.0;
		float x = mod( j, float( boneTextureSize ) );
		float y = floor( j / float( boneTextureSize ) );
		float dx = 1.0 / float( boneTextureSize );
		float dy = 1.0 / float( boneTextureSize );
		y = dy * ( y + 0.5 );
		vec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );
		vec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );
		vec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );
		vec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );
		mat4 bone = mat4( v1, v2, v3, v4 );
		return bone;
	}
#endif`,OB=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,kB=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,IB=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,NB=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,DB=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,UB=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return saturate( toneMappingExposure * color );
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 OptimizedCineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,FB=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmitted = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );
#endif`,zB=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	float w0( float a ) {
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );
	}
	float w1( float a ) {
		return ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );
	}
	float w2( float a ){
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );
	}
	float w3( float a ) {
		return ( 1.0 / 6.0 ) * ( a * a * a );
	}
	float g0( float a ) {
		return w0( a ) + w1( a );
	}
	float g1( float a ) {
		return w2( a ) + w3( a );
	}
	float h0( float a ) {
		return - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );
	}
	float h1( float a ) {
		return 1.0 + w3( a ) / ( w2( a ) + w3( a ) );
	}
	vec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {
		uv = uv * texelSize.zw + 0.5;
		vec2 iuv = floor( uv );
		vec2 fuv = fract( uv );
		float g0x = g0( fuv.x );
		float g1x = g1( fuv.x );
		float h0x = h0( fuv.x );
		float h1x = h1( fuv.x );
		float h0y = h0( fuv.y );
		float h1y = h1( fuv.y );
		vec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		vec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		return g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +
			g1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );
	}
	vec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {
		vec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );
		vec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );
		vec2 fLodSizeInv = 1.0 / fLodSize;
		vec2 cLodSizeInv = 1.0 / cLodSize;
		vec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );
		vec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );
		return mix( fSample, cSample, fract( lod ) );
	}
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		return textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );
	}
	vec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return vec3( 1.0 );
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
		vec3 refractedRayExit = position + transmissionRay;
		vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
		vec2 refractionCoords = ndcPos.xy / ndcPos.w;
		refractionCoords += 1.0;
		refractionCoords /= 2.0;
		vec4 transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
		vec3 transmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );
		vec3 attenuatedColor = transmittance * transmittedLight.rgb;
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		float transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;
		return vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );
	}
#endif`,BB=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_SPECULARMAP
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,jB=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	uniform mat3 mapTransform;
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	uniform mat3 alphaMapTransform;
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	uniform mat3 lightMapTransform;
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	uniform mat3 aoMapTransform;
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	uniform mat3 bumpMapTransform;
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	uniform mat3 normalMapTransform;
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_DISPLACEMENTMAP
	uniform mat3 displacementMapTransform;
	varying vec2 vDisplacementMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	uniform mat3 emissiveMapTransform;
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	uniform mat3 metalnessMapTransform;
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	uniform mat3 roughnessMapTransform;
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	uniform mat3 anisotropyMapTransform;
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	uniform mat3 clearcoatMapTransform;
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform mat3 clearcoatNormalMapTransform;
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform mat3 clearcoatRoughnessMapTransform;
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	uniform mat3 sheenColorMapTransform;
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	uniform mat3 sheenRoughnessMapTransform;
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	uniform mat3 iridescenceMapTransform;
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform mat3 iridescenceThicknessMapTransform;
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SPECULARMAP
	uniform mat3 specularMapTransform;
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	uniform mat3 specularColorMapTransform;
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	uniform mat3 specularIntensityMapTransform;
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,HB=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	vUv = vec3( uv, 1 ).xy;
#endif
#ifdef USE_MAP
	vMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ALPHAMAP
	vAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_LIGHTMAP
	vLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_AOMAP
	vAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_BUMPMAP
	vBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_NORMALMAP
	vNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_DISPLACEMENTMAP
	vDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_EMISSIVEMAP
	vEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_METALNESSMAP
	vMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ROUGHNESSMAP
	vRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ANISOTROPYMAP
	vAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOATMAP
	vClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	vClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	vClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCEMAP
	vIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	vIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_COLORMAP
	vSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	vSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULARMAP
	vSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_COLORMAP
	vSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	vSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_TRANSMISSIONMAP
	vTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_THICKNESSMAP
	vThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;
#endif`,VB=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const WB=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,GB=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,$B=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,XB=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,qB=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,YB=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,KB=`#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,JB=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#endif
}`,ZB=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,QB=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,e8=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,t8=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,n8=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,r8=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,i8=`#include <common>
#include <uv_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,s8=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,o8=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,a8=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,l8=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,c8=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,u8=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	vViewPosition = - mvPosition.xyz;
#endif
}`,d8=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), opacity );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,f8=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,h8=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,p8=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,m8=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define USE_SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef USE_SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULAR_COLORMAP
		uniform sampler2D specularColorMap;
	#endif
	#ifdef USE_SPECULAR_INTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEEN_COLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEEN_ROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
#ifdef USE_ANISOTROPY
	uniform vec2 anisotropyVector;
	#ifdef USE_ANISOTROPYMAP
		uniform sampler2D anisotropyMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecular;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + clearcoatSpecular * material.clearcoat;
	#endif
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,g8=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,v8=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,y8=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
#ifdef USE_POINTS_UV
	varying vec2 vUv;
	uniform mat3 uvTransform;
#endif
void main() {
	#ifdef USE_POINTS_UV
		vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	#endif
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,x8=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,_8=`#include <common>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,w8=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <logdepthbuf_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	#include <logdepthbuf_fragment>
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,S8=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
	vec2 scale;
	scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
	scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,b8=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,St={alphahash_fragment:Xz,alphahash_pars_fragment:qz,alphamap_fragment:Yz,alphamap_pars_fragment:Kz,alphatest_fragment:Jz,alphatest_pars_fragment:Zz,aomap_fragment:Qz,aomap_pars_fragment:e6,begin_vertex:t6,beginnormal_vertex:n6,bsdfs:r6,iridescence_fragment:i6,bumpmap_pars_fragment:s6,clipping_planes_fragment:o6,clipping_planes_pars_fragment:a6,clipping_planes_pars_vertex:l6,clipping_planes_vertex:c6,color_fragment:u6,color_pars_fragment:d6,color_pars_vertex:f6,color_vertex:h6,common:p6,cube_uv_reflection_fragment:m6,defaultnormal_vertex:g6,displacementmap_pars_vertex:v6,displacementmap_vertex:y6,emissivemap_fragment:x6,emissivemap_pars_fragment:_6,colorspace_fragment:w6,colorspace_pars_fragment:S6,envmap_fragment:b6,envmap_common_pars_fragment:E6,envmap_pars_fragment:M6,envmap_pars_vertex:T6,envmap_physical_pars_fragment:F6,envmap_vertex:C6,fog_vertex:A6,fog_pars_vertex:R6,fog_fragment:P6,fog_pars_fragment:L6,gradientmap_pars_fragment:O6,lightmap_fragment:k6,lightmap_pars_fragment:I6,lights_lambert_fragment:N6,lights_lambert_pars_fragment:D6,lights_pars_begin:U6,lights_toon_fragment:z6,lights_toon_pars_fragment:B6,lights_phong_fragment:j6,lights_phong_pars_fragment:H6,lights_physical_fragment:V6,lights_physical_pars_fragment:W6,lights_fragment_begin:G6,lights_fragment_maps:$6,lights_fragment_end:X6,logdepthbuf_fragment:q6,logdepthbuf_pars_fragment:Y6,logdepthbuf_pars_vertex:K6,logdepthbuf_vertex:J6,map_fragment:Z6,map_pars_fragment:Q6,map_particle_fragment:eB,map_particle_pars_fragment:tB,metalnessmap_fragment:nB,metalnessmap_pars_fragment:rB,morphcolor_vertex:iB,morphnormal_vertex:sB,morphtarget_pars_vertex:oB,morphtarget_vertex:aB,normal_fragment_begin:lB,normal_fragment_maps:cB,normal_pars_fragment:uB,normal_pars_vertex:dB,normal_vertex:fB,normalmap_pars_fragment:hB,clearcoat_normal_fragment_begin:pB,clearcoat_normal_fragment_maps:mB,clearcoat_pars_fragment:gB,iridescence_pars_fragment:vB,opaque_fragment:yB,packing:xB,premultiplied_alpha_fragment:_B,project_vertex:wB,dithering_fragment:SB,dithering_pars_fragment:bB,roughnessmap_fragment:EB,roughnessmap_pars_fragment:MB,shadowmap_pars_fragment:TB,shadowmap_pars_vertex:CB,shadowmap_vertex:AB,shadowmask_pars_fragment:RB,skinbase_vertex:PB,skinning_pars_vertex:LB,skinning_vertex:OB,skinnormal_vertex:kB,specularmap_fragment:IB,specularmap_pars_fragment:NB,tonemapping_fragment:DB,tonemapping_pars_fragment:UB,transmission_fragment:FB,transmission_pars_fragment:zB,uv_pars_fragment:BB,uv_pars_vertex:jB,uv_vertex:HB,worldpos_vertex:VB,background_vert:WB,background_frag:GB,backgroundCube_vert:$B,backgroundCube_frag:XB,cube_vert:qB,cube_frag:YB,depth_vert:KB,depth_frag:JB,distanceRGBA_vert:ZB,distanceRGBA_frag:QB,equirect_vert:e8,equirect_frag:t8,linedashed_vert:n8,linedashed_frag:r8,meshbasic_vert:i8,meshbasic_frag:s8,meshlambert_vert:o8,meshlambert_frag:a8,meshmatcap_vert:l8,meshmatcap_frag:c8,meshnormal_vert:u8,meshnormal_frag:d8,meshphong_vert:f8,meshphong_frag:h8,meshphysical_vert:p8,meshphysical_frag:m8,meshtoon_vert:g8,meshtoon_frag:v8,points_vert:y8,points_frag:x8,shadow_vert:_8,shadow_frag:w8,sprite_vert:S8,sprite_frag:b8},Ve={common:{diffuse:{value:new Ye(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new Et},alphaMap:{value:null},alphaMapTransform:{value:new Et},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new Et}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new Et}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new Et}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new Et},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new Et},normalScale:{value:new _e(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new Et},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new Et}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new Et}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new Et}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new Ye(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new Ye(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new Et},alphaTest:{value:0},uvTransform:{value:new Et}},sprite:{diffuse:{value:new Ye(16777215)},opacity:{value:1},center:{value:new _e(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new Et},alphaMap:{value:null},alphaMapTransform:{value:new Et},alphaTest:{value:0}}},os={basic:{uniforms:Dr([Ve.common,Ve.specularmap,Ve.envmap,Ve.aomap,Ve.lightmap,Ve.fog]),vertexShader:St.meshbasic_vert,fragmentShader:St.meshbasic_frag},lambert:{uniforms:Dr([Ve.common,Ve.specularmap,Ve.envmap,Ve.aomap,Ve.lightmap,Ve.emissivemap,Ve.bumpmap,Ve.normalmap,Ve.displacementmap,Ve.fog,Ve.lights,{emissive:{value:new Ye(0)}}]),vertexShader:St.meshlambert_vert,fragmentShader:St.meshlambert_frag},phong:{uniforms:Dr([Ve.common,Ve.specularmap,Ve.envmap,Ve.aomap,Ve.lightmap,Ve.emissivemap,Ve.bumpmap,Ve.normalmap,Ve.displacementmap,Ve.fog,Ve.lights,{emissive:{value:new Ye(0)},specular:{value:new Ye(1118481)},shininess:{value:30}}]),vertexShader:St.meshphong_vert,fragmentShader:St.meshphong_frag},standard:{uniforms:Dr([Ve.common,Ve.envmap,Ve.aomap,Ve.lightmap,Ve.emissivemap,Ve.bumpmap,Ve.normalmap,Ve.displacementmap,Ve.roughnessmap,Ve.metalnessmap,Ve.fog,Ve.lights,{emissive:{value:new Ye(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:St.meshphysical_vert,fragmentShader:St.meshphysical_frag},toon:{uniforms:Dr([Ve.common,Ve.aomap,Ve.lightmap,Ve.emissivemap,Ve.bumpmap,Ve.normalmap,Ve.displacementmap,Ve.gradientmap,Ve.fog,Ve.lights,{emissive:{value:new Ye(0)}}]),vertexShader:St.meshtoon_vert,fragmentShader:St.meshtoon_frag},matcap:{uniforms:Dr([Ve.common,Ve.bumpmap,Ve.normalmap,Ve.displacementmap,Ve.fog,{matcap:{value:null}}]),vertexShader:St.meshmatcap_vert,fragmentShader:St.meshmatcap_frag},points:{uniforms:Dr([Ve.points,Ve.fog]),vertexShader:St.points_vert,fragmentShader:St.points_frag},dashed:{uniforms:Dr([Ve.common,Ve.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:St.linedashed_vert,fragmentShader:St.linedashed_frag},depth:{uniforms:Dr([Ve.common,Ve.displacementmap]),vertexShader:St.depth_vert,fragmentShader:St.depth_frag},normal:{uniforms:Dr([Ve.common,Ve.bumpmap,Ve.normalmap,Ve.displacementmap,{opacity:{value:1}}]),vertexShader:St.meshnormal_vert,fragmentShader:St.meshnormal_frag},sprite:{uniforms:Dr([Ve.sprite,Ve.fog]),vertexShader:St.sprite_vert,fragmentShader:St.sprite_frag},background:{uniforms:{uvTransform:{value:new Et},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:St.background_vert,fragmentShader:St.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1}},vertexShader:St.backgroundCube_vert,fragmentShader:St.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:St.cube_vert,fragmentShader:St.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:St.equirect_vert,fragmentShader:St.equirect_frag},distanceRGBA:{uniforms:Dr([Ve.common,Ve.displacementmap,{referencePosition:{value:new z},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:St.distanceRGBA_vert,fragmentShader:St.distanceRGBA_frag},shadow:{uniforms:Dr([Ve.lights,Ve.fog,{color:{value:new Ye(0)},opacity:{value:1}}]),vertexShader:St.shadow_vert,fragmentShader:St.shadow_frag}};os.physical={uniforms:Dr([os.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new Et},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new Et},clearcoatNormalScale:{value:new _e(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new Et},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new Et},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new Et},sheen:{value:0},sheenColor:{value:new Ye(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new Et},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new Et},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new Et},transmissionSamplerSize:{value:new _e},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new Et},attenuationDistance:{value:0},attenuationColor:{value:new Ye(0)},specularColor:{value:new Ye(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new Et},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new Et},anisotropyVector:{value:new _e},anisotropyMap:{value:null},anisotropyMapTransform:{value:new Et}}]),vertexShader:St.meshphysical_vert,fragmentShader:St.meshphysical_frag};const hm={r:0,b:0,g:0};function E8(n,e,t,r,i,s,o){const a=new Ye(0);let l=s===!0?0:1,u,f,h=null,p=0,g=null;function v(_,m){let w=!1,S=m.isScene===!0?m.background:null;switch(S&&S.isTexture&&(S=(m.backgroundBlurriness>0?t:e).get(S)),S===null?x(a,l):S&&S.isColor&&(x(S,1),w=!0),n.xr.getEnvironmentBlendMode()){case"opaque":w=!0;break;case"additive":r.buffers.color.setClear(0,0,0,1,o),w=!0;break;case"alpha-blend":r.buffers.color.setClear(0,0,0,0,o),w=!0;break}(n.autoClear||w)&&n.clear(n.autoClearColor,n.autoClearDepth,n.autoClearStencil),S&&(S.isCubeTexture||S.mapping===ku)?(f===void 0&&(f=new ir(new Fl(1,1,1),new Ws({name:"BackgroundCubeMaterial",uniforms:wu(os.backgroundCube.uniforms),vertexShader:os.backgroundCube.vertexShader,fragmentShader:os.backgroundCube.fragmentShader,side:zr,depthTest:!1,depthWrite:!1,fog:!1})),f.geometry.deleteAttribute("normal"),f.geometry.deleteAttribute("uv"),f.onBeforeRender=function(P,L,k){this.matrixWorld.copyPosition(k.matrixWorld)},Object.defineProperty(f.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),i.update(f)),f.material.uniforms.envMap.value=S,f.material.uniforms.flipEnvMap.value=S.isCubeTexture&&S.isRenderTargetTexture===!1?-1:1,f.material.uniforms.backgroundBlurriness.value=m.backgroundBlurriness,f.material.uniforms.backgroundIntensity.value=m.backgroundIntensity,f.material.toneMapped=S.colorSpace!==_t,(h!==S||p!==S.version||g!==n.toneMapping)&&(f.material.needsUpdate=!0,h=S,p=S.version,g=n.toneMapping),f.layers.enableAll(),_.unshift(f,f.geometry,f.material,0,0,null)):S&&S.isTexture&&(u===void 0&&(u=new ir(new gh(2,2),new Ws({name:"BackgroundMaterial",uniforms:wu(os.background.uniforms),vertexShader:os.background.vertexShader,fragmentShader:os.background.fragmentShader,side:To,depthTest:!1,depthWrite:!1,fog:!1})),u.geometry.deleteAttribute("normal"),Object.defineProperty(u.material,"map",{get:function(){return this.uniforms.t2D.value}}),i.update(u)),u.material.uniforms.t2D.value=S,u.material.uniforms.backgroundIntensity.value=m.backgroundIntensity,u.material.toneMapped=S.colorSpace!==_t,S.matrixAutoUpdate===!0&&S.updateMatrix(),u.material.uniforms.uvTransform.value.copy(S.matrix),(h!==S||p!==S.version||g!==n.toneMapping)&&(u.material.needsUpdate=!0,h=S,p=S.version,g=n.toneMapping),u.layers.enableAll(),_.unshift(u,u.geometry,u.material,0,0,null))}function x(_,m){_.getRGB(hm,jO(n)),r.buffers.color.setClear(hm.r,hm.g,hm.b,m,o)}return{getClearColor:function(){return a},setClearColor:function(_,m=1){a.set(_),l=m,x(a,l)},getClearAlpha:function(){return l},setClearAlpha:function(_){l=_,x(a,l)},render:v}}function M8(n,e,t,r){const i=n.getParameter(n.MAX_VERTEX_ATTRIBS),s=r.isWebGL2?null:e.get("OES_vertex_array_object"),o=r.isWebGL2||s!==null,a={},l=_(null);let u=l,f=!1;function h(G,X,Z,J,D){let $=!1;if(o){const q=x(J,Z,X);u!==q&&(u=q,g(u.object)),$=m(G,J,Z,D),$&&w(G,J,Z,D)}else{const q=X.wireframe===!0;(u.geometry!==J.id||u.program!==Z.id||u.wireframe!==q)&&(u.geometry=J.id,u.program=Z.id,u.wireframe=q,$=!0)}D!==null&&t.update(D,n.ELEMENT_ARRAY_BUFFER),($||f)&&(f=!1,k(G,X,Z,J),D!==null&&n.bindBuffer(n.ELEMENT_ARRAY_BUFFER,t.get(D).buffer))}function p(){return r.isWebGL2?n.createVertexArray():s.createVertexArrayOES()}function g(G){return r.isWebGL2?n.bindVertexArray(G):s.bindVertexArrayOES(G)}function v(G){return r.isWebGL2?n.deleteVertexArray(G):s.deleteVertexArrayOES(G)}function x(G,X,Z){const J=Z.wireframe===!0;let D=a[G.id];D===void 0&&(D={},a[G.id]=D);let $=D[X.id];$===void 0&&($={},D[X.id]=$);let q=$[J];return q===void 0&&(q=_(p()),$[J]=q),q}function _(G){const X=[],Z=[],J=[];for(let D=0;D<i;D++)X[D]=0,Z[D]=0,J[D]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:X,enabledAttributes:Z,attributeDivisors:J,object:G,attributes:{},index:null}}function m(G,X,Z,J){const D=u.attributes,$=X.attributes;let q=0;const Y=Z.getAttributes();for(const Q in Y)if(Y[Q].location>=0){const ge=D[Q];let ie=$[Q];if(ie===void 0&&(Q==="instanceMatrix"&&G.instanceMatrix&&(ie=G.instanceMatrix),Q==="instanceColor"&&G.instanceColor&&(ie=G.instanceColor)),ge===void 0||ge.attribute!==ie||ie&&ge.data!==ie.data)return!0;q++}return u.attributesNum!==q||u.index!==J}function w(G,X,Z,J){const D={},$=X.attributes;let q=0;const Y=Z.getAttributes();for(const Q in Y)if(Y[Q].location>=0){let ge=$[Q];ge===void 0&&(Q==="instanceMatrix"&&G.instanceMatrix&&(ge=G.instanceMatrix),Q==="instanceColor"&&G.instanceColor&&(ge=G.instanceColor));const ie={};ie.attribute=ge,ge&&ge.data&&(ie.data=ge.data),D[Q]=ie,q++}u.attributes=D,u.attributesNum=q,u.index=J}function S(){const G=u.newAttributes;for(let X=0,Z=G.length;X<Z;X++)G[X]=0}function M(G){R(G,0)}function R(G,X){const Z=u.newAttributes,J=u.enabledAttributes,D=u.attributeDivisors;Z[G]=1,J[G]===0&&(n.enableVertexAttribArray(G),J[G]=1),D[G]!==X&&((r.isWebGL2?n:e.get("ANGLE_instanced_arrays"))[r.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](G,X),D[G]=X)}function P(){const G=u.newAttributes,X=u.enabledAttributes;for(let Z=0,J=X.length;Z<J;Z++)X[Z]!==G[Z]&&(n.disableVertexAttribArray(Z),X[Z]=0)}function L(G,X,Z,J,D,$,q){q===!0?n.vertexAttribIPointer(G,X,Z,D,$):n.vertexAttribPointer(G,X,Z,J,D,$)}function k(G,X,Z,J){if(r.isWebGL2===!1&&(G.isInstancedMesh||J.isInstancedBufferGeometry)&&e.get("ANGLE_instanced_arrays")===null)return;S();const D=J.attributes,$=Z.getAttributes(),q=X.defaultAttributeValues;for(const Y in $){const Q=$[Y];if(Q.location>=0){let Ce=D[Y];if(Ce===void 0&&(Y==="instanceMatrix"&&G.instanceMatrix&&(Ce=G.instanceMatrix),Y==="instanceColor"&&G.instanceColor&&(Ce=G.instanceColor)),Ce!==void 0){const ge=Ce.normalized,ie=Ce.itemSize,ce=t.get(Ce);if(ce===void 0)continue;const ke=ce.buffer,fe=ce.type,Pe=ce.bytesPerElement,Ue=r.isWebGL2===!0&&(fe===n.INT||fe===n.UNSIGNED_INT||Ce.gpuType===gb);if(Ce.isInterleavedBufferAttribute){const Ae=Ce.data,j=Ae.stride,Me=Ce.offset;if(Ae.isInstancedInterleavedBuffer){for(let ue=0;ue<Q.locationSize;ue++)R(Q.location+ue,Ae.meshPerAttribute);G.isInstancedMesh!==!0&&J._maxInstanceCount===void 0&&(J._maxInstanceCount=Ae.meshPerAttribute*Ae.count)}else for(let ue=0;ue<Q.locationSize;ue++)M(Q.location+ue);n.bindBuffer(n.ARRAY_BUFFER,ke);for(let ue=0;ue<Q.locationSize;ue++)L(Q.location+ue,ie/Q.locationSize,fe,ge,j*Pe,(Me+ie/Q.locationSize*ue)*Pe,Ue)}else{if(Ce.isInstancedBufferAttribute){for(let Ae=0;Ae<Q.locationSize;Ae++)R(Q.location+Ae,Ce.meshPerAttribute);G.isInstancedMesh!==!0&&J._maxInstanceCount===void 0&&(J._maxInstanceCount=Ce.meshPerAttribute*Ce.count)}else for(let Ae=0;Ae<Q.locationSize;Ae++)M(Q.location+Ae);n.bindBuffer(n.ARRAY_BUFFER,ke);for(let Ae=0;Ae<Q.locationSize;Ae++)L(Q.location+Ae,ie/Q.locationSize,fe,ge,ie*Pe,ie/Q.locationSize*Ae*Pe,Ue)}}else if(q!==void 0){const ge=q[Y];if(ge!==void 0)switch(ge.length){case 2:n.vertexAttrib2fv(Q.location,ge);break;case 3:n.vertexAttrib3fv(Q.location,ge);break;case 4:n.vertexAttrib4fv(Q.location,ge);break;default:n.vertexAttrib1fv(Q.location,ge)}}}}P()}function C(){W();for(const G in a){const X=a[G];for(const Z in X){const J=X[Z];for(const D in J)v(J[D].object),delete J[D];delete X[Z]}delete a[G]}}function A(G){if(a[G.id]===void 0)return;const X=a[G.id];for(const Z in X){const J=X[Z];for(const D in J)v(J[D].object),delete J[D];delete X[Z]}delete a[G.id]}function U(G){for(const X in a){const Z=a[X];if(Z[G.id]===void 0)continue;const J=Z[G.id];for(const D in J)v(J[D].object),delete J[D];delete Z[G.id]}}function W(){F(),f=!0,u!==l&&(u=l,g(u.object))}function F(){l.geometry=null,l.program=null,l.wireframe=!1}return{setup:h,reset:W,resetDefaultState:F,dispose:C,releaseStatesOfGeometry:A,releaseStatesOfProgram:U,initAttributes:S,enableAttribute:M,disableUnusedAttributes:P}}function T8(n,e,t,r){const i=r.isWebGL2;let s;function o(u){s=u}function a(u,f){n.drawArrays(s,u,f),t.update(f,s,1)}function l(u,f,h){if(h===0)return;let p,g;if(i)p=n,g="drawArraysInstanced";else if(p=e.get("ANGLE_instanced_arrays"),g="drawArraysInstancedANGLE",p===null){console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}p[g](s,u,f,h),t.update(f,s,h)}this.setMode=o,this.render=a,this.renderInstances=l}function C8(n,e,t){let r;function i(){if(r!==void 0)return r;if(e.has("EXT_texture_filter_anisotropic")===!0){const L=e.get("EXT_texture_filter_anisotropic");r=n.getParameter(L.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else r=0;return r}function s(L){if(L==="highp"){if(n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.HIGH_FLOAT).precision>0&&n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.HIGH_FLOAT).precision>0)return"highp";L="mediump"}return L==="mediump"&&n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.MEDIUM_FLOAT).precision>0&&n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}const o=typeof WebGL2RenderingContext<"u"&&n.constructor.name==="WebGL2RenderingContext";let a=t.precision!==void 0?t.precision:"highp";const l=s(a);l!==a&&(console.warn("THREE.WebGLRenderer:",a,"not supported, using",l,"instead."),a=l);const u=o||e.has("WEBGL_draw_buffers"),f=t.logarithmicDepthBuffer===!0,h=n.getParameter(n.MAX_TEXTURE_IMAGE_UNITS),p=n.getParameter(n.MAX_VERTEX_TEXTURE_IMAGE_UNITS),g=n.getParameter(n.MAX_TEXTURE_SIZE),v=n.getParameter(n.MAX_CUBE_MAP_TEXTURE_SIZE),x=n.getParameter(n.MAX_VERTEX_ATTRIBS),_=n.getParameter(n.MAX_VERTEX_UNIFORM_VECTORS),m=n.getParameter(n.MAX_VARYING_VECTORS),w=n.getParameter(n.MAX_FRAGMENT_UNIFORM_VECTORS),S=p>0,M=o||e.has("OES_texture_float"),R=S&&M,P=o?n.getParameter(n.MAX_SAMPLES):0;return{isWebGL2:o,drawBuffers:u,getMaxAnisotropy:i,getMaxPrecision:s,precision:a,logarithmicDepthBuffer:f,maxTextures:h,maxVertexTextures:p,maxTextureSize:g,maxCubemapSize:v,maxAttributes:x,maxVertexUniforms:_,maxVaryings:m,maxFragmentUniforms:w,vertexTextures:S,floatFragmentTextures:M,floatVertexTextures:R,maxSamples:P}}function A8(n){const e=this;let t=null,r=0,i=!1,s=!1;const o=new Ko,a=new Et,l={value:null,needsUpdate:!1};this.uniform=l,this.numPlanes=0,this.numIntersection=0,this.init=function(h,p){const g=h.length!==0||p||r!==0||i;return i=p,r=h.length,g},this.beginShadows=function(){s=!0,f(null)},this.endShadows=function(){s=!1},this.setGlobalState=function(h,p){t=f(h,p,0)},this.setState=function(h,p,g){const v=h.clippingPlanes,x=h.clipIntersection,_=h.clipShadows,m=n.get(h);if(!i||v===null||v.length===0||s&&!_)s?f(null):u();else{const w=s?0:r,S=w*4;let M=m.clippingState||null;l.value=M,M=f(v,p,S,g);for(let R=0;R!==S;++R)M[R]=t[R];m.clippingState=M,this.numIntersection=x?this.numPlanes:0,this.numPlanes+=w}};function u(){l.value!==t&&(l.value=t,l.needsUpdate=r>0),e.numPlanes=r,e.numIntersection=0}function f(h,p,g,v){const x=h!==null?h.length:0;let _=null;if(x!==0){if(_=l.value,v!==!0||_===null){const m=g+x*4,w=p.matrixWorldInverse;a.getNormalMatrix(w),(_===null||_.length<m)&&(_=new Float32Array(m));for(let S=0,M=g;S!==x;++S,M+=4)o.copy(h[S]).applyMatrix4(w,a),o.normal.toArray(_,M),_[M+3]=o.constant}l.value=_,l.needsUpdate=!0}return e.numPlanes=x,e.numIntersection=0,_}}function R8(n){let e=new WeakMap;function t(o,a){return a===Pf?o.mapping=_a:a===Lf&&(o.mapping=wa),o}function r(o){if(o&&o.isTexture&&o.isRenderTargetTexture===!1){const a=o.mapping;if(a===Pf||a===Lf)if(e.has(o)){const l=e.get(o).texture;return t(l,o.mapping)}else{const l=o.image;if(l&&l.height>0){const u=new WO(l.height/2);return u.fromEquirectangularTexture(n,o),e.set(o,u),o.addEventListener("dispose",i),t(u.texture,o.mapping)}else return null}}return o}function i(o){const a=o.target;a.removeEventListener("dispose",i);const l=e.get(a);l!==void 0&&(e.delete(a),l.dispose())}function s(){e=new WeakMap}return{get:r,dispose:s}}class va extends ph{constructor(e=-1,t=1,r=1,i=-1,s=.1,o=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=t,this.top=r,this.bottom=i,this.near=s,this.far=o,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,t,r,i,s,o){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=r,this.view.offsetY=i,this.view.width=s,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),r=(this.right+this.left)/2,i=(this.top+this.bottom)/2;let s=r-e,o=r+e,a=i+t,l=i-t;if(this.view!==null&&this.view.enabled){const u=(this.right-this.left)/this.view.fullWidth/this.zoom,f=(this.top-this.bottom)/this.view.fullHeight/this.zoom;s+=u*this.view.offsetX,o=s+u*this.view.width,a-=f*this.view.offsetY,l=a-f*this.view.height}this.projectionMatrix.makeOrthographic(s,o,a,l,this.near,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,this.view!==null&&(t.object.view=Object.assign({},this.view)),t}}const Zc=4,iC=[.125,.215,.35,.446,.526,.582],il=20,Zx=new va,sC=new Ye;let Qx=null;const nl=(1+Math.sqrt(5))/2,vc=1/nl,oC=[new z(1,1,1),new z(-1,1,1),new z(1,1,-1),new z(-1,1,-1),new z(0,nl,vc),new z(0,nl,-vc),new z(vc,0,nl),new z(-vc,0,nl),new z(nl,vc,0),new z(-nl,vc,0)];class _w{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,t=0,r=.1,i=100){Qx=this._renderer.getRenderTarget(),this._setSize(256);const s=this._allocateTargets();return s.depthBuffer=!0,this._sceneToCubeUV(e,r,i,s),t>0&&this._blur(s,0,0,t),this._applyPMREM(s),this._cleanup(s),s}fromEquirectangular(e,t=null){return this._fromTexture(e,t)}fromCubemap(e,t=null){return this._fromTexture(e,t)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=cC(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=lC(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(Qx),e.scissorTest=!1,pm(e,0,0,e.width,e.height)}_fromTexture(e,t){e.mapping===_a||e.mapping===wa?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),Qx=this._renderer.getRenderTarget();const r=t||this._allocateTargets();return this._textureToCubeUV(e,r),this._applyPMREM(r),this._cleanup(r),r}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),t=4*this._cubeSize,r={magFilter:Dn,minFilter:Dn,generateMipmaps:!1,type:xu,format:mi,colorSpace:hs,depthBuffer:!1},i=aC(e,t,r);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==t){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=aC(e,t,r);const{_lodMax:s}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=P8(s)),this._blurMaterial=L8(s,e,t)}return i}_compileMaterial(e){const t=new ir(this._lodPlanes[0],e);this._renderer.compile(t,Zx)}_sceneToCubeUV(e,t,r,i){const a=new pn(90,1,t,r),l=[1,-1,1,1,1,1],u=[1,1,1,-1,-1,-1],f=this._renderer,h=f.autoClear,p=f.toneMapping;f.getClearColor(sC),f.toneMapping=us,f.autoClear=!1;const g=new Aa({name:"PMREM.Background",side:zr,depthWrite:!1,depthTest:!1}),v=new ir(new Fl,g);let x=!1;const _=e.background;_?_.isColor&&(g.color.copy(_),e.background=null,x=!0):(g.color.copy(sC),x=!0);for(let m=0;m<6;m++){const w=m%3;w===0?(a.up.set(0,l[m],0),a.lookAt(u[m],0,0)):w===1?(a.up.set(0,0,l[m]),a.lookAt(0,u[m],0)):(a.up.set(0,l[m],0),a.lookAt(0,0,u[m]));const S=this._cubeSize;pm(i,w*S,m>2?S:0,S,S),f.setRenderTarget(i),x&&f.render(v,a),f.render(e,a)}v.geometry.dispose(),v.material.dispose(),f.toneMapping=p,f.autoClear=h,e.background=_}_textureToCubeUV(e,t){const r=this._renderer,i=e.mapping===_a||e.mapping===wa;i?(this._cubemapMaterial===null&&(this._cubemapMaterial=cC()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=lC());const s=i?this._cubemapMaterial:this._equirectMaterial,o=new ir(this._lodPlanes[0],s),a=s.uniforms;a.envMap.value=e;const l=this._cubeSize;pm(t,0,0,3*l,2*l),r.setRenderTarget(t),r.render(o,Zx)}_applyPMREM(e){const t=this._renderer,r=t.autoClear;t.autoClear=!1;for(let i=1;i<this._lodPlanes.length;i++){const s=Math.sqrt(this._sigmas[i]*this._sigmas[i]-this._sigmas[i-1]*this._sigmas[i-1]),o=oC[(i-1)%oC.length];this._blur(e,i-1,i,s,o)}t.autoClear=r}_blur(e,t,r,i,s){const o=this._pingPongRenderTarget;this._halfBlur(e,o,t,r,i,"latitudinal",s),this._halfBlur(o,e,r,r,i,"longitudinal",s)}_halfBlur(e,t,r,i,s,o,a){const l=this._renderer,u=this._blurMaterial;o!=="latitudinal"&&o!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const f=3,h=new ir(this._lodPlanes[i],u),p=u.uniforms,g=this._sizeLods[r]-1,v=isFinite(s)?Math.PI/(2*g):2*Math.PI/(2*il-1),x=s/v,_=isFinite(s)?1+Math.floor(f*x):il;_>il&&console.warn(`sigmaRadians, ${s}, is too large and will clip, as it requested ${_} samples when the maximum is set to ${il}`);const m=[];let w=0;for(let L=0;L<il;++L){const k=L/x,C=Math.exp(-k*k/2);m.push(C),L===0?w+=C:L<_&&(w+=2*C)}for(let L=0;L<m.length;L++)m[L]=m[L]/w;p.envMap.value=e.texture,p.samples.value=_,p.weights.value=m,p.latitudinal.value=o==="latitudinal",a&&(p.poleAxis.value=a);const{_lodMax:S}=this;p.dTheta.value=v,p.mipInt.value=S-r;const M=this._sizeLods[i],R=3*M*(i>S-Zc?i-S+Zc:0),P=4*(this._cubeSize-M);pm(t,R,P,3*M,2*M),l.setRenderTarget(t),l.render(h,Zx)}}function P8(n){const e=[],t=[],r=[];let i=n;const s=n-Zc+1+iC.length;for(let o=0;o<s;o++){const a=Math.pow(2,i);t.push(a);let l=1/a;o>n-Zc?l=iC[o-n+Zc-1]:o===0&&(l=0),r.push(l);const u=1/(a-2),f=-u,h=1+u,p=[f,f,h,f,h,h,f,f,h,h,f,h],g=6,v=6,x=3,_=2,m=1,w=new Float32Array(x*v*g),S=new Float32Array(_*v*g),M=new Float32Array(m*v*g);for(let P=0;P<g;P++){const L=P%3*2/3-1,k=P>2?0:-1,C=[L,k,0,L+2/3,k,0,L+2/3,k+1,0,L,k,0,L+2/3,k+1,0,L,k+1,0];w.set(C,x*v*P),S.set(p,_*v*P);const A=[P,P,P,P,P,P];M.set(A,m*v*P)}const R=new mt;R.setAttribute("position",new Ut(w,x)),R.setAttribute("uv",new Ut(S,_)),R.setAttribute("faceIndex",new Ut(M,m)),e.push(R),i>Zc&&i--}return{lodPlanes:e,sizeLods:t,sigmas:r}}function aC(n,e,t){const r=new ps(n,e,t);return r.texture.mapping=ku,r.texture.name="PMREM.cubeUv",r.scissorTest=!0,r}function pm(n,e,t,r,i){n.viewport.set(e,t,r,i),n.scissor.set(e,t,r,i)}function L8(n,e,t){const r=new Float32Array(il),i=new z(0,1,0);return new Ws({name:"SphericalGaussianBlur",defines:{n:il,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/t,CUBEUV_MAX_MIP:`${n}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:r},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:i}},vertexShader:Rb(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:xo,depthTest:!1,depthWrite:!1})}function lC(){return new Ws({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:Rb(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:xo,depthTest:!1,depthWrite:!1})}function cC(){return new Ws({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:Rb(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:xo,depthTest:!1,depthWrite:!1})}function Rb(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function O8(n){let e=new WeakMap,t=null;function r(a){if(a&&a.isTexture){const l=a.mapping,u=l===Pf||l===Lf,f=l===_a||l===wa;if(u||f)if(a.isRenderTargetTexture&&a.needsPMREMUpdate===!0){a.needsPMREMUpdate=!1;let h=e.get(a);return t===null&&(t=new _w(n)),h=u?t.fromEquirectangular(a,h):t.fromCubemap(a,h),e.set(a,h),h.texture}else{if(e.has(a))return e.get(a).texture;{const h=a.image;if(u&&h&&h.height>0||f&&h&&i(h)){t===null&&(t=new _w(n));const p=u?t.fromEquirectangular(a):t.fromCubemap(a);return e.set(a,p),a.addEventListener("dispose",s),p.texture}else return null}}}return a}function i(a){let l=0;const u=6;for(let f=0;f<u;f++)a[f]!==void 0&&l++;return l===u}function s(a){const l=a.target;l.removeEventListener("dispose",s);const u=e.get(l);u!==void 0&&(e.delete(l),u.dispose())}function o(){e=new WeakMap,t!==null&&(t.dispose(),t=null)}return{get:r,dispose:o}}function k8(n){const e={};function t(r){if(e[r]!==void 0)return e[r];let i;switch(r){case"WEBGL_depth_texture":i=n.getExtension("WEBGL_depth_texture")||n.getExtension("MOZ_WEBGL_depth_texture")||n.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":i=n.getExtension("EXT_texture_filter_anisotropic")||n.getExtension("MOZ_EXT_texture_filter_anisotropic")||n.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":i=n.getExtension("WEBGL_compressed_texture_s3tc")||n.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":i=n.getExtension("WEBGL_compressed_texture_pvrtc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:i=n.getExtension(r)}return e[r]=i,i}return{has:function(r){return t(r)!==null},init:function(r){r.isWebGL2?t("EXT_color_buffer_float"):(t("WEBGL_depth_texture"),t("OES_texture_float"),t("OES_texture_half_float"),t("OES_texture_half_float_linear"),t("OES_standard_derivatives"),t("OES_element_index_uint"),t("OES_vertex_array_object"),t("ANGLE_instanced_arrays")),t("OES_texture_float_linear"),t("EXT_color_buffer_half_float"),t("WEBGL_multisampled_render_to_texture")},get:function(r){const i=t(r);return i===null&&console.warn("THREE.WebGLRenderer: "+r+" extension not supported."),i}}}function I8(n,e,t,r){const i={},s=new WeakMap;function o(h){const p=h.target;p.index!==null&&e.remove(p.index);for(const v in p.attributes)e.remove(p.attributes[v]);for(const v in p.morphAttributes){const x=p.morphAttributes[v];for(let _=0,m=x.length;_<m;_++)e.remove(x[_])}p.removeEventListener("dispose",o),delete i[p.id];const g=s.get(p);g&&(e.remove(g),s.delete(p)),r.releaseStatesOfGeometry(p),p.isInstancedBufferGeometry===!0&&delete p._maxInstanceCount,t.memory.geometries--}function a(h,p){return i[p.id]===!0||(p.addEventListener("dispose",o),i[p.id]=!0,t.memory.geometries++),p}function l(h){const p=h.attributes;for(const v in p)e.update(p[v],n.ARRAY_BUFFER);const g=h.morphAttributes;for(const v in g){const x=g[v];for(let _=0,m=x.length;_<m;_++)e.update(x[_],n.ARRAY_BUFFER)}}function u(h){const p=[],g=h.index,v=h.attributes.position;let x=0;if(g!==null){const w=g.array;x=g.version;for(let S=0,M=w.length;S<M;S+=3){const R=w[S+0],P=w[S+1],L=w[S+2];p.push(R,P,P,L,L,R)}}else{const w=v.array;x=v.version;for(let S=0,M=w.length/3-1;S<M;S+=3){const R=S+0,P=S+1,L=S+2;p.push(R,P,P,L,L,R)}}const _=new(zO(p)?Ab:Cb)(p,1);_.version=x;const m=s.get(h);m&&e.remove(m),s.set(h,_)}function f(h){const p=s.get(h);if(p){const g=h.index;g!==null&&p.version<g.version&&u(h)}else u(h);return s.get(h)}return{get:a,update:l,getWireframeAttribute:f}}function N8(n,e,t,r){const i=r.isWebGL2;let s;function o(p){s=p}let a,l;function u(p){a=p.type,l=p.bytesPerElement}function f(p,g){n.drawElements(s,g,a,p*l),t.update(g,s,1)}function h(p,g,v){if(v===0)return;let x,_;if(i)x=n,_="drawElementsInstanced";else if(x=e.get("ANGLE_instanced_arrays"),_="drawElementsInstancedANGLE",x===null){console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}x[_](s,g,a,p*l,v),t.update(g,s,v)}this.setMode=o,this.setIndex=u,this.render=f,this.renderInstances=h}function D8(n){const e={geometries:0,textures:0},t={frame:0,calls:0,triangles:0,points:0,lines:0};function r(s,o,a){switch(t.calls++,o){case n.TRIANGLES:t.triangles+=a*(s/3);break;case n.LINES:t.lines+=a*(s/2);break;case n.LINE_STRIP:t.lines+=a*(s-1);break;case n.LINE_LOOP:t.lines+=a*s;break;case n.POINTS:t.points+=a*s;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",o);break}}function i(){t.calls=0,t.triangles=0,t.points=0,t.lines=0}return{memory:e,render:t,programs:null,autoReset:!0,reset:i,update:r}}function U8(n,e){return n[0]-e[0]}function F8(n,e){return Math.abs(e[1])-Math.abs(n[1])}function z8(n,e,t){const r={},i=new Float32Array(8),s=new WeakMap,o=new qt,a=[];for(let u=0;u<8;u++)a[u]=[u,0];function l(u,f,h){const p=u.morphTargetInfluences;if(e.isWebGL2===!0){const v=f.morphAttributes.position||f.morphAttributes.normal||f.morphAttributes.color,x=v!==void 0?v.length:0;let _=s.get(f);if(_===void 0||_.count!==x){let X=function(){F.dispose(),s.delete(f),f.removeEventListener("dispose",X)};var g=X;_!==void 0&&_.texture.dispose();const S=f.morphAttributes.position!==void 0,M=f.morphAttributes.normal!==void 0,R=f.morphAttributes.color!==void 0,P=f.morphAttributes.position||[],L=f.morphAttributes.normal||[],k=f.morphAttributes.color||[];let C=0;S===!0&&(C=1),M===!0&&(C=2),R===!0&&(C=3);let A=f.attributes.position.count*C,U=1;A>e.maxTextureSize&&(U=Math.ceil(A/e.maxTextureSize),A=e.maxTextureSize);const W=new Float32Array(A*U*4*x),F=new Y0(W,A,U,x);F.type=Ds,F.needsUpdate=!0;const G=C*4;for(let Z=0;Z<x;Z++){const J=P[Z],D=L[Z],$=k[Z],q=A*U*4*Z;for(let Y=0;Y<J.count;Y++){const Q=Y*G;S===!0&&(o.fromBufferAttribute(J,Y),W[q+Q+0]=o.x,W[q+Q+1]=o.y,W[q+Q+2]=o.z,W[q+Q+3]=0),M===!0&&(o.fromBufferAttribute(D,Y),W[q+Q+4]=o.x,W[q+Q+5]=o.y,W[q+Q+6]=o.z,W[q+Q+7]=0),R===!0&&(o.fromBufferAttribute($,Y),W[q+Q+8]=o.x,W[q+Q+9]=o.y,W[q+Q+10]=o.z,W[q+Q+11]=$.itemSize===4?o.w:1)}}_={count:x,texture:F,size:new _e(A,U)},s.set(f,_),f.addEventListener("dispose",X)}let m=0;for(let S=0;S<p.length;S++)m+=p[S];const w=f.morphTargetsRelative?1:1-m;h.getUniforms().setValue(n,"morphTargetBaseInfluence",w),h.getUniforms().setValue(n,"morphTargetInfluences",p),h.getUniforms().setValue(n,"morphTargetsTexture",_.texture,t),h.getUniforms().setValue(n,"morphTargetsTextureSize",_.size)}else{const v=p===void 0?0:p.length;let x=r[f.id];if(x===void 0||x.length!==v){x=[];for(let M=0;M<v;M++)x[M]=[M,0];r[f.id]=x}for(let M=0;M<v;M++){const R=x[M];R[0]=M,R[1]=p[M]}x.sort(F8);for(let M=0;M<8;M++)M<v&&x[M][1]?(a[M][0]=x[M][0],a[M][1]=x[M][1]):(a[M][0]=Number.MAX_SAFE_INTEGER,a[M][1]=0);a.sort(U8);const _=f.morphAttributes.position,m=f.morphAttributes.normal;let w=0;for(let M=0;M<8;M++){const R=a[M],P=R[0],L=R[1];P!==Number.MAX_SAFE_INTEGER&&L?(_&&f.getAttribute("morphTarget"+M)!==_[P]&&f.setAttribute("morphTarget"+M,_[P]),m&&f.getAttribute("morphNormal"+M)!==m[P]&&f.setAttribute("morphNormal"+M,m[P]),i[M]=L,w+=L):(_&&f.hasAttribute("morphTarget"+M)===!0&&f.deleteAttribute("morphTarget"+M),m&&f.hasAttribute("morphNormal"+M)===!0&&f.deleteAttribute("morphNormal"+M),i[M]=0)}const S=f.morphTargetsRelative?1:1-w;h.getUniforms().setValue(n,"morphTargetBaseInfluence",S),h.getUniforms().setValue(n,"morphTargetInfluences",i)}}return{update:l}}function B8(n,e,t,r){let i=new WeakMap;function s(l){const u=r.render.frame,f=l.geometry,h=e.get(l,f);if(i.get(h)!==u&&(e.update(h),i.set(h,u)),l.isInstancedMesh&&(l.hasEventListener("dispose",a)===!1&&l.addEventListener("dispose",a),i.get(l)!==u&&(t.update(l.instanceMatrix,n.ARRAY_BUFFER),l.instanceColor!==null&&t.update(l.instanceColor,n.ARRAY_BUFFER),i.set(l,u))),l.isSkinnedMesh){const p=l.skeleton;i.get(p)!==u&&(p.update(),i.set(p,u))}return h}function o(){i=new WeakMap}function a(l){const u=l.target;u.removeEventListener("dispose",a),t.remove(u.instanceMatrix),u.instanceColor!==null&&t.remove(u.instanceColor)}return{update:s,dispose:o}}const $O=new Ln,XO=new Y0,qO=new Tb,YO=new mh,uC=[],dC=[],fC=new Float32Array(16),hC=new Float32Array(9),pC=new Float32Array(4);function Nu(n,e,t){const r=n[0];if(r<=0||r>0)return n;const i=e*t;let s=uC[i];if(s===void 0&&(s=new Float32Array(i),uC[i]=s),e!==0){r.toArray(s,0);for(let o=1,a=0;o!==e;++o)a+=t,n[o].toArray(s,a)}return s}function Jn(n,e){if(n.length!==e.length)return!1;for(let t=0,r=n.length;t<r;t++)if(n[t]!==e[t])return!1;return!0}function Zn(n,e){for(let t=0,r=e.length;t<r;t++)n[t]=e[t]}function J0(n,e){let t=dC[e];t===void 0&&(t=new Int32Array(e),dC[e]=t);for(let r=0;r!==e;++r)t[r]=n.allocateTextureUnit();return t}function j8(n,e){const t=this.cache;t[0]!==e&&(n.uniform1f(this.addr,e),t[0]=e)}function H8(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2f(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(Jn(t,e))return;n.uniform2fv(this.addr,e),Zn(t,e)}}function V8(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3f(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else if(e.r!==void 0)(t[0]!==e.r||t[1]!==e.g||t[2]!==e.b)&&(n.uniform3f(this.addr,e.r,e.g,e.b),t[0]=e.r,t[1]=e.g,t[2]=e.b);else{if(Jn(t,e))return;n.uniform3fv(this.addr,e),Zn(t,e)}}function W8(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4f(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(Jn(t,e))return;n.uniform4fv(this.addr,e),Zn(t,e)}}function G8(n,e){const t=this.cache,r=e.elements;if(r===void 0){if(Jn(t,e))return;n.uniformMatrix2fv(this.addr,!1,e),Zn(t,e)}else{if(Jn(t,r))return;pC.set(r),n.uniformMatrix2fv(this.addr,!1,pC),Zn(t,r)}}function $8(n,e){const t=this.cache,r=e.elements;if(r===void 0){if(Jn(t,e))return;n.uniformMatrix3fv(this.addr,!1,e),Zn(t,e)}else{if(Jn(t,r))return;hC.set(r),n.uniformMatrix3fv(this.addr,!1,hC),Zn(t,r)}}function X8(n,e){const t=this.cache,r=e.elements;if(r===void 0){if(Jn(t,e))return;n.uniformMatrix4fv(this.addr,!1,e),Zn(t,e)}else{if(Jn(t,r))return;fC.set(r),n.uniformMatrix4fv(this.addr,!1,fC),Zn(t,r)}}function q8(n,e){const t=this.cache;t[0]!==e&&(n.uniform1i(this.addr,e),t[0]=e)}function Y8(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2i(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(Jn(t,e))return;n.uniform2iv(this.addr,e),Zn(t,e)}}function K8(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3i(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(Jn(t,e))return;n.uniform3iv(this.addr,e),Zn(t,e)}}function J8(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4i(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(Jn(t,e))return;n.uniform4iv(this.addr,e),Zn(t,e)}}function Z8(n,e){const t=this.cache;t[0]!==e&&(n.uniform1ui(this.addr,e),t[0]=e)}function Q8(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2ui(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(Jn(t,e))return;n.uniform2uiv(this.addr,e),Zn(t,e)}}function ej(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3ui(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(Jn(t,e))return;n.uniform3uiv(this.addr,e),Zn(t,e)}}function tj(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4ui(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(Jn(t,e))return;n.uniform4uiv(this.addr,e),Zn(t,e)}}function nj(n,e,t){const r=this.cache,i=t.allocateTextureUnit();r[0]!==i&&(n.uniform1i(this.addr,i),r[0]=i),t.setTexture2D(e||$O,i)}function rj(n,e,t){const r=this.cache,i=t.allocateTextureUnit();r[0]!==i&&(n.uniform1i(this.addr,i),r[0]=i),t.setTexture3D(e||qO,i)}function ij(n,e,t){const r=this.cache,i=t.allocateTextureUnit();r[0]!==i&&(n.uniform1i(this.addr,i),r[0]=i),t.setTextureCube(e||YO,i)}function sj(n,e,t){const r=this.cache,i=t.allocateTextureUnit();r[0]!==i&&(n.uniform1i(this.addr,i),r[0]=i),t.setTexture2DArray(e||XO,i)}function oj(n){switch(n){case 5126:return j8;case 35664:return H8;case 35665:return V8;case 35666:return W8;case 35674:return G8;case 35675:return $8;case 35676:return X8;case 5124:case 35670:return q8;case 35667:case 35671:return Y8;case 35668:case 35672:return K8;case 35669:case 35673:return J8;case 5125:return Z8;case 36294:return Q8;case 36295:return ej;case 36296:return tj;case 35678:case 36198:case 36298:case 36306:case 35682:return nj;case 35679:case 36299:case 36307:return rj;case 35680:case 36300:case 36308:case 36293:return ij;case 36289:case 36303:case 36311:case 36292:return sj}}function aj(n,e){n.uniform1fv(this.addr,e)}function lj(n,e){const t=Nu(e,this.size,2);n.uniform2fv(this.addr,t)}function cj(n,e){const t=Nu(e,this.size,3);n.uniform3fv(this.addr,t)}function uj(n,e){const t=Nu(e,this.size,4);n.uniform4fv(this.addr,t)}function dj(n,e){const t=Nu(e,this.size,4);n.uniformMatrix2fv(this.addr,!1,t)}function fj(n,e){const t=Nu(e,this.size,9);n.uniformMatrix3fv(this.addr,!1,t)}function hj(n,e){const t=Nu(e,this.size,16);n.uniformMatrix4fv(this.addr,!1,t)}function pj(n,e){n.uniform1iv(this.addr,e)}function mj(n,e){n.uniform2iv(this.addr,e)}function gj(n,e){n.uniform3iv(this.addr,e)}function vj(n,e){n.uniform4iv(this.addr,e)}function yj(n,e){n.uniform1uiv(this.addr,e)}function xj(n,e){n.uniform2uiv(this.addr,e)}function _j(n,e){n.uniform3uiv(this.addr,e)}function wj(n,e){n.uniform4uiv(this.addr,e)}function Sj(n,e,t){const r=this.cache,i=e.length,s=J0(t,i);Jn(r,s)||(n.uniform1iv(this.addr,s),Zn(r,s));for(let o=0;o!==i;++o)t.setTexture2D(e[o]||$O,s[o])}function bj(n,e,t){const r=this.cache,i=e.length,s=J0(t,i);Jn(r,s)||(n.uniform1iv(this.addr,s),Zn(r,s));for(let o=0;o!==i;++o)t.setTexture3D(e[o]||qO,s[o])}function Ej(n,e,t){const r=this.cache,i=e.length,s=J0(t,i);Jn(r,s)||(n.uniform1iv(this.addr,s),Zn(r,s));for(let o=0;o!==i;++o)t.setTextureCube(e[o]||YO,s[o])}function Mj(n,e,t){const r=this.cache,i=e.length,s=J0(t,i);Jn(r,s)||(n.uniform1iv(this.addr,s),Zn(r,s));for(let o=0;o!==i;++o)t.setTexture2DArray(e[o]||XO,s[o])}function Tj(n){switch(n){case 5126:return aj;case 35664:return lj;case 35665:return cj;case 35666:return uj;case 35674:return dj;case 35675:return fj;case 35676:return hj;case 5124:case 35670:return pj;case 35667:case 35671:return mj;case 35668:case 35672:return gj;case 35669:case 35673:return vj;case 5125:return yj;case 36294:return xj;case 36295:return _j;case 36296:return wj;case 35678:case 36198:case 36298:case 36306:case 35682:return Sj;case 35679:case 36299:case 36307:return bj;case 35680:case 36300:case 36308:case 36293:return Ej;case 36289:case 36303:case 36311:case 36292:return Mj}}class Cj{constructor(e,t,r){this.id=e,this.addr=r,this.cache=[],this.setValue=oj(t.type)}}class Aj{constructor(e,t,r){this.id=e,this.addr=r,this.cache=[],this.size=t.size,this.setValue=Tj(t.type)}}class Rj{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,t,r){const i=this.seq;for(let s=0,o=i.length;s!==o;++s){const a=i[s];a.setValue(e,t[a.id],r)}}}const e_=/(\w+)(\])?(\[|\.)?/g;function mC(n,e){n.seq.push(e),n.map[e.id]=e}function Pj(n,e,t){const r=n.name,i=r.length;for(e_.lastIndex=0;;){const s=e_.exec(r),o=e_.lastIndex;let a=s[1];const l=s[2]==="]",u=s[3];if(l&&(a=a|0),u===void 0||u==="["&&o+2===i){mC(t,u===void 0?new Cj(a,n,e):new Aj(a,n,e));break}else{let h=t.map[a];h===void 0&&(h=new Rj(a),mC(t,h)),t=h}}}class fg{constructor(e,t){this.seq=[],this.map={};const r=e.getProgramParameter(t,e.ACTIVE_UNIFORMS);for(let i=0;i<r;++i){const s=e.getActiveUniform(t,i),o=e.getUniformLocation(t,s.name);Pj(s,o,this)}}setValue(e,t,r,i){const s=this.map[t];s!==void 0&&s.setValue(e,r,i)}setOptional(e,t,r){const i=t[r];i!==void 0&&this.setValue(e,r,i)}static upload(e,t,r,i){for(let s=0,o=t.length;s!==o;++s){const a=t[s],l=r[a.id];l.needsUpdate!==!1&&a.setValue(e,l.value,i)}}static seqWithValue(e,t){const r=[];for(let i=0,s=e.length;i!==s;++i){const o=e[i];o.id in t&&r.push(o)}return r}}function gC(n,e,t){const r=n.createShader(e);return n.shaderSource(r,t),n.compileShader(r),r}let Lj=0;function Oj(n,e){const t=n.split(`
`),r=[],i=Math.max(e-6,0),s=Math.min(e+6,t.length);for(let o=i;o<s;o++){const a=o+1;r.push(`${a===e?">":" "} ${a}: ${t[o]}`)}return r.join(`
`)}function kj(n){switch(n){case hs:return["Linear","( value )"];case _t:return["sRGB","( value )"];default:return console.warn("THREE.WebGLProgram: Unsupported color space:",n),["Linear","( value )"]}}function vC(n,e,t){const r=n.getShaderParameter(e,n.COMPILE_STATUS),i=n.getShaderInfoLog(e).trim();if(r&&i==="")return"";const s=/ERROR: 0:(\d+)/.exec(i);if(s){const o=parseInt(s[1]);return t.toUpperCase()+`

`+i+`

`+Oj(n.getShaderSource(e),o)}else return i}function Ij(n,e){const t=kj(e);return"vec4 "+n+"( vec4 value ) { return LinearTo"+t[0]+t[1]+"; }"}function Nj(n,e){let t;switch(e){case uO:t="Linear";break;case dO:t="Reinhard";break;case fO:t="OptimizedCineon";break;case pb:t="ACESFilmic";break;case hO:t="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),t="Linear"}return"vec3 "+n+"( vec3 color ) { return "+t+"ToneMapping( color ); }"}function Dj(n){return[n.extensionDerivatives||n.envMapCubeUVHeight||n.bumpMap||n.normalMapTangentSpace||n.clearcoatNormalMap||n.flatShading||n.shaderID==="physical"?"#extension GL_OES_standard_derivatives : enable":"",(n.extensionFragDepth||n.logarithmicDepthBuffer)&&n.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",n.extensionDrawBuffers&&n.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(n.extensionShaderTextureLOD||n.envMap||n.transmission)&&n.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(Hd).join(`
`)}function Uj(n){const e=[];for(const t in n){const r=n[t];r!==!1&&e.push("#define "+t+" "+r)}return e.join(`
`)}function Fj(n,e){const t={},r=n.getProgramParameter(e,n.ACTIVE_ATTRIBUTES);for(let i=0;i<r;i++){const s=n.getActiveAttrib(e,i),o=s.name;let a=1;s.type===n.FLOAT_MAT2&&(a=2),s.type===n.FLOAT_MAT3&&(a=3),s.type===n.FLOAT_MAT4&&(a=4),t[o]={type:s.type,location:n.getAttribLocation(e,o),locationSize:a}}return t}function Hd(n){return n!==""}function yC(n,e){const t=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return n.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,t).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function xC(n,e){return n.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const zj=/^[ \t]*#include +<([\w\d./]+)>/gm;function ww(n){return n.replace(zj,jj)}const Bj=new Map([["encodings_fragment","colorspace_fragment"],["encodings_pars_fragment","colorspace_pars_fragment"],["output_fragment","opaque_fragment"]]);function jj(n,e){let t=St[e];if(t===void 0){const r=Bj.get(e);if(r!==void 0)t=St[r],console.warn('THREE.WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',e,r);else throw new Error("Can not resolve #include <"+e+">")}return ww(t)}const Hj=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function _C(n){return n.replace(Hj,Vj)}function Vj(n,e,t,r){let i="";for(let s=parseInt(e);s<parseInt(t);s++)i+=r.replace(/\[\s*i\s*\]/g,"[ "+s+" ]").replace(/UNROLLED_LOOP_INDEX/g,s);return i}function wC(n){let e="precision "+n.precision+` float;
precision `+n.precision+" int;";return n.precision==="highp"?e+=`
#define HIGH_PRECISION`:n.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:n.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}function Wj(n){let e="SHADOWMAP_TYPE_BASIC";return n.shadowMapType===db?e="SHADOWMAP_TYPE_PCF":n.shadowMapType===W0?e="SHADOWMAP_TYPE_PCF_SOFT":n.shadowMapType===Ls&&(e="SHADOWMAP_TYPE_VSM"),e}function Gj(n){let e="ENVMAP_TYPE_CUBE";if(n.envMap)switch(n.envMapMode){case _a:case wa:e="ENVMAP_TYPE_CUBE";break;case ku:e="ENVMAP_TYPE_CUBE_UV";break}return e}function $j(n){let e="ENVMAP_MODE_REFLECTION";if(n.envMap)switch(n.envMapMode){case wa:e="ENVMAP_MODE_REFRACTION";break}return e}function Xj(n){let e="ENVMAP_BLENDING_NONE";if(n.envMap)switch(n.combine){case fh:e="ENVMAP_BLENDING_MULTIPLY";break;case lO:e="ENVMAP_BLENDING_MIX";break;case cO:e="ENVMAP_BLENDING_ADD";break}return e}function qj(n){const e=n.envMapCubeUVHeight;if(e===null)return null;const t=Math.log2(e)-2,r=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,t),7*16)),texelHeight:r,maxMip:t}}function Yj(n,e,t,r){const i=n.getContext(),s=t.defines;let o=t.vertexShader,a=t.fragmentShader;const l=Wj(t),u=Gj(t),f=$j(t),h=Xj(t),p=qj(t),g=t.isWebGL2?"":Dj(t),v=Uj(s),x=i.createProgram();let _,m,w=t.glslVersion?"#version "+t.glslVersion+`
`:"";t.isRawShaderMaterial?(_=["#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,v].filter(Hd).join(`
`),_.length>0&&(_+=`
`),m=[g,"#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,v].filter(Hd).join(`
`),m.length>0&&(m+=`
`)):(_=[wC(t),"#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,v,t.instancing?"#define USE_INSTANCING":"",t.instancingColor?"#define USE_INSTANCING_COLOR":"",t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+f:"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",t.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",t.displacementMap?"#define USE_DISPLACEMENTMAP":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.anisotropyMap?"#define USE_ANISOTROPYMAP":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",t.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaHash?"#define USE_ALPHAHASH":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",t.mapUv?"#define MAP_UV "+t.mapUv:"",t.alphaMapUv?"#define ALPHAMAP_UV "+t.alphaMapUv:"",t.lightMapUv?"#define LIGHTMAP_UV "+t.lightMapUv:"",t.aoMapUv?"#define AOMAP_UV "+t.aoMapUv:"",t.emissiveMapUv?"#define EMISSIVEMAP_UV "+t.emissiveMapUv:"",t.bumpMapUv?"#define BUMPMAP_UV "+t.bumpMapUv:"",t.normalMapUv?"#define NORMALMAP_UV "+t.normalMapUv:"",t.displacementMapUv?"#define DISPLACEMENTMAP_UV "+t.displacementMapUv:"",t.metalnessMapUv?"#define METALNESSMAP_UV "+t.metalnessMapUv:"",t.roughnessMapUv?"#define ROUGHNESSMAP_UV "+t.roughnessMapUv:"",t.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+t.anisotropyMapUv:"",t.clearcoatMapUv?"#define CLEARCOATMAP_UV "+t.clearcoatMapUv:"",t.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+t.clearcoatNormalMapUv:"",t.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+t.clearcoatRoughnessMapUv:"",t.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+t.iridescenceMapUv:"",t.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+t.iridescenceThicknessMapUv:"",t.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+t.sheenColorMapUv:"",t.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+t.sheenRoughnessMapUv:"",t.specularMapUv?"#define SPECULARMAP_UV "+t.specularMapUv:"",t.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+t.specularColorMapUv:"",t.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+t.specularIntensityMapUv:"",t.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+t.transmissionMapUv:"",t.thicknessMapUv?"#define THICKNESSMAP_UV "+t.thicknessMapUv:"",t.vertexTangents&&t.flatShading===!1?"#define USE_TANGENT":"",t.vertexColors?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUv1s?"#define USE_UV1":"",t.vertexUv2s?"#define USE_UV2":"",t.vertexUv3s?"#define USE_UV3":"",t.pointsUvs?"#define USE_POINTS_UV":"",t.flatShading?"#define FLAT_SHADED":"",t.skinning?"#define USE_SKINNING":"",t.morphTargets?"#define USE_MORPHTARGETS":"",t.morphNormals&&t.flatShading===!1?"#define USE_MORPHNORMALS":"",t.morphColors&&t.isWebGL2?"#define USE_MORPHCOLORS":"",t.morphTargetsCount>0&&t.isWebGL2?"#define MORPHTARGETS_TEXTURE":"",t.morphTargetsCount>0&&t.isWebGL2?"#define MORPHTARGETS_TEXTURE_STRIDE "+t.morphTextureStride:"",t.morphTargetsCount>0&&t.isWebGL2?"#define MORPHTARGETS_COUNT "+t.morphTargetsCount:"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+l:"",t.sizeAttenuation?"#define USE_SIZEATTENUATION":"",t.useLegacyLights?"#define LEGACY_LIGHTS":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.logarithmicDepthBuffer&&t.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","	attribute vec2 uv1;","#endif","#ifdef USE_UV2","	attribute vec2 uv2;","#endif","#ifdef USE_UV3","	attribute vec2 uv3;","#endif","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#if ( defined( USE_MORPHTARGETS ) && ! defined( MORPHTARGETS_TEXTURE ) )","	attribute vec3 morphTarget0;","	attribute vec3 morphTarget1;","	attribute vec3 morphTarget2;","	attribute vec3 morphTarget3;","	#ifdef USE_MORPHNORMALS","		attribute vec3 morphNormal0;","		attribute vec3 morphNormal1;","		attribute vec3 morphNormal2;","		attribute vec3 morphNormal3;","	#else","		attribute vec3 morphTarget4;","		attribute vec3 morphTarget5;","		attribute vec3 morphTarget6;","		attribute vec3 morphTarget7;","	#endif","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(Hd).join(`
`),m=[g,wC(t),"#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,v,t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.matcap?"#define USE_MATCAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+u:"",t.envMap?"#define "+f:"",t.envMap?"#define "+h:"",p?"#define CUBEUV_TEXEL_WIDTH "+p.texelWidth:"",p?"#define CUBEUV_TEXEL_HEIGHT "+p.texelHeight:"",p?"#define CUBEUV_MAX_MIP "+p.maxMip+".0":"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",t.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.anisotropy?"#define USE_ANISOTROPY":"",t.anisotropyMap?"#define USE_ANISOTROPYMAP":"",t.clearcoat?"#define USE_CLEARCOAT":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.iridescence?"#define USE_IRIDESCENCE":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",t.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaTest?"#define USE_ALPHATEST":"",t.alphaHash?"#define USE_ALPHAHASH":"",t.sheen?"#define USE_SHEEN":"",t.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.vertexTangents&&t.flatShading===!1?"#define USE_TANGENT":"",t.vertexColors||t.instancingColor?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUv1s?"#define USE_UV1":"",t.vertexUv2s?"#define USE_UV2":"",t.vertexUv3s?"#define USE_UV3":"",t.pointsUvs?"#define USE_POINTS_UV":"",t.gradientMap?"#define USE_GRADIENTMAP":"",t.flatShading?"#define FLAT_SHADED":"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+l:"",t.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",t.useLegacyLights?"#define LEGACY_LIGHTS":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.logarithmicDepthBuffer&&t.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",t.toneMapping!==us?"#define TONE_MAPPING":"",t.toneMapping!==us?St.tonemapping_pars_fragment:"",t.toneMapping!==us?Nj("toneMapping",t.toneMapping):"",t.dithering?"#define DITHERING":"",t.opaque?"#define OPAQUE":"",St.colorspace_pars_fragment,Ij("linearToOutputTexel",t.outputColorSpace),t.useDepthPacking?"#define DEPTH_PACKING "+t.depthPacking:"",`
`].filter(Hd).join(`
`)),o=ww(o),o=yC(o,t),o=xC(o,t),a=ww(a),a=yC(a,t),a=xC(a,t),o=_C(o),a=_C(a),t.isWebGL2&&t.isRawShaderMaterial!==!0&&(w=`#version 300 es
`,_=["precision mediump sampler2DArray;","#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+_,m=["#define varying in",t.glslVersion===yw?"":"layout(location = 0) out highp vec4 pc_fragColor;",t.glslVersion===yw?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+m);const S=w+_+o,M=w+m+a,R=gC(i,i.VERTEX_SHADER,S),P=gC(i,i.FRAGMENT_SHADER,M);if(i.attachShader(x,R),i.attachShader(x,P),t.index0AttributeName!==void 0?i.bindAttribLocation(x,0,t.index0AttributeName):t.morphTargets===!0&&i.bindAttribLocation(x,0,"position"),i.linkProgram(x),n.debug.checkShaderErrors){const C=i.getProgramInfoLog(x).trim(),A=i.getShaderInfoLog(R).trim(),U=i.getShaderInfoLog(P).trim();let W=!0,F=!0;if(i.getProgramParameter(x,i.LINK_STATUS)===!1)if(W=!1,typeof n.debug.onShaderError=="function")n.debug.onShaderError(i,x,R,P);else{const G=vC(i,R,"vertex"),X=vC(i,P,"fragment");console.error("THREE.WebGLProgram: Shader Error "+i.getError()+" - VALIDATE_STATUS "+i.getProgramParameter(x,i.VALIDATE_STATUS)+`

Program Info Log: `+C+`
`+G+`
`+X)}else C!==""?console.warn("THREE.WebGLProgram: Program Info Log:",C):(A===""||U==="")&&(F=!1);F&&(this.diagnostics={runnable:W,programLog:C,vertexShader:{log:A,prefix:_},fragmentShader:{log:U,prefix:m}})}i.deleteShader(R),i.deleteShader(P);let L;this.getUniforms=function(){return L===void 0&&(L=new fg(i,x)),L};let k;return this.getAttributes=function(){return k===void 0&&(k=Fj(i,x)),k},this.destroy=function(){r.releaseStatesOfProgram(this),i.deleteProgram(x),this.program=void 0},this.type=t.shaderType,this.name=t.shaderName,this.id=Lj++,this.cacheKey=e,this.usedTimes=1,this.program=x,this.vertexShader=R,this.fragmentShader=P,this}let Kj=0;class Jj{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const t=e.vertexShader,r=e.fragmentShader,i=this._getShaderStage(t),s=this._getShaderStage(r),o=this._getShaderCacheForMaterial(e);return o.has(i)===!1&&(o.add(i),i.usedTimes++),o.has(s)===!1&&(o.add(s),s.usedTimes++),this}remove(e){const t=this.materialCache.get(e);for(const r of t)r.usedTimes--,r.usedTimes===0&&this.shaderCache.delete(r.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const t=this.materialCache;let r=t.get(e);return r===void 0&&(r=new Set,t.set(e,r)),r}_getShaderStage(e){const t=this.shaderCache;let r=t.get(e);return r===void 0&&(r=new Zj(e),t.set(e,r)),r}}class Zj{constructor(e){this.id=Kj++,this.code=e,this.usedTimes=0}}function Qj(n,e,t,r,i,s,o){const a=new wl,l=new Jj,u=[],f=i.isWebGL2,h=i.logarithmicDepthBuffer,p=i.vertexTextures;let g=i.precision;const v={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function x(C){return C===0?"uv":`uv${C}`}function _(C,A,U,W,F){const G=W.fog,X=F.geometry,Z=C.isMeshStandardMaterial?W.environment:null,J=(C.isMeshStandardMaterial?t:e).get(C.envMap||Z),D=J&&J.mapping===ku?J.image.height:null,$=v[C.type];C.precision!==null&&(g=i.getMaxPrecision(C.precision),g!==C.precision&&console.warn("THREE.WebGLProgram.getParameters:",C.precision,"not supported, using",g,"instead."));const q=X.morphAttributes.position||X.morphAttributes.normal||X.morphAttributes.color,Y=q!==void 0?q.length:0;let Q=0;X.morphAttributes.position!==void 0&&(Q=1),X.morphAttributes.normal!==void 0&&(Q=2),X.morphAttributes.color!==void 0&&(Q=3);let Ce,ge,ie,ce;if($){const ri=os[$];Ce=ri.vertexShader,ge=ri.fragmentShader}else Ce=C.vertexShader,ge=C.fragmentShader,l.update(C),ie=l.getVertexShaderID(C),ce=l.getFragmentShaderID(C);const ke=n.getRenderTarget(),fe=F.isInstancedMesh===!0,Pe=!!C.map,Ue=!!C.matcap,Ae=!!J,j=!!C.aoMap,Me=!!C.lightMap,ue=!!C.bumpMap,Re=!!C.normalMap,we=!!C.displacementMap,We=!!C.emissiveMap,ze=!!C.metalnessMap,He=!!C.roughnessMap,Ke=C.anisotropy>0,rt=C.clearcoat>0,Ft=C.iridescence>0,H=C.sheen>0,I=C.transmission>0,ne=Ke&&!!C.anisotropyMap,xe=rt&&!!C.clearcoatMap,Se=rt&&!!C.clearcoatNormalMap,be=rt&&!!C.clearcoatRoughnessMap,Te=Ft&&!!C.iridescenceMap,Ne=Ft&&!!C.iridescenceThicknessMap,pe=H&&!!C.sheenColorMap,K=H&&!!C.sheenRoughnessMap,he=!!C.specularMap,Le=!!C.specularColorMap,Oe=!!C.specularIntensityMap,Be=I&&!!C.transmissionMap,st=I&&!!C.thicknessMap,At=!!C.gradientMap,ee=!!C.alphaMap,Fe=C.alphaTest>0,le=!!C.alphaHash,je=!!C.extensions,$e=!!X.attributes.uv1,Ot=!!X.attributes.uv2,tn=!!X.attributes.uv3;return{isWebGL2:f,shaderID:$,shaderType:C.type,shaderName:C.name,vertexShader:Ce,fragmentShader:ge,defines:C.defines,customVertexShaderID:ie,customFragmentShaderID:ce,isRawShaderMaterial:C.isRawShaderMaterial===!0,glslVersion:C.glslVersion,precision:g,instancing:fe,instancingColor:fe&&F.instanceColor!==null,supportsVertexTextures:p,outputColorSpace:ke===null?n.outputColorSpace:ke.isXRRenderTarget===!0?ke.texture.colorSpace:hs,map:Pe,matcap:Ue,envMap:Ae,envMapMode:Ae&&J.mapping,envMapCubeUVHeight:D,aoMap:j,lightMap:Me,bumpMap:ue,normalMap:Re,displacementMap:p&&we,emissiveMap:We,normalMapObjectSpace:Re&&C.normalMapType===AO,normalMapTangentSpace:Re&&C.normalMapType===Ca,metalnessMap:ze,roughnessMap:He,anisotropy:Ke,anisotropyMap:ne,clearcoat:rt,clearcoatMap:xe,clearcoatNormalMap:Se,clearcoatRoughnessMap:be,iridescence:Ft,iridescenceMap:Te,iridescenceThicknessMap:Ne,sheen:H,sheenColorMap:pe,sheenRoughnessMap:K,specularMap:he,specularColorMap:Le,specularIntensityMap:Oe,transmission:I,transmissionMap:Be,thicknessMap:st,gradientMap:At,opaque:C.transparent===!1&&C.blending===xl,alphaMap:ee,alphaTest:Fe,alphaHash:le,combine:C.combine,mapUv:Pe&&x(C.map.channel),aoMapUv:j&&x(C.aoMap.channel),lightMapUv:Me&&x(C.lightMap.channel),bumpMapUv:ue&&x(C.bumpMap.channel),normalMapUv:Re&&x(C.normalMap.channel),displacementMapUv:we&&x(C.displacementMap.channel),emissiveMapUv:We&&x(C.emissiveMap.channel),metalnessMapUv:ze&&x(C.metalnessMap.channel),roughnessMapUv:He&&x(C.roughnessMap.channel),anisotropyMapUv:ne&&x(C.anisotropyMap.channel),clearcoatMapUv:xe&&x(C.clearcoatMap.channel),clearcoatNormalMapUv:Se&&x(C.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:be&&x(C.clearcoatRoughnessMap.channel),iridescenceMapUv:Te&&x(C.iridescenceMap.channel),iridescenceThicknessMapUv:Ne&&x(C.iridescenceThicknessMap.channel),sheenColorMapUv:pe&&x(C.sheenColorMap.channel),sheenRoughnessMapUv:K&&x(C.sheenRoughnessMap.channel),specularMapUv:he&&x(C.specularMap.channel),specularColorMapUv:Le&&x(C.specularColorMap.channel),specularIntensityMapUv:Oe&&x(C.specularIntensityMap.channel),transmissionMapUv:Be&&x(C.transmissionMap.channel),thicknessMapUv:st&&x(C.thicknessMap.channel),alphaMapUv:ee&&x(C.alphaMap.channel),vertexTangents:!!X.attributes.tangent&&(Re||Ke),vertexColors:C.vertexColors,vertexAlphas:C.vertexColors===!0&&!!X.attributes.color&&X.attributes.color.itemSize===4,vertexUv1s:$e,vertexUv2s:Ot,vertexUv3s:tn,pointsUvs:F.isPoints===!0&&!!X.attributes.uv&&(Pe||ee),fog:!!G,useFog:C.fog===!0,fogExp2:G&&G.isFogExp2,flatShading:C.flatShading===!0,sizeAttenuation:C.sizeAttenuation===!0,logarithmicDepthBuffer:h,skinning:F.isSkinnedMesh===!0,morphTargets:X.morphAttributes.position!==void 0,morphNormals:X.morphAttributes.normal!==void 0,morphColors:X.morphAttributes.color!==void 0,morphTargetsCount:Y,morphTextureStride:Q,numDirLights:A.directional.length,numPointLights:A.point.length,numSpotLights:A.spot.length,numSpotLightMaps:A.spotLightMap.length,numRectAreaLights:A.rectArea.length,numHemiLights:A.hemi.length,numDirLightShadows:A.directionalShadowMap.length,numPointLightShadows:A.pointShadowMap.length,numSpotLightShadows:A.spotShadowMap.length,numSpotLightShadowsWithMaps:A.numSpotLightShadowsWithMaps,numClippingPlanes:o.numPlanes,numClipIntersection:o.numIntersection,dithering:C.dithering,shadowMapEnabled:n.shadowMap.enabled&&U.length>0,shadowMapType:n.shadowMap.type,toneMapping:C.toneMapped?n.toneMapping:us,useLegacyLights:n.useLegacyLights,premultipliedAlpha:C.premultipliedAlpha,doubleSided:C.side===as,flipSided:C.side===zr,useDepthPacking:C.depthPacking>=0,depthPacking:C.depthPacking||0,index0AttributeName:C.index0AttributeName,extensionDerivatives:je&&C.extensions.derivatives===!0,extensionFragDepth:je&&C.extensions.fragDepth===!0,extensionDrawBuffers:je&&C.extensions.drawBuffers===!0,extensionShaderTextureLOD:je&&C.extensions.shaderTextureLOD===!0,rendererExtensionFragDepth:f||r.has("EXT_frag_depth"),rendererExtensionDrawBuffers:f||r.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:f||r.has("EXT_shader_texture_lod"),customProgramCacheKey:C.customProgramCacheKey()}}function m(C){const A=[];if(C.shaderID?A.push(C.shaderID):(A.push(C.customVertexShaderID),A.push(C.customFragmentShaderID)),C.defines!==void 0)for(const U in C.defines)A.push(U),A.push(C.defines[U]);return C.isRawShaderMaterial===!1&&(w(A,C),S(A,C),A.push(n.outputColorSpace)),A.push(C.customProgramCacheKey),A.join()}function w(C,A){C.push(A.precision),C.push(A.outputColorSpace),C.push(A.envMapMode),C.push(A.envMapCubeUVHeight),C.push(A.mapUv),C.push(A.alphaMapUv),C.push(A.lightMapUv),C.push(A.aoMapUv),C.push(A.bumpMapUv),C.push(A.normalMapUv),C.push(A.displacementMapUv),C.push(A.emissiveMapUv),C.push(A.metalnessMapUv),C.push(A.roughnessMapUv),C.push(A.anisotropyMapUv),C.push(A.clearcoatMapUv),C.push(A.clearcoatNormalMapUv),C.push(A.clearcoatRoughnessMapUv),C.push(A.iridescenceMapUv),C.push(A.iridescenceThicknessMapUv),C.push(A.sheenColorMapUv),C.push(A.sheenRoughnessMapUv),C.push(A.specularMapUv),C.push(A.specularColorMapUv),C.push(A.specularIntensityMapUv),C.push(A.transmissionMapUv),C.push(A.thicknessMapUv),C.push(A.combine),C.push(A.fogExp2),C.push(A.sizeAttenuation),C.push(A.morphTargetsCount),C.push(A.morphAttributeCount),C.push(A.numDirLights),C.push(A.numPointLights),C.push(A.numSpotLights),C.push(A.numSpotLightMaps),C.push(A.numHemiLights),C.push(A.numRectAreaLights),C.push(A.numDirLightShadows),C.push(A.numPointLightShadows),C.push(A.numSpotLightShadows),C.push(A.numSpotLightShadowsWithMaps),C.push(A.shadowMapType),C.push(A.toneMapping),C.push(A.numClippingPlanes),C.push(A.numClipIntersection),C.push(A.depthPacking)}function S(C,A){a.disableAll(),A.isWebGL2&&a.enable(0),A.supportsVertexTextures&&a.enable(1),A.instancing&&a.enable(2),A.instancingColor&&a.enable(3),A.matcap&&a.enable(4),A.envMap&&a.enable(5),A.normalMapObjectSpace&&a.enable(6),A.normalMapTangentSpace&&a.enable(7),A.clearcoat&&a.enable(8),A.iridescence&&a.enable(9),A.alphaTest&&a.enable(10),A.vertexColors&&a.enable(11),A.vertexAlphas&&a.enable(12),A.vertexUv1s&&a.enable(13),A.vertexUv2s&&a.enable(14),A.vertexUv3s&&a.enable(15),A.vertexTangents&&a.enable(16),A.anisotropy&&a.enable(17),C.push(a.mask),a.disableAll(),A.fog&&a.enable(0),A.useFog&&a.enable(1),A.flatShading&&a.enable(2),A.logarithmicDepthBuffer&&a.enable(3),A.skinning&&a.enable(4),A.morphTargets&&a.enable(5),A.morphNormals&&a.enable(6),A.morphColors&&a.enable(7),A.premultipliedAlpha&&a.enable(8),A.shadowMapEnabled&&a.enable(9),A.useLegacyLights&&a.enable(10),A.doubleSided&&a.enable(11),A.flipSided&&a.enable(12),A.useDepthPacking&&a.enable(13),A.dithering&&a.enable(14),A.transmission&&a.enable(15),A.sheen&&a.enable(16),A.opaque&&a.enable(17),A.pointsUvs&&a.enable(18),C.push(a.mask)}function M(C){const A=v[C.type];let U;if(A){const W=os[A];U=HO.clone(W.uniforms)}else U=C.uniforms;return U}function R(C,A){let U;for(let W=0,F=u.length;W<F;W++){const G=u[W];if(G.cacheKey===A){U=G,++U.usedTimes;break}}return U===void 0&&(U=new Yj(n,A,C,s),u.push(U)),U}function P(C){if(--C.usedTimes===0){const A=u.indexOf(C);u[A]=u[u.length-1],u.pop(),C.destroy()}}function L(C){l.remove(C)}function k(){l.dispose()}return{getParameters:_,getProgramCacheKey:m,getUniforms:M,acquireProgram:R,releaseProgram:P,releaseShaderCache:L,programs:u,dispose:k}}function eH(){let n=new WeakMap;function e(s){let o=n.get(s);return o===void 0&&(o={},n.set(s,o)),o}function t(s){n.delete(s)}function r(s,o,a){n.get(s)[o]=a}function i(){n=new WeakMap}return{get:e,remove:t,update:r,dispose:i}}function tH(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.material.id!==e.material.id?n.material.id-e.material.id:n.z!==e.z?n.z-e.z:n.id-e.id}function SC(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.z!==e.z?e.z-n.z:n.id-e.id}function bC(){const n=[];let e=0;const t=[],r=[],i=[];function s(){e=0,t.length=0,r.length=0,i.length=0}function o(h,p,g,v,x,_){let m=n[e];return m===void 0?(m={id:h.id,object:h,geometry:p,material:g,groupOrder:v,renderOrder:h.renderOrder,z:x,group:_},n[e]=m):(m.id=h.id,m.object=h,m.geometry=p,m.material=g,m.groupOrder=v,m.renderOrder=h.renderOrder,m.z=x,m.group=_),e++,m}function a(h,p,g,v,x,_){const m=o(h,p,g,v,x,_);g.transmission>0?r.push(m):g.transparent===!0?i.push(m):t.push(m)}function l(h,p,g,v,x,_){const m=o(h,p,g,v,x,_);g.transmission>0?r.unshift(m):g.transparent===!0?i.unshift(m):t.unshift(m)}function u(h,p){t.length>1&&t.sort(h||tH),r.length>1&&r.sort(p||SC),i.length>1&&i.sort(p||SC)}function f(){for(let h=e,p=n.length;h<p;h++){const g=n[h];if(g.id===null)break;g.id=null,g.object=null,g.geometry=null,g.material=null,g.group=null}}return{opaque:t,transmissive:r,transparent:i,init:s,push:a,unshift:l,finish:f,sort:u}}function nH(){let n=new WeakMap;function e(r,i){const s=n.get(r);let o;return s===void 0?(o=new bC,n.set(r,[o])):i>=s.length?(o=new bC,s.push(o)):o=s[i],o}function t(){n=new WeakMap}return{get:e,dispose:t}}function rH(){const n={};return{get:function(e){if(n[e.id]!==void 0)return n[e.id];let t;switch(e.type){case"DirectionalLight":t={direction:new z,color:new Ye};break;case"SpotLight":t={position:new z,direction:new z,color:new Ye,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":t={position:new z,color:new Ye,distance:0,decay:0};break;case"HemisphereLight":t={direction:new z,skyColor:new Ye,groundColor:new Ye};break;case"RectAreaLight":t={color:new Ye,position:new z,halfWidth:new z,halfHeight:new z};break}return n[e.id]=t,t}}}function iH(){const n={};return{get:function(e){if(n[e.id]!==void 0)return n[e.id];let t;switch(e.type){case"DirectionalLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new _e};break;case"SpotLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new _e};break;case"PointLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new _e,shadowCameraNear:1,shadowCameraFar:1e3};break}return n[e.id]=t,t}}}let sH=0;function oH(n,e){return(e.castShadow?2:0)-(n.castShadow?2:0)+(e.map?1:0)-(n.map?1:0)}function aH(n,e){const t=new rH,r=iH(),i={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0};for(let f=0;f<9;f++)i.probe.push(new z);const s=new z,o=new pt,a=new pt;function l(f,h){let p=0,g=0,v=0;for(let U=0;U<9;U++)i.probe[U].set(0,0,0);let x=0,_=0,m=0,w=0,S=0,M=0,R=0,P=0,L=0,k=0;f.sort(oH);const C=h===!0?Math.PI:1;for(let U=0,W=f.length;U<W;U++){const F=f[U],G=F.color,X=F.intensity,Z=F.distance,J=F.shadow&&F.shadow.map?F.shadow.map.texture:null;if(F.isAmbientLight)p+=G.r*X*C,g+=G.g*X*C,v+=G.b*X*C;else if(F.isLightProbe)for(let D=0;D<9;D++)i.probe[D].addScaledVector(F.sh.coefficients[D],X);else if(F.isDirectionalLight){const D=t.get(F);if(D.color.copy(F.color).multiplyScalar(F.intensity*C),F.castShadow){const $=F.shadow,q=r.get(F);q.shadowBias=$.bias,q.shadowNormalBias=$.normalBias,q.shadowRadius=$.radius,q.shadowMapSize=$.mapSize,i.directionalShadow[x]=q,i.directionalShadowMap[x]=J,i.directionalShadowMatrix[x]=F.shadow.matrix,M++}i.directional[x]=D,x++}else if(F.isSpotLight){const D=t.get(F);D.position.setFromMatrixPosition(F.matrixWorld),D.color.copy(G).multiplyScalar(X*C),D.distance=Z,D.coneCos=Math.cos(F.angle),D.penumbraCos=Math.cos(F.angle*(1-F.penumbra)),D.decay=F.decay,i.spot[m]=D;const $=F.shadow;if(F.map&&(i.spotLightMap[L]=F.map,L++,$.updateMatrices(F),F.castShadow&&k++),i.spotLightMatrix[m]=$.matrix,F.castShadow){const q=r.get(F);q.shadowBias=$.bias,q.shadowNormalBias=$.normalBias,q.shadowRadius=$.radius,q.shadowMapSize=$.mapSize,i.spotShadow[m]=q,i.spotShadowMap[m]=J,P++}m++}else if(F.isRectAreaLight){const D=t.get(F);D.color.copy(G).multiplyScalar(X),D.halfWidth.set(F.width*.5,0,0),D.halfHeight.set(0,F.height*.5,0),i.rectArea[w]=D,w++}else if(F.isPointLight){const D=t.get(F);if(D.color.copy(F.color).multiplyScalar(F.intensity*C),D.distance=F.distance,D.decay=F.decay,F.castShadow){const $=F.shadow,q=r.get(F);q.shadowBias=$.bias,q.shadowNormalBias=$.normalBias,q.shadowRadius=$.radius,q.shadowMapSize=$.mapSize,q.shadowCameraNear=$.camera.near,q.shadowCameraFar=$.camera.far,i.pointShadow[_]=q,i.pointShadowMap[_]=J,i.pointShadowMatrix[_]=F.shadow.matrix,R++}i.point[_]=D,_++}else if(F.isHemisphereLight){const D=t.get(F);D.skyColor.copy(F.color).multiplyScalar(X*C),D.groundColor.copy(F.groundColor).multiplyScalar(X*C),i.hemi[S]=D,S++}}w>0&&(e.isWebGL2||n.has("OES_texture_float_linear")===!0?(i.rectAreaLTC1=Ve.LTC_FLOAT_1,i.rectAreaLTC2=Ve.LTC_FLOAT_2):n.has("OES_texture_half_float_linear")===!0?(i.rectAreaLTC1=Ve.LTC_HALF_1,i.rectAreaLTC2=Ve.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),i.ambient[0]=p,i.ambient[1]=g,i.ambient[2]=v;const A=i.hash;(A.directionalLength!==x||A.pointLength!==_||A.spotLength!==m||A.rectAreaLength!==w||A.hemiLength!==S||A.numDirectionalShadows!==M||A.numPointShadows!==R||A.numSpotShadows!==P||A.numSpotMaps!==L)&&(i.directional.length=x,i.spot.length=m,i.rectArea.length=w,i.point.length=_,i.hemi.length=S,i.directionalShadow.length=M,i.directionalShadowMap.length=M,i.pointShadow.length=R,i.pointShadowMap.length=R,i.spotShadow.length=P,i.spotShadowMap.length=P,i.directionalShadowMatrix.length=M,i.pointShadowMatrix.length=R,i.spotLightMatrix.length=P+L-k,i.spotLightMap.length=L,i.numSpotLightShadowsWithMaps=k,A.directionalLength=x,A.pointLength=_,A.spotLength=m,A.rectAreaLength=w,A.hemiLength=S,A.numDirectionalShadows=M,A.numPointShadows=R,A.numSpotShadows=P,A.numSpotMaps=L,i.version=sH++)}function u(f,h){let p=0,g=0,v=0,x=0,_=0;const m=h.matrixWorldInverse;for(let w=0,S=f.length;w<S;w++){const M=f[w];if(M.isDirectionalLight){const R=i.directional[p];R.direction.setFromMatrixPosition(M.matrixWorld),s.setFromMatrixPosition(M.target.matrixWorld),R.direction.sub(s),R.direction.transformDirection(m),p++}else if(M.isSpotLight){const R=i.spot[v];R.position.setFromMatrixPosition(M.matrixWorld),R.position.applyMatrix4(m),R.direction.setFromMatrixPosition(M.matrixWorld),s.setFromMatrixPosition(M.target.matrixWorld),R.direction.sub(s),R.direction.transformDirection(m),v++}else if(M.isRectAreaLight){const R=i.rectArea[x];R.position.setFromMatrixPosition(M.matrixWorld),R.position.applyMatrix4(m),a.identity(),o.copy(M.matrixWorld),o.premultiply(m),a.extractRotation(o),R.halfWidth.set(M.width*.5,0,0),R.halfHeight.set(0,M.height*.5,0),R.halfWidth.applyMatrix4(a),R.halfHeight.applyMatrix4(a),x++}else if(M.isPointLight){const R=i.point[g];R.position.setFromMatrixPosition(M.matrixWorld),R.position.applyMatrix4(m),g++}else if(M.isHemisphereLight){const R=i.hemi[_];R.direction.setFromMatrixPosition(M.matrixWorld),R.direction.transformDirection(m),_++}}}return{setup:l,setupView:u,state:i}}function EC(n,e){const t=new aH(n,e),r=[],i=[];function s(){r.length=0,i.length=0}function o(h){r.push(h)}function a(h){i.push(h)}function l(h){t.setup(r,h)}function u(h){t.setupView(r,h)}return{init:s,state:{lightsArray:r,shadowsArray:i,lights:t},setupLights:l,setupLightsView:u,pushLight:o,pushShadow:a}}function lH(n,e){let t=new WeakMap;function r(s,o=0){const a=t.get(s);let l;return a===void 0?(l=new EC(n,e),t.set(s,[l])):o>=a.length?(l=new EC(n,e),a.push(l)):l=a[o],l}function i(){t=new WeakMap}return{get:r,dispose:i}}class Pb extends pr{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=TO,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class Lb extends pr{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}const cH=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,uH=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function dH(n,e,t){let r=new K0;const i=new _e,s=new _e,o=new qt,a=new Pb({depthPacking:CO}),l=new Lb,u={},f=t.maxTextureSize,h={[To]:zr,[zr]:To,[as]:as},p=new Ws({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new _e},radius:{value:4}},vertexShader:cH,fragmentShader:uH}),g=p.clone();g.defines.HORIZONTAL_PASS=1;const v=new mt;v.setAttribute("position",new Ut(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const x=new ir(v,p),_=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=db;let m=this.type;this.render=function(R,P,L){if(_.enabled===!1||_.autoUpdate===!1&&_.needsUpdate===!1||R.length===0)return;const k=n.getRenderTarget(),C=n.getActiveCubeFace(),A=n.getActiveMipmapLevel(),U=n.state;U.setBlending(xo),U.buffers.color.setClear(1,1,1,1),U.buffers.depth.setTest(!0),U.setScissorTest(!1);const W=m!==Ls&&this.type===Ls,F=m===Ls&&this.type!==Ls;for(let G=0,X=R.length;G<X;G++){const Z=R[G],J=Z.shadow;if(J===void 0){console.warn("THREE.WebGLShadowMap:",Z,"has no shadow.");continue}if(J.autoUpdate===!1&&J.needsUpdate===!1)continue;i.copy(J.mapSize);const D=J.getFrameExtents();if(i.multiply(D),s.copy(J.mapSize),(i.x>f||i.y>f)&&(i.x>f&&(s.x=Math.floor(f/D.x),i.x=s.x*D.x,J.mapSize.x=s.x),i.y>f&&(s.y=Math.floor(f/D.y),i.y=s.y*D.y,J.mapSize.y=s.y)),J.map===null||W===!0||F===!0){const q=this.type!==Ls?{minFilter:In,magFilter:In}:{};J.map!==null&&J.map.dispose(),J.map=new ps(i.x,i.y,q),J.map.texture.name=Z.name+".shadowMap",J.camera.updateProjectionMatrix()}n.setRenderTarget(J.map),n.clear();const $=J.getViewportCount();for(let q=0;q<$;q++){const Y=J.getViewport(q);o.set(s.x*Y.x,s.y*Y.y,s.x*Y.z,s.y*Y.w),U.viewport(o),J.updateMatrices(Z,q),r=J.getFrustum(),M(P,L,J.camera,Z,this.type)}J.isPointLightShadow!==!0&&this.type===Ls&&w(J,L),J.needsUpdate=!1}m=this.type,_.needsUpdate=!1,n.setRenderTarget(k,C,A)};function w(R,P){const L=e.update(x);p.defines.VSM_SAMPLES!==R.blurSamples&&(p.defines.VSM_SAMPLES=R.blurSamples,g.defines.VSM_SAMPLES=R.blurSamples,p.needsUpdate=!0,g.needsUpdate=!0),R.mapPass===null&&(R.mapPass=new ps(i.x,i.y)),p.uniforms.shadow_pass.value=R.map.texture,p.uniforms.resolution.value=R.mapSize,p.uniforms.radius.value=R.radius,n.setRenderTarget(R.mapPass),n.clear(),n.renderBufferDirect(P,null,L,p,x,null),g.uniforms.shadow_pass.value=R.mapPass.texture,g.uniforms.resolution.value=R.mapSize,g.uniforms.radius.value=R.radius,n.setRenderTarget(R.map),n.clear(),n.renderBufferDirect(P,null,L,g,x,null)}function S(R,P,L,k){let C=null;const A=L.isPointLight===!0?R.customDistanceMaterial:R.customDepthMaterial;if(A!==void 0)C=A;else if(C=L.isPointLight===!0?l:a,n.localClippingEnabled&&P.clipShadows===!0&&Array.isArray(P.clippingPlanes)&&P.clippingPlanes.length!==0||P.displacementMap&&P.displacementScale!==0||P.alphaMap&&P.alphaTest>0||P.map&&P.alphaTest>0){const U=C.uuid,W=P.uuid;let F=u[U];F===void 0&&(F={},u[U]=F);let G=F[W];G===void 0&&(G=C.clone(),F[W]=G),C=G}if(C.visible=P.visible,C.wireframe=P.wireframe,k===Ls?C.side=P.shadowSide!==null?P.shadowSide:P.side:C.side=P.shadowSide!==null?P.shadowSide:h[P.side],C.alphaMap=P.alphaMap,C.alphaTest=P.alphaTest,C.map=P.map,C.clipShadows=P.clipShadows,C.clippingPlanes=P.clippingPlanes,C.clipIntersection=P.clipIntersection,C.displacementMap=P.displacementMap,C.displacementScale=P.displacementScale,C.displacementBias=P.displacementBias,C.wireframeLinewidth=P.wireframeLinewidth,C.linewidth=P.linewidth,L.isPointLight===!0&&C.isMeshDistanceMaterial===!0){const U=n.properties.get(C);U.light=L}return C}function M(R,P,L,k,C){if(R.visible===!1)return;if(R.layers.test(P.layers)&&(R.isMesh||R.isLine||R.isPoints)&&(R.castShadow||R.receiveShadow&&C===Ls)&&(!R.frustumCulled||r.intersectsObject(R))){R.modelViewMatrix.multiplyMatrices(L.matrixWorldInverse,R.matrixWorld);const W=e.update(R),F=R.material;if(Array.isArray(F)){const G=W.groups;for(let X=0,Z=G.length;X<Z;X++){const J=G[X],D=F[J.materialIndex];if(D&&D.visible){const $=S(R,D,k,C);n.renderBufferDirect(L,null,W,$,R,J)}}}else if(F.visible){const G=S(R,F,k,C);n.renderBufferDirect(L,null,W,G,R,null)}}const U=R.children;for(let W=0,F=U.length;W<F;W++)M(U[W],P,L,k,C)}}function fH(n,e,t){const r=t.isWebGL2;function i(){let ee=!1;const Fe=new qt;let le=null;const je=new qt(0,0,0,0);return{setMask:function($e){le!==$e&&!ee&&(n.colorMask($e,$e,$e,$e),le=$e)},setLocked:function($e){ee=$e},setClear:function($e,Ot,tn,Un,ri){ri===!0&&($e*=Un,Ot*=Un,tn*=Un),Fe.set($e,Ot,tn,Un),je.equals(Fe)===!1&&(n.clearColor($e,Ot,tn,Un),je.copy(Fe))},reset:function(){ee=!1,le=null,je.set(-1,0,0,0)}}}function s(){let ee=!1,Fe=null,le=null,je=null;return{setTest:function($e){$e?ke(n.DEPTH_TEST):fe(n.DEPTH_TEST)},setMask:function($e){Fe!==$e&&!ee&&(n.depthMask($e),Fe=$e)},setFunc:function($e){if(le!==$e){switch($e){case tO:n.depthFunc(n.NEVER);break;case nO:n.depthFunc(n.ALWAYS);break;case rO:n.depthFunc(n.LESS);break;case Yg:n.depthFunc(n.LEQUAL);break;case iO:n.depthFunc(n.EQUAL);break;case sO:n.depthFunc(n.GEQUAL);break;case oO:n.depthFunc(n.GREATER);break;case aO:n.depthFunc(n.NOTEQUAL);break;default:n.depthFunc(n.LEQUAL)}le=$e}},setLocked:function($e){ee=$e},setClear:function($e){je!==$e&&(n.clearDepth($e),je=$e)},reset:function(){ee=!1,Fe=null,le=null,je=null}}}function o(){let ee=!1,Fe=null,le=null,je=null,$e=null,Ot=null,tn=null,Un=null,ri=null;return{setTest:function(on){ee||(on?ke(n.STENCIL_TEST):fe(n.STENCIL_TEST))},setMask:function(on){Fe!==on&&!ee&&(n.stencilMask(on),Fe=on)},setFunc:function(on,ii,ar){(le!==on||je!==ii||$e!==ar)&&(n.stencilFunc(on,ii,ar),le=on,je=ii,$e=ar)},setOp:function(on,ii,ar){(Ot!==on||tn!==ii||Un!==ar)&&(n.stencilOp(on,ii,ar),Ot=on,tn=ii,Un=ar)},setLocked:function(on){ee=on},setClear:function(on){ri!==on&&(n.clearStencil(on),ri=on)},reset:function(){ee=!1,Fe=null,le=null,je=null,$e=null,Ot=null,tn=null,Un=null,ri=null}}}const a=new i,l=new s,u=new o,f=new WeakMap,h=new WeakMap;let p={},g={},v=new WeakMap,x=[],_=null,m=!1,w=null,S=null,M=null,R=null,P=null,L=null,k=null,C=!1,A=null,U=null,W=null,F=null,G=null;const X=n.getParameter(n.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let Z=!1,J=0;const D=n.getParameter(n.VERSION);D.indexOf("WebGL")!==-1?(J=parseFloat(/^WebGL (\d)/.exec(D)[1]),Z=J>=1):D.indexOf("OpenGL ES")!==-1&&(J=parseFloat(/^OpenGL ES (\d)/.exec(D)[1]),Z=J>=2);let $=null,q={};const Y=n.getParameter(n.SCISSOR_BOX),Q=n.getParameter(n.VIEWPORT),Ce=new qt().fromArray(Y),ge=new qt().fromArray(Q);function ie(ee,Fe,le,je){const $e=new Uint8Array(4),Ot=n.createTexture();n.bindTexture(ee,Ot),n.texParameteri(ee,n.TEXTURE_MIN_FILTER,n.NEAREST),n.texParameteri(ee,n.TEXTURE_MAG_FILTER,n.NEAREST);for(let tn=0;tn<le;tn++)r&&(ee===n.TEXTURE_3D||ee===n.TEXTURE_2D_ARRAY)?n.texImage3D(Fe,0,n.RGBA,1,1,je,0,n.RGBA,n.UNSIGNED_BYTE,$e):n.texImage2D(Fe+tn,0,n.RGBA,1,1,0,n.RGBA,n.UNSIGNED_BYTE,$e);return Ot}const ce={};ce[n.TEXTURE_2D]=ie(n.TEXTURE_2D,n.TEXTURE_2D,1),ce[n.TEXTURE_CUBE_MAP]=ie(n.TEXTURE_CUBE_MAP,n.TEXTURE_CUBE_MAP_POSITIVE_X,6),r&&(ce[n.TEXTURE_2D_ARRAY]=ie(n.TEXTURE_2D_ARRAY,n.TEXTURE_2D_ARRAY,1,1),ce[n.TEXTURE_3D]=ie(n.TEXTURE_3D,n.TEXTURE_3D,1,1)),a.setClear(0,0,0,1),l.setClear(1),u.setClear(0),ke(n.DEPTH_TEST),l.setFunc(Yg),we(!1),We(V1),ke(n.CULL_FACE),ue(xo);function ke(ee){p[ee]!==!0&&(n.enable(ee),p[ee]=!0)}function fe(ee){p[ee]!==!1&&(n.disable(ee),p[ee]=!1)}function Pe(ee,Fe){return g[ee]!==Fe?(n.bindFramebuffer(ee,Fe),g[ee]=Fe,r&&(ee===n.DRAW_FRAMEBUFFER&&(g[n.FRAMEBUFFER]=Fe),ee===n.FRAMEBUFFER&&(g[n.DRAW_FRAMEBUFFER]=Fe)),!0):!1}function Ue(ee,Fe){let le=x,je=!1;if(ee)if(le=v.get(Fe),le===void 0&&(le=[],v.set(Fe,le)),ee.isWebGLMultipleRenderTargets){const $e=ee.texture;if(le.length!==$e.length||le[0]!==n.COLOR_ATTACHMENT0){for(let Ot=0,tn=$e.length;Ot<tn;Ot++)le[Ot]=n.COLOR_ATTACHMENT0+Ot;le.length=$e.length,je=!0}}else le[0]!==n.COLOR_ATTACHMENT0&&(le[0]=n.COLOR_ATTACHMENT0,je=!0);else le[0]!==n.BACK&&(le[0]=n.BACK,je=!0);je&&(t.isWebGL2?n.drawBuffers(le):e.get("WEBGL_draw_buffers").drawBuffersWEBGL(le))}function Ae(ee){return _!==ee?(n.useProgram(ee),_=ee,!0):!1}const j={[rl]:n.FUNC_ADD,[WL]:n.FUNC_SUBTRACT,[GL]:n.FUNC_REVERSE_SUBTRACT};if(r)j[X1]=n.MIN,j[q1]=n.MAX;else{const ee=e.get("EXT_blend_minmax");ee!==null&&(j[X1]=ee.MIN_EXT,j[q1]=ee.MAX_EXT)}const Me={[$L]:n.ZERO,[XL]:n.ONE,[qL]:n.SRC_COLOR,[fb]:n.SRC_ALPHA,[eO]:n.SRC_ALPHA_SATURATE,[ZL]:n.DST_COLOR,[KL]:n.DST_ALPHA,[YL]:n.ONE_MINUS_SRC_COLOR,[hb]:n.ONE_MINUS_SRC_ALPHA,[QL]:n.ONE_MINUS_DST_COLOR,[JL]:n.ONE_MINUS_DST_ALPHA};function ue(ee,Fe,le,je,$e,Ot,tn,Un){if(ee===xo){m===!0&&(fe(n.BLEND),m=!1);return}if(m===!1&&(ke(n.BLEND),m=!0),ee!==VL){if(ee!==w||Un!==C){if((S!==rl||P!==rl)&&(n.blendEquation(n.FUNC_ADD),S=rl,P=rl),Un)switch(ee){case xl:n.blendFuncSeparate(n.ONE,n.ONE_MINUS_SRC_ALPHA,n.ONE,n.ONE_MINUS_SRC_ALPHA);break;case W1:n.blendFunc(n.ONE,n.ONE);break;case G1:n.blendFuncSeparate(n.ZERO,n.ONE_MINUS_SRC_COLOR,n.ZERO,n.ONE);break;case $1:n.blendFuncSeparate(n.ZERO,n.SRC_COLOR,n.ZERO,n.SRC_ALPHA);break;default:console.error("THREE.WebGLState: Invalid blending: ",ee);break}else switch(ee){case xl:n.blendFuncSeparate(n.SRC_ALPHA,n.ONE_MINUS_SRC_ALPHA,n.ONE,n.ONE_MINUS_SRC_ALPHA);break;case W1:n.blendFunc(n.SRC_ALPHA,n.ONE);break;case G1:n.blendFuncSeparate(n.ZERO,n.ONE_MINUS_SRC_COLOR,n.ZERO,n.ONE);break;case $1:n.blendFunc(n.ZERO,n.SRC_COLOR);break;default:console.error("THREE.WebGLState: Invalid blending: ",ee);break}M=null,R=null,L=null,k=null,w=ee,C=Un}return}$e=$e||Fe,Ot=Ot||le,tn=tn||je,(Fe!==S||$e!==P)&&(n.blendEquationSeparate(j[Fe],j[$e]),S=Fe,P=$e),(le!==M||je!==R||Ot!==L||tn!==k)&&(n.blendFuncSeparate(Me[le],Me[je],Me[Ot],Me[tn]),M=le,R=je,L=Ot,k=tn),w=ee,C=!1}function Re(ee,Fe){ee.side===as?fe(n.CULL_FACE):ke(n.CULL_FACE);let le=ee.side===zr;Fe&&(le=!le),we(le),ee.blending===xl&&ee.transparent===!1?ue(xo):ue(ee.blending,ee.blendEquation,ee.blendSrc,ee.blendDst,ee.blendEquationAlpha,ee.blendSrcAlpha,ee.blendDstAlpha,ee.premultipliedAlpha),l.setFunc(ee.depthFunc),l.setTest(ee.depthTest),l.setMask(ee.depthWrite),a.setMask(ee.colorWrite);const je=ee.stencilWrite;u.setTest(je),je&&(u.setMask(ee.stencilWriteMask),u.setFunc(ee.stencilFunc,ee.stencilRef,ee.stencilFuncMask),u.setOp(ee.stencilFail,ee.stencilZFail,ee.stencilZPass)),He(ee.polygonOffset,ee.polygonOffsetFactor,ee.polygonOffsetUnits),ee.alphaToCoverage===!0?ke(n.SAMPLE_ALPHA_TO_COVERAGE):fe(n.SAMPLE_ALPHA_TO_COVERAGE)}function we(ee){A!==ee&&(ee?n.frontFace(n.CW):n.frontFace(n.CCW),A=ee)}function We(ee){ee!==jL?(ke(n.CULL_FACE),ee!==U&&(ee===V1?n.cullFace(n.BACK):ee===HL?n.cullFace(n.FRONT):n.cullFace(n.FRONT_AND_BACK))):fe(n.CULL_FACE),U=ee}function ze(ee){ee!==W&&(Z&&n.lineWidth(ee),W=ee)}function He(ee,Fe,le){ee?(ke(n.POLYGON_OFFSET_FILL),(F!==Fe||G!==le)&&(n.polygonOffset(Fe,le),F=Fe,G=le)):fe(n.POLYGON_OFFSET_FILL)}function Ke(ee){ee?ke(n.SCISSOR_TEST):fe(n.SCISSOR_TEST)}function rt(ee){ee===void 0&&(ee=n.TEXTURE0+X-1),$!==ee&&(n.activeTexture(ee),$=ee)}function Ft(ee,Fe,le){le===void 0&&($===null?le=n.TEXTURE0+X-1:le=$);let je=q[le];je===void 0&&(je={type:void 0,texture:void 0},q[le]=je),(je.type!==ee||je.texture!==Fe)&&($!==le&&(n.activeTexture(le),$=le),n.bindTexture(ee,Fe||ce[ee]),je.type=ee,je.texture=Fe)}function H(){const ee=q[$];ee!==void 0&&ee.type!==void 0&&(n.bindTexture(ee.type,null),ee.type=void 0,ee.texture=void 0)}function I(){try{n.compressedTexImage2D.apply(n,arguments)}catch(ee){console.error("THREE.WebGLState:",ee)}}function ne(){try{n.compressedTexImage3D.apply(n,arguments)}catch(ee){console.error("THREE.WebGLState:",ee)}}function xe(){try{n.texSubImage2D.apply(n,arguments)}catch(ee){console.error("THREE.WebGLState:",ee)}}function Se(){try{n.texSubImage3D.apply(n,arguments)}catch(ee){console.error("THREE.WebGLState:",ee)}}function be(){try{n.compressedTexSubImage2D.apply(n,arguments)}catch(ee){console.error("THREE.WebGLState:",ee)}}function Te(){try{n.compressedTexSubImage3D.apply(n,arguments)}catch(ee){console.error("THREE.WebGLState:",ee)}}function Ne(){try{n.texStorage2D.apply(n,arguments)}catch(ee){console.error("THREE.WebGLState:",ee)}}function pe(){try{n.texStorage3D.apply(n,arguments)}catch(ee){console.error("THREE.WebGLState:",ee)}}function K(){try{n.texImage2D.apply(n,arguments)}catch(ee){console.error("THREE.WebGLState:",ee)}}function he(){try{n.texImage3D.apply(n,arguments)}catch(ee){console.error("THREE.WebGLState:",ee)}}function Le(ee){Ce.equals(ee)===!1&&(n.scissor(ee.x,ee.y,ee.z,ee.w),Ce.copy(ee))}function Oe(ee){ge.equals(ee)===!1&&(n.viewport(ee.x,ee.y,ee.z,ee.w),ge.copy(ee))}function Be(ee,Fe){let le=h.get(Fe);le===void 0&&(le=new WeakMap,h.set(Fe,le));let je=le.get(ee);je===void 0&&(je=n.getUniformBlockIndex(Fe,ee.name),le.set(ee,je))}function st(ee,Fe){const je=h.get(Fe).get(ee);f.get(Fe)!==je&&(n.uniformBlockBinding(Fe,je,ee.__bindingPointIndex),f.set(Fe,je))}function At(){n.disable(n.BLEND),n.disable(n.CULL_FACE),n.disable(n.DEPTH_TEST),n.disable(n.POLYGON_OFFSET_FILL),n.disable(n.SCISSOR_TEST),n.disable(n.STENCIL_TEST),n.disable(n.SAMPLE_ALPHA_TO_COVERAGE),n.blendEquation(n.FUNC_ADD),n.blendFunc(n.ONE,n.ZERO),n.blendFuncSeparate(n.ONE,n.ZERO,n.ONE,n.ZERO),n.colorMask(!0,!0,!0,!0),n.clearColor(0,0,0,0),n.depthMask(!0),n.depthFunc(n.LESS),n.clearDepth(1),n.stencilMask(4294967295),n.stencilFunc(n.ALWAYS,0,4294967295),n.stencilOp(n.KEEP,n.KEEP,n.KEEP),n.clearStencil(0),n.cullFace(n.BACK),n.frontFace(n.CCW),n.polygonOffset(0,0),n.activeTexture(n.TEXTURE0),n.bindFramebuffer(n.FRAMEBUFFER,null),r===!0&&(n.bindFramebuffer(n.DRAW_FRAMEBUFFER,null),n.bindFramebuffer(n.READ_FRAMEBUFFER,null)),n.useProgram(null),n.lineWidth(1),n.scissor(0,0,n.canvas.width,n.canvas.height),n.viewport(0,0,n.canvas.width,n.canvas.height),p={},$=null,q={},g={},v=new WeakMap,x=[],_=null,m=!1,w=null,S=null,M=null,R=null,P=null,L=null,k=null,C=!1,A=null,U=null,W=null,F=null,G=null,Ce.set(0,0,n.canvas.width,n.canvas.height),ge.set(0,0,n.canvas.width,n.canvas.height),a.reset(),l.reset(),u.reset()}return{buffers:{color:a,depth:l,stencil:u},enable:ke,disable:fe,bindFramebuffer:Pe,drawBuffers:Ue,useProgram:Ae,setBlending:ue,setMaterial:Re,setFlipSided:we,setCullFace:We,setLineWidth:ze,setPolygonOffset:He,setScissorTest:Ke,activeTexture:rt,bindTexture:Ft,unbindTexture:H,compressedTexImage2D:I,compressedTexImage3D:ne,texImage2D:K,texImage3D:he,updateUBOMapping:Be,uniformBlockBinding:st,texStorage2D:Ne,texStorage3D:pe,texSubImage2D:xe,texSubImage3D:Se,compressedTexSubImage2D:be,compressedTexSubImage3D:Te,scissor:Le,viewport:Oe,reset:At}}function hH(n,e,t,r,i,s,o){const a=i.isWebGL2,l=i.maxTextures,u=i.maxCubemapSize,f=i.maxTextureSize,h=i.maxSamples,p=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,g=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),v=new WeakMap;let x;const _=new WeakMap;let m=!1;try{m=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function w(H,I){return m?new OffscreenCanvas(H,I):zf("canvas")}function S(H,I,ne,xe){let Se=1;if((H.width>xe||H.height>xe)&&(Se=xe/Math.max(H.width,H.height)),Se<1||I===!0)if(typeof HTMLImageElement<"u"&&H instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&H instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&H instanceof ImageBitmap){const be=I?Zg:Math.floor,Te=be(Se*H.width),Ne=be(Se*H.height);x===void 0&&(x=w(Te,Ne));const pe=ne?w(Te,Ne):x;return pe.width=Te,pe.height=Ne,pe.getContext("2d").drawImage(H,0,0,Te,Ne),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+H.width+"x"+H.height+") to ("+Te+"x"+Ne+")."),pe}else return"data"in H&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+H.width+"x"+H.height+")."),H;return H}function M(H){return xw(H.width)&&xw(H.height)}function R(H){return a?!1:H.wrapS!==Ar||H.wrapT!==Ar||H.minFilter!==In&&H.minFilter!==Dn}function P(H,I){return H.generateMipmaps&&I&&H.minFilter!==In&&H.minFilter!==Dn}function L(H){n.generateMipmap(H)}function k(H,I,ne,xe,Se=!1){if(a===!1)return I;if(H!==null){if(n[H]!==void 0)return n[H];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+H+"'")}let be=I;return I===n.RED&&(ne===n.FLOAT&&(be=n.R32F),ne===n.HALF_FLOAT&&(be=n.R16F),ne===n.UNSIGNED_BYTE&&(be=n.R8)),I===n.RG&&(ne===n.FLOAT&&(be=n.RG32F),ne===n.HALF_FLOAT&&(be=n.RG16F),ne===n.UNSIGNED_BYTE&&(be=n.RG8)),I===n.RGBA&&(ne===n.FLOAT&&(be=n.RGBA32F),ne===n.HALF_FLOAT&&(be=n.RGBA16F),ne===n.UNSIGNED_BYTE&&(be=xe===_t&&Se===!1?n.SRGB8_ALPHA8:n.RGBA8),ne===n.UNSIGNED_SHORT_4_4_4_4&&(be=n.RGBA4),ne===n.UNSIGNED_SHORT_5_5_5_1&&(be=n.RGB5_A1)),(be===n.R16F||be===n.R32F||be===n.RG16F||be===n.RG32F||be===n.RGBA16F||be===n.RGBA32F)&&e.get("EXT_color_buffer_float"),be}function C(H,I,ne){return P(H,ne)===!0||H.isFramebufferTexture&&H.minFilter!==In&&H.minFilter!==Dn?Math.log2(Math.max(I.width,I.height))+1:H.mipmaps!==void 0&&H.mipmaps.length>0?H.mipmaps.length:H.isCompressedTexture&&Array.isArray(H.image)?I.mipmaps.length:1}function A(H){return H===In||H===Kg||H===tf?n.NEAREST:n.LINEAR}function U(H){const I=H.target;I.removeEventListener("dispose",U),F(I),I.isVideoTexture&&v.delete(I)}function W(H){const I=H.target;I.removeEventListener("dispose",W),X(I)}function F(H){const I=r.get(H);if(I.__webglInit===void 0)return;const ne=H.source,xe=_.get(ne);if(xe){const Se=xe[I.__cacheKey];Se.usedTimes--,Se.usedTimes===0&&G(H),Object.keys(xe).length===0&&_.delete(ne)}r.remove(H)}function G(H){const I=r.get(H);n.deleteTexture(I.__webglTexture);const ne=H.source,xe=_.get(ne);delete xe[I.__cacheKey],o.memory.textures--}function X(H){const I=H.texture,ne=r.get(H),xe=r.get(I);if(xe.__webglTexture!==void 0&&(n.deleteTexture(xe.__webglTexture),o.memory.textures--),H.depthTexture&&H.depthTexture.dispose(),H.isWebGLCubeRenderTarget)for(let Se=0;Se<6;Se++)n.deleteFramebuffer(ne.__webglFramebuffer[Se]),ne.__webglDepthbuffer&&n.deleteRenderbuffer(ne.__webglDepthbuffer[Se]);else{if(n.deleteFramebuffer(ne.__webglFramebuffer),ne.__webglDepthbuffer&&n.deleteRenderbuffer(ne.__webglDepthbuffer),ne.__webglMultisampledFramebuffer&&n.deleteFramebuffer(ne.__webglMultisampledFramebuffer),ne.__webglColorRenderbuffer)for(let Se=0;Se<ne.__webglColorRenderbuffer.length;Se++)ne.__webglColorRenderbuffer[Se]&&n.deleteRenderbuffer(ne.__webglColorRenderbuffer[Se]);ne.__webglDepthRenderbuffer&&n.deleteRenderbuffer(ne.__webglDepthRenderbuffer)}if(H.isWebGLMultipleRenderTargets)for(let Se=0,be=I.length;Se<be;Se++){const Te=r.get(I[Se]);Te.__webglTexture&&(n.deleteTexture(Te.__webglTexture),o.memory.textures--),r.remove(I[Se])}r.remove(I),r.remove(H)}let Z=0;function J(){Z=0}function D(){const H=Z;return H>=l&&console.warn("THREE.WebGLTextures: Trying to use "+H+" texture units while this GPU supports only "+l),Z+=1,H}function $(H){const I=[];return I.push(H.wrapS),I.push(H.wrapT),I.push(H.wrapR||0),I.push(H.magFilter),I.push(H.minFilter),I.push(H.anisotropy),I.push(H.internalFormat),I.push(H.format),I.push(H.type),I.push(H.generateMipmaps),I.push(H.premultiplyAlpha),I.push(H.flipY),I.push(H.unpackAlignment),I.push(H.colorSpace),I.join()}function q(H,I){const ne=r.get(H);if(H.isVideoTexture&&rt(H),H.isRenderTargetTexture===!1&&H.version>0&&ne.__version!==H.version){const xe=H.image;if(xe===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(xe.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{Pe(ne,H,I);return}}t.bindTexture(n.TEXTURE_2D,ne.__webglTexture,n.TEXTURE0+I)}function Y(H,I){const ne=r.get(H);if(H.version>0&&ne.__version!==H.version){Pe(ne,H,I);return}t.bindTexture(n.TEXTURE_2D_ARRAY,ne.__webglTexture,n.TEXTURE0+I)}function Q(H,I){const ne=r.get(H);if(H.version>0&&ne.__version!==H.version){Pe(ne,H,I);return}t.bindTexture(n.TEXTURE_3D,ne.__webglTexture,n.TEXTURE0+I)}function Ce(H,I){const ne=r.get(H);if(H.version>0&&ne.__version!==H.version){Ue(ne,H,I);return}t.bindTexture(n.TEXTURE_CUBE_MAP,ne.__webglTexture,n.TEXTURE0+I)}const ge={[Of]:n.REPEAT,[Ar]:n.CLAMP_TO_EDGE,[kf]:n.MIRRORED_REPEAT},ie={[In]:n.NEAREST,[Kg]:n.NEAREST_MIPMAP_NEAREST,[tf]:n.NEAREST_MIPMAP_LINEAR,[Dn]:n.LINEAR,[mb]:n.LINEAR_MIPMAP_NEAREST,[Sa]:n.LINEAR_MIPMAP_LINEAR},ce={[PO]:n.NEVER,[UO]:n.ALWAYS,[LO]:n.LESS,[kO]:n.LEQUAL,[OO]:n.EQUAL,[DO]:n.GEQUAL,[IO]:n.GREATER,[NO]:n.NOTEQUAL};function ke(H,I,ne){if(ne?(n.texParameteri(H,n.TEXTURE_WRAP_S,ge[I.wrapS]),n.texParameteri(H,n.TEXTURE_WRAP_T,ge[I.wrapT]),(H===n.TEXTURE_3D||H===n.TEXTURE_2D_ARRAY)&&n.texParameteri(H,n.TEXTURE_WRAP_R,ge[I.wrapR]),n.texParameteri(H,n.TEXTURE_MAG_FILTER,ie[I.magFilter]),n.texParameteri(H,n.TEXTURE_MIN_FILTER,ie[I.minFilter])):(n.texParameteri(H,n.TEXTURE_WRAP_S,n.CLAMP_TO_EDGE),n.texParameteri(H,n.TEXTURE_WRAP_T,n.CLAMP_TO_EDGE),(H===n.TEXTURE_3D||H===n.TEXTURE_2D_ARRAY)&&n.texParameteri(H,n.TEXTURE_WRAP_R,n.CLAMP_TO_EDGE),(I.wrapS!==Ar||I.wrapT!==Ar)&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),n.texParameteri(H,n.TEXTURE_MAG_FILTER,A(I.magFilter)),n.texParameteri(H,n.TEXTURE_MIN_FILTER,A(I.minFilter)),I.minFilter!==In&&I.minFilter!==Dn&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),I.compareFunction&&(n.texParameteri(H,n.TEXTURE_COMPARE_MODE,n.COMPARE_REF_TO_TEXTURE),n.texParameteri(H,n.TEXTURE_COMPARE_FUNC,ce[I.compareFunction])),e.has("EXT_texture_filter_anisotropic")===!0){const xe=e.get("EXT_texture_filter_anisotropic");if(I.magFilter===In||I.minFilter!==tf&&I.minFilter!==Sa||I.type===Ds&&e.has("OES_texture_float_linear")===!1||a===!1&&I.type===xu&&e.has("OES_texture_half_float_linear")===!1)return;(I.anisotropy>1||r.get(I).__currentAnisotropy)&&(n.texParameterf(H,xe.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(I.anisotropy,i.getMaxAnisotropy())),r.get(I).__currentAnisotropy=I.anisotropy)}}function fe(H,I){let ne=!1;H.__webglInit===void 0&&(H.__webglInit=!0,I.addEventListener("dispose",U));const xe=I.source;let Se=_.get(xe);Se===void 0&&(Se={},_.set(xe,Se));const be=$(I);if(be!==H.__cacheKey){Se[be]===void 0&&(Se[be]={texture:n.createTexture(),usedTimes:0},o.memory.textures++,ne=!0),Se[be].usedTimes++;const Te=Se[H.__cacheKey];Te!==void 0&&(Se[H.__cacheKey].usedTimes--,Te.usedTimes===0&&G(I)),H.__cacheKey=be,H.__webglTexture=Se[be].texture}return ne}function Pe(H,I,ne){let xe=n.TEXTURE_2D;(I.isDataArrayTexture||I.isCompressedArrayTexture)&&(xe=n.TEXTURE_2D_ARRAY),I.isData3DTexture&&(xe=n.TEXTURE_3D);const Se=fe(H,I),be=I.source;t.bindTexture(xe,H.__webglTexture,n.TEXTURE0+ne);const Te=r.get(be);if(be.version!==Te.__version||Se===!0){t.activeTexture(n.TEXTURE0+ne),n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,I.flipY),n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,I.premultiplyAlpha),n.pixelStorei(n.UNPACK_ALIGNMENT,I.unpackAlignment),n.pixelStorei(n.UNPACK_COLORSPACE_CONVERSION_WEBGL,n.NONE);const Ne=R(I)&&M(I.image)===!1;let pe=S(I.image,Ne,!1,f);pe=Ft(I,pe);const K=M(pe)||a,he=s.convert(I.format,I.colorSpace);let Le=s.convert(I.type),Oe=k(I.internalFormat,he,Le,I.colorSpace);ke(xe,I,K);let Be;const st=I.mipmaps,At=a&&I.isVideoTexture!==!0,ee=Te.__version===void 0||Se===!0,Fe=C(I,pe,K);if(I.isDepthTexture)Oe=n.DEPTH_COMPONENT,a?I.type===Ds?Oe=n.DEPTH_COMPONENT32F:I.type===vo?Oe=n.DEPTH_COMPONENT24:I.type===pa?Oe=n.DEPTH24_STENCIL8:Oe=n.DEPTH_COMPONENT16:I.type===Ds&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),I.format===ma&&Oe===n.DEPTH_COMPONENT&&I.type!==$0&&I.type!==vo&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),I.type=vo,Le=s.convert(I.type)),I.format===Rl&&Oe===n.DEPTH_COMPONENT&&(Oe=n.DEPTH_STENCIL,I.type!==pa&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),I.type=pa,Le=s.convert(I.type))),ee&&(At?t.texStorage2D(n.TEXTURE_2D,1,Oe,pe.width,pe.height):t.texImage2D(n.TEXTURE_2D,0,Oe,pe.width,pe.height,0,he,Le,null));else if(I.isDataTexture)if(st.length>0&&K){At&&ee&&t.texStorage2D(n.TEXTURE_2D,Fe,Oe,st[0].width,st[0].height);for(let le=0,je=st.length;le<je;le++)Be=st[le],At?t.texSubImage2D(n.TEXTURE_2D,le,0,0,Be.width,Be.height,he,Le,Be.data):t.texImage2D(n.TEXTURE_2D,le,Oe,Be.width,Be.height,0,he,Le,Be.data);I.generateMipmaps=!1}else At?(ee&&t.texStorage2D(n.TEXTURE_2D,Fe,Oe,pe.width,pe.height),t.texSubImage2D(n.TEXTURE_2D,0,0,0,pe.width,pe.height,he,Le,pe.data)):t.texImage2D(n.TEXTURE_2D,0,Oe,pe.width,pe.height,0,he,Le,pe.data);else if(I.isCompressedTexture)if(I.isCompressedArrayTexture){At&&ee&&t.texStorage3D(n.TEXTURE_2D_ARRAY,Fe,Oe,st[0].width,st[0].height,pe.depth);for(let le=0,je=st.length;le<je;le++)Be=st[le],I.format!==mi?he!==null?At?t.compressedTexSubImage3D(n.TEXTURE_2D_ARRAY,le,0,0,0,Be.width,Be.height,pe.depth,he,Be.data,0,0):t.compressedTexImage3D(n.TEXTURE_2D_ARRAY,le,Oe,Be.width,Be.height,pe.depth,0,Be.data,0,0):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):At?t.texSubImage3D(n.TEXTURE_2D_ARRAY,le,0,0,0,Be.width,Be.height,pe.depth,he,Le,Be.data):t.texImage3D(n.TEXTURE_2D_ARRAY,le,Oe,Be.width,Be.height,pe.depth,0,he,Le,Be.data)}else{At&&ee&&t.texStorage2D(n.TEXTURE_2D,Fe,Oe,st[0].width,st[0].height);for(let le=0,je=st.length;le<je;le++)Be=st[le],I.format!==mi?he!==null?At?t.compressedTexSubImage2D(n.TEXTURE_2D,le,0,0,Be.width,Be.height,he,Be.data):t.compressedTexImage2D(n.TEXTURE_2D,le,Oe,Be.width,Be.height,0,Be.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):At?t.texSubImage2D(n.TEXTURE_2D,le,0,0,Be.width,Be.height,he,Le,Be.data):t.texImage2D(n.TEXTURE_2D,le,Oe,Be.width,Be.height,0,he,Le,Be.data)}else if(I.isDataArrayTexture)At?(ee&&t.texStorage3D(n.TEXTURE_2D_ARRAY,Fe,Oe,pe.width,pe.height,pe.depth),t.texSubImage3D(n.TEXTURE_2D_ARRAY,0,0,0,0,pe.width,pe.height,pe.depth,he,Le,pe.data)):t.texImage3D(n.TEXTURE_2D_ARRAY,0,Oe,pe.width,pe.height,pe.depth,0,he,Le,pe.data);else if(I.isData3DTexture)At?(ee&&t.texStorage3D(n.TEXTURE_3D,Fe,Oe,pe.width,pe.height,pe.depth),t.texSubImage3D(n.TEXTURE_3D,0,0,0,0,pe.width,pe.height,pe.depth,he,Le,pe.data)):t.texImage3D(n.TEXTURE_3D,0,Oe,pe.width,pe.height,pe.depth,0,he,Le,pe.data);else if(I.isFramebufferTexture){if(ee)if(At)t.texStorage2D(n.TEXTURE_2D,Fe,Oe,pe.width,pe.height);else{let le=pe.width,je=pe.height;for(let $e=0;$e<Fe;$e++)t.texImage2D(n.TEXTURE_2D,$e,Oe,le,je,0,he,Le,null),le>>=1,je>>=1}}else if(st.length>0&&K){At&&ee&&t.texStorage2D(n.TEXTURE_2D,Fe,Oe,st[0].width,st[0].height);for(let le=0,je=st.length;le<je;le++)Be=st[le],At?t.texSubImage2D(n.TEXTURE_2D,le,0,0,he,Le,Be):t.texImage2D(n.TEXTURE_2D,le,Oe,he,Le,Be);I.generateMipmaps=!1}else At?(ee&&t.texStorage2D(n.TEXTURE_2D,Fe,Oe,pe.width,pe.height),t.texSubImage2D(n.TEXTURE_2D,0,0,0,he,Le,pe)):t.texImage2D(n.TEXTURE_2D,0,Oe,he,Le,pe);P(I,K)&&L(xe),Te.__version=be.version,I.onUpdate&&I.onUpdate(I)}H.__version=I.version}function Ue(H,I,ne){if(I.image.length!==6)return;const xe=fe(H,I),Se=I.source;t.bindTexture(n.TEXTURE_CUBE_MAP,H.__webglTexture,n.TEXTURE0+ne);const be=r.get(Se);if(Se.version!==be.__version||xe===!0){t.activeTexture(n.TEXTURE0+ne),n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,I.flipY),n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,I.premultiplyAlpha),n.pixelStorei(n.UNPACK_ALIGNMENT,I.unpackAlignment),n.pixelStorei(n.UNPACK_COLORSPACE_CONVERSION_WEBGL,n.NONE);const Te=I.isCompressedTexture||I.image[0].isCompressedTexture,Ne=I.image[0]&&I.image[0].isDataTexture,pe=[];for(let le=0;le<6;le++)!Te&&!Ne?pe[le]=S(I.image[le],!1,!0,u):pe[le]=Ne?I.image[le].image:I.image[le],pe[le]=Ft(I,pe[le]);const K=pe[0],he=M(K)||a,Le=s.convert(I.format,I.colorSpace),Oe=s.convert(I.type),Be=k(I.internalFormat,Le,Oe,I.colorSpace),st=a&&I.isVideoTexture!==!0,At=be.__version===void 0||xe===!0;let ee=C(I,K,he);ke(n.TEXTURE_CUBE_MAP,I,he);let Fe;if(Te){st&&At&&t.texStorage2D(n.TEXTURE_CUBE_MAP,ee,Be,K.width,K.height);for(let le=0;le<6;le++){Fe=pe[le].mipmaps;for(let je=0;je<Fe.length;je++){const $e=Fe[je];I.format!==mi?Le!==null?st?t.compressedTexSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+le,je,0,0,$e.width,$e.height,Le,$e.data):t.compressedTexImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+le,je,Be,$e.width,$e.height,0,$e.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):st?t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+le,je,0,0,$e.width,$e.height,Le,Oe,$e.data):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+le,je,Be,$e.width,$e.height,0,Le,Oe,$e.data)}}}else{Fe=I.mipmaps,st&&At&&(Fe.length>0&&ee++,t.texStorage2D(n.TEXTURE_CUBE_MAP,ee,Be,pe[0].width,pe[0].height));for(let le=0;le<6;le++)if(Ne){st?t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+le,0,0,0,pe[le].width,pe[le].height,Le,Oe,pe[le].data):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+le,0,Be,pe[le].width,pe[le].height,0,Le,Oe,pe[le].data);for(let je=0;je<Fe.length;je++){const Ot=Fe[je].image[le].image;st?t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+le,je+1,0,0,Ot.width,Ot.height,Le,Oe,Ot.data):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+le,je+1,Be,Ot.width,Ot.height,0,Le,Oe,Ot.data)}}else{st?t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+le,0,0,0,Le,Oe,pe[le]):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+le,0,Be,Le,Oe,pe[le]);for(let je=0;je<Fe.length;je++){const $e=Fe[je];st?t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+le,je+1,0,0,Le,Oe,$e.image[le]):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+le,je+1,Be,Le,Oe,$e.image[le])}}}P(I,he)&&L(n.TEXTURE_CUBE_MAP),be.__version=Se.version,I.onUpdate&&I.onUpdate(I)}H.__version=I.version}function Ae(H,I,ne,xe,Se){const be=s.convert(ne.format,ne.colorSpace),Te=s.convert(ne.type),Ne=k(ne.internalFormat,be,Te,ne.colorSpace);r.get(I).__hasExternalTextures||(Se===n.TEXTURE_3D||Se===n.TEXTURE_2D_ARRAY?t.texImage3D(Se,0,Ne,I.width,I.height,I.depth,0,be,Te,null):t.texImage2D(Se,0,Ne,I.width,I.height,0,be,Te,null)),t.bindFramebuffer(n.FRAMEBUFFER,H),Ke(I)?p.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,xe,Se,r.get(ne).__webglTexture,0,He(I)):(Se===n.TEXTURE_2D||Se>=n.TEXTURE_CUBE_MAP_POSITIVE_X&&Se<=n.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&n.framebufferTexture2D(n.FRAMEBUFFER,xe,Se,r.get(ne).__webglTexture,0),t.bindFramebuffer(n.FRAMEBUFFER,null)}function j(H,I,ne){if(n.bindRenderbuffer(n.RENDERBUFFER,H),I.depthBuffer&&!I.stencilBuffer){let xe=n.DEPTH_COMPONENT16;if(ne||Ke(I)){const Se=I.depthTexture;Se&&Se.isDepthTexture&&(Se.type===Ds?xe=n.DEPTH_COMPONENT32F:Se.type===vo&&(xe=n.DEPTH_COMPONENT24));const be=He(I);Ke(I)?p.renderbufferStorageMultisampleEXT(n.RENDERBUFFER,be,xe,I.width,I.height):n.renderbufferStorageMultisample(n.RENDERBUFFER,be,xe,I.width,I.height)}else n.renderbufferStorage(n.RENDERBUFFER,xe,I.width,I.height);n.framebufferRenderbuffer(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.RENDERBUFFER,H)}else if(I.depthBuffer&&I.stencilBuffer){const xe=He(I);ne&&Ke(I)===!1?n.renderbufferStorageMultisample(n.RENDERBUFFER,xe,n.DEPTH24_STENCIL8,I.width,I.height):Ke(I)?p.renderbufferStorageMultisampleEXT(n.RENDERBUFFER,xe,n.DEPTH24_STENCIL8,I.width,I.height):n.renderbufferStorage(n.RENDERBUFFER,n.DEPTH_STENCIL,I.width,I.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.RENDERBUFFER,H)}else{const xe=I.isWebGLMultipleRenderTargets===!0?I.texture:[I.texture];for(let Se=0;Se<xe.length;Se++){const be=xe[Se],Te=s.convert(be.format,be.colorSpace),Ne=s.convert(be.type),pe=k(be.internalFormat,Te,Ne,be.colorSpace),K=He(I);ne&&Ke(I)===!1?n.renderbufferStorageMultisample(n.RENDERBUFFER,K,pe,I.width,I.height):Ke(I)?p.renderbufferStorageMultisampleEXT(n.RENDERBUFFER,K,pe,I.width,I.height):n.renderbufferStorage(n.RENDERBUFFER,pe,I.width,I.height)}}n.bindRenderbuffer(n.RENDERBUFFER,null)}function Me(H,I){if(I&&I.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(t.bindFramebuffer(n.FRAMEBUFFER,H),!(I.depthTexture&&I.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");(!r.get(I.depthTexture).__webglTexture||I.depthTexture.image.width!==I.width||I.depthTexture.image.height!==I.height)&&(I.depthTexture.image.width=I.width,I.depthTexture.image.height=I.height,I.depthTexture.needsUpdate=!0),q(I.depthTexture,0);const xe=r.get(I.depthTexture).__webglTexture,Se=He(I);if(I.depthTexture.format===ma)Ke(I)?p.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,xe,0,Se):n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,xe,0);else if(I.depthTexture.format===Rl)Ke(I)?p.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.TEXTURE_2D,xe,0,Se):n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.TEXTURE_2D,xe,0);else throw new Error("Unknown depthTexture format")}function ue(H){const I=r.get(H),ne=H.isWebGLCubeRenderTarget===!0;if(H.depthTexture&&!I.__autoAllocateDepthBuffer){if(ne)throw new Error("target.depthTexture not supported in Cube render targets");Me(I.__webglFramebuffer,H)}else if(ne){I.__webglDepthbuffer=[];for(let xe=0;xe<6;xe++)t.bindFramebuffer(n.FRAMEBUFFER,I.__webglFramebuffer[xe]),I.__webglDepthbuffer[xe]=n.createRenderbuffer(),j(I.__webglDepthbuffer[xe],H,!1)}else t.bindFramebuffer(n.FRAMEBUFFER,I.__webglFramebuffer),I.__webglDepthbuffer=n.createRenderbuffer(),j(I.__webglDepthbuffer,H,!1);t.bindFramebuffer(n.FRAMEBUFFER,null)}function Re(H,I,ne){const xe=r.get(H);I!==void 0&&Ae(xe.__webglFramebuffer,H,H.texture,n.COLOR_ATTACHMENT0,n.TEXTURE_2D),ne!==void 0&&ue(H)}function we(H){const I=H.texture,ne=r.get(H),xe=r.get(I);H.addEventListener("dispose",W),H.isWebGLMultipleRenderTargets!==!0&&(xe.__webglTexture===void 0&&(xe.__webglTexture=n.createTexture()),xe.__version=I.version,o.memory.textures++);const Se=H.isWebGLCubeRenderTarget===!0,be=H.isWebGLMultipleRenderTargets===!0,Te=M(H)||a;if(Se){ne.__webglFramebuffer=[];for(let Ne=0;Ne<6;Ne++)ne.__webglFramebuffer[Ne]=n.createFramebuffer()}else{if(ne.__webglFramebuffer=n.createFramebuffer(),be)if(i.drawBuffers){const Ne=H.texture;for(let pe=0,K=Ne.length;pe<K;pe++){const he=r.get(Ne[pe]);he.__webglTexture===void 0&&(he.__webglTexture=n.createTexture(),o.memory.textures++)}}else console.warn("THREE.WebGLRenderer: WebGLMultipleRenderTargets can only be used with WebGL2 or WEBGL_draw_buffers extension.");if(a&&H.samples>0&&Ke(H)===!1){const Ne=be?I:[I];ne.__webglMultisampledFramebuffer=n.createFramebuffer(),ne.__webglColorRenderbuffer=[],t.bindFramebuffer(n.FRAMEBUFFER,ne.__webglMultisampledFramebuffer);for(let pe=0;pe<Ne.length;pe++){const K=Ne[pe];ne.__webglColorRenderbuffer[pe]=n.createRenderbuffer(),n.bindRenderbuffer(n.RENDERBUFFER,ne.__webglColorRenderbuffer[pe]);const he=s.convert(K.format,K.colorSpace),Le=s.convert(K.type),Oe=k(K.internalFormat,he,Le,K.colorSpace,H.isXRRenderTarget===!0),Be=He(H);n.renderbufferStorageMultisample(n.RENDERBUFFER,Be,Oe,H.width,H.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+pe,n.RENDERBUFFER,ne.__webglColorRenderbuffer[pe])}n.bindRenderbuffer(n.RENDERBUFFER,null),H.depthBuffer&&(ne.__webglDepthRenderbuffer=n.createRenderbuffer(),j(ne.__webglDepthRenderbuffer,H,!0)),t.bindFramebuffer(n.FRAMEBUFFER,null)}}if(Se){t.bindTexture(n.TEXTURE_CUBE_MAP,xe.__webglTexture),ke(n.TEXTURE_CUBE_MAP,I,Te);for(let Ne=0;Ne<6;Ne++)Ae(ne.__webglFramebuffer[Ne],H,I,n.COLOR_ATTACHMENT0,n.TEXTURE_CUBE_MAP_POSITIVE_X+Ne);P(I,Te)&&L(n.TEXTURE_CUBE_MAP),t.unbindTexture()}else if(be){const Ne=H.texture;for(let pe=0,K=Ne.length;pe<K;pe++){const he=Ne[pe],Le=r.get(he);t.bindTexture(n.TEXTURE_2D,Le.__webglTexture),ke(n.TEXTURE_2D,he,Te),Ae(ne.__webglFramebuffer,H,he,n.COLOR_ATTACHMENT0+pe,n.TEXTURE_2D),P(he,Te)&&L(n.TEXTURE_2D)}t.unbindTexture()}else{let Ne=n.TEXTURE_2D;(H.isWebGL3DRenderTarget||H.isWebGLArrayRenderTarget)&&(a?Ne=H.isWebGL3DRenderTarget?n.TEXTURE_3D:n.TEXTURE_2D_ARRAY:console.error("THREE.WebGLTextures: THREE.Data3DTexture and THREE.DataArrayTexture only supported with WebGL2.")),t.bindTexture(Ne,xe.__webglTexture),ke(Ne,I,Te),Ae(ne.__webglFramebuffer,H,I,n.COLOR_ATTACHMENT0,Ne),P(I,Te)&&L(Ne),t.unbindTexture()}H.depthBuffer&&ue(H)}function We(H){const I=M(H)||a,ne=H.isWebGLMultipleRenderTargets===!0?H.texture:[H.texture];for(let xe=0,Se=ne.length;xe<Se;xe++){const be=ne[xe];if(P(be,I)){const Te=H.isWebGLCubeRenderTarget?n.TEXTURE_CUBE_MAP:n.TEXTURE_2D,Ne=r.get(be).__webglTexture;t.bindTexture(Te,Ne),L(Te),t.unbindTexture()}}}function ze(H){if(a&&H.samples>0&&Ke(H)===!1){const I=H.isWebGLMultipleRenderTargets?H.texture:[H.texture],ne=H.width,xe=H.height;let Se=n.COLOR_BUFFER_BIT;const be=[],Te=H.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,Ne=r.get(H),pe=H.isWebGLMultipleRenderTargets===!0;if(pe)for(let K=0;K<I.length;K++)t.bindFramebuffer(n.FRAMEBUFFER,Ne.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+K,n.RENDERBUFFER,null),t.bindFramebuffer(n.FRAMEBUFFER,Ne.__webglFramebuffer),n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0+K,n.TEXTURE_2D,null,0);t.bindFramebuffer(n.READ_FRAMEBUFFER,Ne.__webglMultisampledFramebuffer),t.bindFramebuffer(n.DRAW_FRAMEBUFFER,Ne.__webglFramebuffer);for(let K=0;K<I.length;K++){be.push(n.COLOR_ATTACHMENT0+K),H.depthBuffer&&be.push(Te);const he=Ne.__ignoreDepthValues!==void 0?Ne.__ignoreDepthValues:!1;if(he===!1&&(H.depthBuffer&&(Se|=n.DEPTH_BUFFER_BIT),H.stencilBuffer&&(Se|=n.STENCIL_BUFFER_BIT)),pe&&n.framebufferRenderbuffer(n.READ_FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.RENDERBUFFER,Ne.__webglColorRenderbuffer[K]),he===!0&&(n.invalidateFramebuffer(n.READ_FRAMEBUFFER,[Te]),n.invalidateFramebuffer(n.DRAW_FRAMEBUFFER,[Te])),pe){const Le=r.get(I[K]).__webglTexture;n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,Le,0)}n.blitFramebuffer(0,0,ne,xe,0,0,ne,xe,Se,n.NEAREST),g&&n.invalidateFramebuffer(n.READ_FRAMEBUFFER,be)}if(t.bindFramebuffer(n.READ_FRAMEBUFFER,null),t.bindFramebuffer(n.DRAW_FRAMEBUFFER,null),pe)for(let K=0;K<I.length;K++){t.bindFramebuffer(n.FRAMEBUFFER,Ne.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+K,n.RENDERBUFFER,Ne.__webglColorRenderbuffer[K]);const he=r.get(I[K]).__webglTexture;t.bindFramebuffer(n.FRAMEBUFFER,Ne.__webglFramebuffer),n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0+K,n.TEXTURE_2D,he,0)}t.bindFramebuffer(n.DRAW_FRAMEBUFFER,Ne.__webglMultisampledFramebuffer)}}function He(H){return Math.min(h,H.samples)}function Ke(H){const I=r.get(H);return a&&H.samples>0&&e.has("WEBGL_multisampled_render_to_texture")===!0&&I.__useRenderToTexture!==!1}function rt(H){const I=o.render.frame;v.get(H)!==I&&(v.set(H,I),H.update())}function Ft(H,I){const ne=H.colorSpace,xe=H.format,Se=H.type;return H.isCompressedTexture===!0||H.format===Jg||ne!==hs&&ne!==ga&&(ne===_t?a===!1?e.has("EXT_sRGB")===!0&&xe===mi?(H.format=Jg,H.minFilter=Dn,H.generateMipmaps=!1):I=Mb.sRGBToLinear(I):(xe!==mi||Se!==_o)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture color space:",ne)),I}this.allocateTextureUnit=D,this.resetTextureUnits=J,this.setTexture2D=q,this.setTexture2DArray=Y,this.setTexture3D=Q,this.setTextureCube=Ce,this.rebindTextures=Re,this.setupRenderTarget=we,this.updateRenderTargetMipmap=We,this.updateMultisampleRenderTarget=ze,this.setupDepthRenderbuffer=ue,this.setupFrameBufferTexture=Ae,this.useMultisampledRTT=Ke}function KO(n,e,t){const r=t.isWebGL2;function i(s,o=ga){let a;if(s===_o)return n.UNSIGNED_BYTE;if(s===vb)return n.UNSIGNED_SHORT_4_4_4_4;if(s===yb)return n.UNSIGNED_SHORT_5_5_5_1;if(s===pO)return n.BYTE;if(s===mO)return n.SHORT;if(s===$0)return n.UNSIGNED_SHORT;if(s===gb)return n.INT;if(s===vo)return n.UNSIGNED_INT;if(s===Ds)return n.FLOAT;if(s===xu)return r?n.HALF_FLOAT:(a=e.get("OES_texture_half_float"),a!==null?a.HALF_FLOAT_OES:null);if(s===gO)return n.ALPHA;if(s===mi)return n.RGBA;if(s===vO)return n.LUMINANCE;if(s===yO)return n.LUMINANCE_ALPHA;if(s===ma)return n.DEPTH_COMPONENT;if(s===Rl)return n.DEPTH_STENCIL;if(s===Jg)return a=e.get("EXT_sRGB"),a!==null?a.SRGB_ALPHA_EXT:null;if(s===xO)return n.RED;if(s===xb)return n.RED_INTEGER;if(s===_O)return n.RG;if(s===_b)return n.RG_INTEGER;if(s===wb)return n.RGBA_INTEGER;if(s===sg||s===og||s===ag||s===lg)if(o===_t)if(a=e.get("WEBGL_compressed_texture_s3tc_srgb"),a!==null){if(s===sg)return a.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(s===og)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(s===ag)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(s===lg)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(a=e.get("WEBGL_compressed_texture_s3tc"),a!==null){if(s===sg)return a.COMPRESSED_RGB_S3TC_DXT1_EXT;if(s===og)return a.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(s===ag)return a.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(s===lg)return a.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(s===Y1||s===K1||s===J1||s===Z1)if(a=e.get("WEBGL_compressed_texture_pvrtc"),a!==null){if(s===Y1)return a.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(s===K1)return a.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(s===J1)return a.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(s===Z1)return a.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(s===wO)return a=e.get("WEBGL_compressed_texture_etc1"),a!==null?a.COMPRESSED_RGB_ETC1_WEBGL:null;if(s===Q1||s===ew)if(a=e.get("WEBGL_compressed_texture_etc"),a!==null){if(s===Q1)return o===_t?a.COMPRESSED_SRGB8_ETC2:a.COMPRESSED_RGB8_ETC2;if(s===ew)return o===_t?a.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:a.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(s===tw||s===nw||s===rw||s===iw||s===sw||s===ow||s===aw||s===lw||s===cw||s===uw||s===dw||s===fw||s===hw||s===pw)if(a=e.get("WEBGL_compressed_texture_astc"),a!==null){if(s===tw)return o===_t?a.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:a.COMPRESSED_RGBA_ASTC_4x4_KHR;if(s===nw)return o===_t?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:a.COMPRESSED_RGBA_ASTC_5x4_KHR;if(s===rw)return o===_t?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:a.COMPRESSED_RGBA_ASTC_5x5_KHR;if(s===iw)return o===_t?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:a.COMPRESSED_RGBA_ASTC_6x5_KHR;if(s===sw)return o===_t?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:a.COMPRESSED_RGBA_ASTC_6x6_KHR;if(s===ow)return o===_t?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:a.COMPRESSED_RGBA_ASTC_8x5_KHR;if(s===aw)return o===_t?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:a.COMPRESSED_RGBA_ASTC_8x6_KHR;if(s===lw)return o===_t?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:a.COMPRESSED_RGBA_ASTC_8x8_KHR;if(s===cw)return o===_t?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:a.COMPRESSED_RGBA_ASTC_10x5_KHR;if(s===uw)return o===_t?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:a.COMPRESSED_RGBA_ASTC_10x6_KHR;if(s===dw)return o===_t?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:a.COMPRESSED_RGBA_ASTC_10x8_KHR;if(s===fw)return o===_t?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:a.COMPRESSED_RGBA_ASTC_10x10_KHR;if(s===hw)return o===_t?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:a.COMPRESSED_RGBA_ASTC_12x10_KHR;if(s===pw)return o===_t?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:a.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(s===cg)if(a=e.get("EXT_texture_compression_bptc"),a!==null){if(s===cg)return o===_t?a.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:a.COMPRESSED_RGBA_BPTC_UNORM_EXT}else return null;if(s===SO||s===mw||s===gw||s===vw)if(a=e.get("EXT_texture_compression_rgtc"),a!==null){if(s===cg)return a.COMPRESSED_RED_RGTC1_EXT;if(s===mw)return a.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(s===gw)return a.COMPRESSED_RED_GREEN_RGTC2_EXT;if(s===vw)return a.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return s===pa?r?n.UNSIGNED_INT_24_8:(a=e.get("WEBGL_depth_texture"),a!==null?a.UNSIGNED_INT_24_8_WEBGL:null):n[s]!==void 0?n[s]:null}return{convert:i}}class JO extends pn{constructor(e=[]){super(),this.isArrayCamera=!0,this.cameras=e}}class Qc extends Vt{constructor(){super(),this.isGroup=!0,this.type="Group"}}const pH={type:"move"};class t_{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new Qc,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new Qc,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new z,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new z),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new Qc,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new z,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new z),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const t=this._hand;if(t)for(const r of e.hand.values())this._getHandJoint(t,r)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,t,r){let i=null,s=null,o=null;const a=this._targetRay,l=this._grip,u=this._hand;if(e&&t.session.visibilityState!=="visible-blurred"){if(u&&e.hand){o=!0;for(const x of e.hand.values()){const _=t.getJointPose(x,r),m=this._getHandJoint(u,x);_!==null&&(m.matrix.fromArray(_.transform.matrix),m.matrix.decompose(m.position,m.rotation,m.scale),m.matrixWorldNeedsUpdate=!0,m.jointRadius=_.radius),m.visible=_!==null}const f=u.joints["index-finger-tip"],h=u.joints["thumb-tip"],p=f.position.distanceTo(h.position),g=.02,v=.005;u.inputState.pinching&&p>g+v?(u.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!u.inputState.pinching&&p<=g-v&&(u.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else l!==null&&e.gripSpace&&(s=t.getPose(e.gripSpace,r),s!==null&&(l.matrix.fromArray(s.transform.matrix),l.matrix.decompose(l.position,l.rotation,l.scale),l.matrixWorldNeedsUpdate=!0,s.linearVelocity?(l.hasLinearVelocity=!0,l.linearVelocity.copy(s.linearVelocity)):l.hasLinearVelocity=!1,s.angularVelocity?(l.hasAngularVelocity=!0,l.angularVelocity.copy(s.angularVelocity)):l.hasAngularVelocity=!1));a!==null&&(i=t.getPose(e.targetRaySpace,r),i===null&&s!==null&&(i=s),i!==null&&(a.matrix.fromArray(i.transform.matrix),a.matrix.decompose(a.position,a.rotation,a.scale),a.matrixWorldNeedsUpdate=!0,i.linearVelocity?(a.hasLinearVelocity=!0,a.linearVelocity.copy(i.linearVelocity)):a.hasLinearVelocity=!1,i.angularVelocity?(a.hasAngularVelocity=!0,a.angularVelocity.copy(i.angularVelocity)):a.hasAngularVelocity=!1,this.dispatchEvent(pH)))}return a!==null&&(a.visible=i!==null),l!==null&&(l.visible=s!==null),u!==null&&(u.visible=o!==null),this}_getHandJoint(e,t){if(e.joints[t.jointName]===void 0){const r=new Qc;r.matrixAutoUpdate=!1,r.visible=!1,e.joints[t.jointName]=r,e.add(r)}return e.joints[t.jointName]}}class ZO extends Ln{constructor(e,t,r,i,s,o,a,l,u,f){if(f=f!==void 0?f:ma,f!==ma&&f!==Rl)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");r===void 0&&f===ma&&(r=vo),r===void 0&&f===Rl&&(r=pa),super(null,i,s,o,a,l,f,r,u),this.isDepthTexture=!0,this.image={width:e,height:t},this.magFilter=a!==void 0?a:In,this.minFilter=l!==void 0?l:In,this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(e){return super.copy(e),this.compareFunction=e.compareFunction,this}toJSON(e){const t=super.toJSON(e);return this.compareFunction!==null&&(t.compareFunction=this.compareFunction),t}}class mH extends Gs{constructor(e,t){super();const r=this;let i=null,s=1,o=null,a="local-floor",l=1,u=null,f=null,h=null,p=null,g=null,v=null;const x=t.getContextAttributes();let _=null,m=null;const w=[],S=[],M=new pn;M.layers.enable(1),M.viewport=new qt;const R=new pn;R.layers.enable(2),R.viewport=new qt;const P=[M,R],L=new JO;L.layers.enable(1),L.layers.enable(2);let k=null,C=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(Y){let Q=w[Y];return Q===void 0&&(Q=new t_,w[Y]=Q),Q.getTargetRaySpace()},this.getControllerGrip=function(Y){let Q=w[Y];return Q===void 0&&(Q=new t_,w[Y]=Q),Q.getGripSpace()},this.getHand=function(Y){let Q=w[Y];return Q===void 0&&(Q=new t_,w[Y]=Q),Q.getHandSpace()};function A(Y){const Q=S.indexOf(Y.inputSource);if(Q===-1)return;const Ce=w[Q];Ce!==void 0&&(Ce.update(Y.inputSource,Y.frame,u||o),Ce.dispatchEvent({type:Y.type,data:Y.inputSource}))}function U(){i.removeEventListener("select",A),i.removeEventListener("selectstart",A),i.removeEventListener("selectend",A),i.removeEventListener("squeeze",A),i.removeEventListener("squeezestart",A),i.removeEventListener("squeezeend",A),i.removeEventListener("end",U),i.removeEventListener("inputsourceschange",W);for(let Y=0;Y<w.length;Y++){const Q=S[Y];Q!==null&&(S[Y]=null,w[Y].disconnect(Q))}k=null,C=null,e.setRenderTarget(_),g=null,p=null,h=null,i=null,m=null,q.stop(),r.isPresenting=!1,r.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(Y){s=Y,r.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(Y){a=Y,r.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return u||o},this.setReferenceSpace=function(Y){u=Y},this.getBaseLayer=function(){return p!==null?p:g},this.getBinding=function(){return h},this.getFrame=function(){return v},this.getSession=function(){return i},this.setSession=async function(Y){if(i=Y,i!==null){if(_=e.getRenderTarget(),i.addEventListener("select",A),i.addEventListener("selectstart",A),i.addEventListener("selectend",A),i.addEventListener("squeeze",A),i.addEventListener("squeezestart",A),i.addEventListener("squeezeend",A),i.addEventListener("end",U),i.addEventListener("inputsourceschange",W),x.xrCompatible!==!0&&await t.makeXRCompatible(),i.renderState.layers===void 0||e.capabilities.isWebGL2===!1){const Q={antialias:i.renderState.layers===void 0?x.antialias:!0,alpha:!0,depth:x.depth,stencil:x.stencil,framebufferScaleFactor:s};g=new XRWebGLLayer(i,t,Q),i.updateRenderState({baseLayer:g}),m=new ps(g.framebufferWidth,g.framebufferHeight,{format:mi,type:_o,colorSpace:e.outputColorSpace,stencilBuffer:x.stencil})}else{let Q=null,Ce=null,ge=null;x.depth&&(ge=x.stencil?t.DEPTH24_STENCIL8:t.DEPTH_COMPONENT24,Q=x.stencil?Rl:ma,Ce=x.stencil?pa:vo);const ie={colorFormat:t.RGBA8,depthFormat:ge,scaleFactor:s};h=new XRWebGLBinding(i,t),p=h.createProjectionLayer(ie),i.updateRenderState({layers:[p]}),m=new ps(p.textureWidth,p.textureHeight,{format:mi,type:_o,depthTexture:new ZO(p.textureWidth,p.textureHeight,Ce,void 0,void 0,void 0,void 0,void 0,void 0,Q),stencilBuffer:x.stencil,colorSpace:e.outputColorSpace,samples:x.antialias?4:0});const ce=e.properties.get(m);ce.__ignoreDepthValues=p.ignoreDepthValues}m.isXRRenderTarget=!0,this.setFoveation(l),u=null,o=await i.requestReferenceSpace(a),q.setContext(i),q.start(),r.isPresenting=!0,r.dispatchEvent({type:"sessionstart"})}},this.getEnvironmentBlendMode=function(){if(i!==null)return i.environmentBlendMode};function W(Y){for(let Q=0;Q<Y.removed.length;Q++){const Ce=Y.removed[Q],ge=S.indexOf(Ce);ge>=0&&(S[ge]=null,w[ge].disconnect(Ce))}for(let Q=0;Q<Y.added.length;Q++){const Ce=Y.added[Q];let ge=S.indexOf(Ce);if(ge===-1){for(let ce=0;ce<w.length;ce++)if(ce>=S.length){S.push(Ce),ge=ce;break}else if(S[ce]===null){S[ce]=Ce,ge=ce;break}if(ge===-1)break}const ie=w[ge];ie&&ie.connect(Ce)}}const F=new z,G=new z;function X(Y,Q,Ce){F.setFromMatrixPosition(Q.matrixWorld),G.setFromMatrixPosition(Ce.matrixWorld);const ge=F.distanceTo(G),ie=Q.projectionMatrix.elements,ce=Ce.projectionMatrix.elements,ke=ie[14]/(ie[10]-1),fe=ie[14]/(ie[10]+1),Pe=(ie[9]+1)/ie[5],Ue=(ie[9]-1)/ie[5],Ae=(ie[8]-1)/ie[0],j=(ce[8]+1)/ce[0],Me=ke*Ae,ue=ke*j,Re=ge/(-Ae+j),we=Re*-Ae;Q.matrixWorld.decompose(Y.position,Y.quaternion,Y.scale),Y.translateX(we),Y.translateZ(Re),Y.matrixWorld.compose(Y.position,Y.quaternion,Y.scale),Y.matrixWorldInverse.copy(Y.matrixWorld).invert();const We=ke+Re,ze=fe+Re,He=Me-we,Ke=ue+(ge-we),rt=Pe*fe/ze*We,Ft=Ue*fe/ze*We;Y.projectionMatrix.makePerspective(He,Ke,rt,Ft,We,ze),Y.projectionMatrixInverse.copy(Y.projectionMatrix).invert()}function Z(Y,Q){Q===null?Y.matrixWorld.copy(Y.matrix):Y.matrixWorld.multiplyMatrices(Q.matrixWorld,Y.matrix),Y.matrixWorldInverse.copy(Y.matrixWorld).invert()}this.updateCamera=function(Y){if(i===null)return;L.near=R.near=M.near=Y.near,L.far=R.far=M.far=Y.far,(k!==L.near||C!==L.far)&&(i.updateRenderState({depthNear:L.near,depthFar:L.far}),k=L.near,C=L.far);const Q=Y.parent,Ce=L.cameras;Z(L,Q);for(let ge=0;ge<Ce.length;ge++)Z(Ce[ge],Q);Ce.length===2?X(L,M,R):L.projectionMatrix.copy(M.projectionMatrix),J(Y,L,Q)};function J(Y,Q,Ce){Ce===null?Y.matrix.copy(Q.matrixWorld):(Y.matrix.copy(Ce.matrixWorld),Y.matrix.invert(),Y.matrix.multiply(Q.matrixWorld)),Y.matrix.decompose(Y.position,Y.quaternion,Y.scale),Y.updateMatrixWorld(!0);const ge=Y.children;for(let ie=0,ce=ge.length;ie<ce;ie++)ge[ie].updateMatrixWorld(!0);Y.projectionMatrix.copy(Q.projectionMatrix),Y.projectionMatrixInverse.copy(Q.projectionMatrixInverse),Y.isPerspectiveCamera&&(Y.fov=_u*2*Math.atan(1/Y.projectionMatrix.elements[5]),Y.zoom=1)}this.getCamera=function(){return L},this.getFoveation=function(){if(!(p===null&&g===null))return l},this.setFoveation=function(Y){l=Y,p!==null&&(p.fixedFoveation=Y),g!==null&&g.fixedFoveation!==void 0&&(g.fixedFoveation=Y)};let D=null;function $(Y,Q){if(f=Q.getViewerPose(u||o),v=Q,f!==null){const Ce=f.views;g!==null&&(e.setRenderTargetFramebuffer(m,g.framebuffer),e.setRenderTarget(m));let ge=!1;Ce.length!==L.cameras.length&&(L.cameras.length=0,ge=!0);for(let ie=0;ie<Ce.length;ie++){const ce=Ce[ie];let ke=null;if(g!==null)ke=g.getViewport(ce);else{const Pe=h.getViewSubImage(p,ce);ke=Pe.viewport,ie===0&&(e.setRenderTargetTextures(m,Pe.colorTexture,p.ignoreDepthValues?void 0:Pe.depthStencilTexture),e.setRenderTarget(m))}let fe=P[ie];fe===void 0&&(fe=new pn,fe.layers.enable(ie),fe.viewport=new qt,P[ie]=fe),fe.matrix.fromArray(ce.transform.matrix),fe.matrix.decompose(fe.position,fe.quaternion,fe.scale),fe.projectionMatrix.fromArray(ce.projectionMatrix),fe.projectionMatrixInverse.copy(fe.projectionMatrix).invert(),fe.viewport.set(ke.x,ke.y,ke.width,ke.height),ie===0&&(L.matrix.copy(fe.matrix),L.matrix.decompose(L.position,L.quaternion,L.scale)),ge===!0&&L.cameras.push(fe)}}for(let Ce=0;Ce<w.length;Ce++){const ge=S[Ce],ie=w[Ce];ge!==null&&ie!==void 0&&ie.update(ge,Q,u||o)}D&&D(Y,Q),Q.detectedPlanes&&r.dispatchEvent({type:"planesdetected",data:Q}),v=null}const q=new GO;q.setAnimationLoop($),this.setAnimationLoop=function(Y){D=Y},this.dispose=function(){}}}function gH(n,e){function t(_,m){_.matrixAutoUpdate===!0&&_.updateMatrix(),m.value.copy(_.matrix)}function r(_,m){m.color.getRGB(_.fogColor.value,jO(n)),m.isFog?(_.fogNear.value=m.near,_.fogFar.value=m.far):m.isFogExp2&&(_.fogDensity.value=m.density)}function i(_,m,w,S,M){m.isMeshBasicMaterial||m.isMeshLambertMaterial?s(_,m):m.isMeshToonMaterial?(s(_,m),h(_,m)):m.isMeshPhongMaterial?(s(_,m),f(_,m)):m.isMeshStandardMaterial?(s(_,m),p(_,m),m.isMeshPhysicalMaterial&&g(_,m,M)):m.isMeshMatcapMaterial?(s(_,m),v(_,m)):m.isMeshDepthMaterial?s(_,m):m.isMeshDistanceMaterial?(s(_,m),x(_,m)):m.isMeshNormalMaterial?s(_,m):m.isLineBasicMaterial?(o(_,m),m.isLineDashedMaterial&&a(_,m)):m.isPointsMaterial?l(_,m,w,S):m.isSpriteMaterial?u(_,m):m.isShadowMaterial?(_.color.value.copy(m.color),_.opacity.value=m.opacity):m.isShaderMaterial&&(m.uniformsNeedUpdate=!1)}function s(_,m){_.opacity.value=m.opacity,m.color&&_.diffuse.value.copy(m.color),m.emissive&&_.emissive.value.copy(m.emissive).multiplyScalar(m.emissiveIntensity),m.map&&(_.map.value=m.map,t(m.map,_.mapTransform)),m.alphaMap&&(_.alphaMap.value=m.alphaMap,t(m.alphaMap,_.alphaMapTransform)),m.bumpMap&&(_.bumpMap.value=m.bumpMap,t(m.bumpMap,_.bumpMapTransform),_.bumpScale.value=m.bumpScale,m.side===zr&&(_.bumpScale.value*=-1)),m.normalMap&&(_.normalMap.value=m.normalMap,t(m.normalMap,_.normalMapTransform),_.normalScale.value.copy(m.normalScale),m.side===zr&&_.normalScale.value.negate()),m.displacementMap&&(_.displacementMap.value=m.displacementMap,t(m.displacementMap,_.displacementMapTransform),_.displacementScale.value=m.displacementScale,_.displacementBias.value=m.displacementBias),m.emissiveMap&&(_.emissiveMap.value=m.emissiveMap,t(m.emissiveMap,_.emissiveMapTransform)),m.specularMap&&(_.specularMap.value=m.specularMap,t(m.specularMap,_.specularMapTransform)),m.alphaTest>0&&(_.alphaTest.value=m.alphaTest);const w=e.get(m).envMap;if(w&&(_.envMap.value=w,_.flipEnvMap.value=w.isCubeTexture&&w.isRenderTargetTexture===!1?-1:1,_.reflectivity.value=m.reflectivity,_.ior.value=m.ior,_.refractionRatio.value=m.refractionRatio),m.lightMap){_.lightMap.value=m.lightMap;const S=n.useLegacyLights===!0?Math.PI:1;_.lightMapIntensity.value=m.lightMapIntensity*S,t(m.lightMap,_.lightMapTransform)}m.aoMap&&(_.aoMap.value=m.aoMap,_.aoMapIntensity.value=m.aoMapIntensity,t(m.aoMap,_.aoMapTransform))}function o(_,m){_.diffuse.value.copy(m.color),_.opacity.value=m.opacity,m.map&&(_.map.value=m.map,t(m.map,_.mapTransform))}function a(_,m){_.dashSize.value=m.dashSize,_.totalSize.value=m.dashSize+m.gapSize,_.scale.value=m.scale}function l(_,m,w,S){_.diffuse.value.copy(m.color),_.opacity.value=m.opacity,_.size.value=m.size*w,_.scale.value=S*.5,m.map&&(_.map.value=m.map,t(m.map,_.uvTransform)),m.alphaMap&&(_.alphaMap.value=m.alphaMap,t(m.alphaMap,_.alphaMapTransform)),m.alphaTest>0&&(_.alphaTest.value=m.alphaTest)}function u(_,m){_.diffuse.value.copy(m.color),_.opacity.value=m.opacity,_.rotation.value=m.rotation,m.map&&(_.map.value=m.map,t(m.map,_.mapTransform)),m.alphaMap&&(_.alphaMap.value=m.alphaMap,t(m.alphaMap,_.alphaMapTransform)),m.alphaTest>0&&(_.alphaTest.value=m.alphaTest)}function f(_,m){_.specular.value.copy(m.specular),_.shininess.value=Math.max(m.shininess,1e-4)}function h(_,m){m.gradientMap&&(_.gradientMap.value=m.gradientMap)}function p(_,m){_.metalness.value=m.metalness,m.metalnessMap&&(_.metalnessMap.value=m.metalnessMap,t(m.metalnessMap,_.metalnessMapTransform)),_.roughness.value=m.roughness,m.roughnessMap&&(_.roughnessMap.value=m.roughnessMap,t(m.roughnessMap,_.roughnessMapTransform)),e.get(m).envMap&&(_.envMapIntensity.value=m.envMapIntensity)}function g(_,m,w){_.ior.value=m.ior,m.sheen>0&&(_.sheenColor.value.copy(m.sheenColor).multiplyScalar(m.sheen),_.sheenRoughness.value=m.sheenRoughness,m.sheenColorMap&&(_.sheenColorMap.value=m.sheenColorMap,t(m.sheenColorMap,_.sheenColorMapTransform)),m.sheenRoughnessMap&&(_.sheenRoughnessMap.value=m.sheenRoughnessMap,t(m.sheenRoughnessMap,_.sheenRoughnessMapTransform))),m.clearcoat>0&&(_.clearcoat.value=m.clearcoat,_.clearcoatRoughness.value=m.clearcoatRoughness,m.clearcoatMap&&(_.clearcoatMap.value=m.clearcoatMap,t(m.clearcoatMap,_.clearcoatMapTransform)),m.clearcoatRoughnessMap&&(_.clearcoatRoughnessMap.value=m.clearcoatRoughnessMap,t(m.clearcoatRoughnessMap,_.clearcoatRoughnessMapTransform)),m.clearcoatNormalMap&&(_.clearcoatNormalMap.value=m.clearcoatNormalMap,t(m.clearcoatNormalMap,_.clearcoatNormalMapTransform),_.clearcoatNormalScale.value.copy(m.clearcoatNormalScale),m.side===zr&&_.clearcoatNormalScale.value.negate())),m.iridescence>0&&(_.iridescence.value=m.iridescence,_.iridescenceIOR.value=m.iridescenceIOR,_.iridescenceThicknessMinimum.value=m.iridescenceThicknessRange[0],_.iridescenceThicknessMaximum.value=m.iridescenceThicknessRange[1],m.iridescenceMap&&(_.iridescenceMap.value=m.iridescenceMap,t(m.iridescenceMap,_.iridescenceMapTransform)),m.iridescenceThicknessMap&&(_.iridescenceThicknessMap.value=m.iridescenceThicknessMap,t(m.iridescenceThicknessMap,_.iridescenceThicknessMapTransform))),m.transmission>0&&(_.transmission.value=m.transmission,_.transmissionSamplerMap.value=w.texture,_.transmissionSamplerSize.value.set(w.width,w.height),m.transmissionMap&&(_.transmissionMap.value=m.transmissionMap,t(m.transmissionMap,_.transmissionMapTransform)),_.thickness.value=m.thickness,m.thicknessMap&&(_.thicknessMap.value=m.thicknessMap,t(m.thicknessMap,_.thicknessMapTransform)),_.attenuationDistance.value=m.attenuationDistance,_.attenuationColor.value.copy(m.attenuationColor)),m.anisotropy>0&&(_.anisotropyVector.value.set(m.anisotropy*Math.cos(m.anisotropyRotation),m.anisotropy*Math.sin(m.anisotropyRotation)),m.anisotropyMap&&(_.anisotropyMap.value=m.anisotropyMap,t(m.anisotropyMap,_.anisotropyMapTransform))),_.specularIntensity.value=m.specularIntensity,_.specularColor.value.copy(m.specularColor),m.specularColorMap&&(_.specularColorMap.value=m.specularColorMap,t(m.specularColorMap,_.specularColorMapTransform)),m.specularIntensityMap&&(_.specularIntensityMap.value=m.specularIntensityMap,t(m.specularIntensityMap,_.specularIntensityMapTransform))}function v(_,m){m.matcap&&(_.matcap.value=m.matcap)}function x(_,m){const w=e.get(m).light;_.referencePosition.value.setFromMatrixPosition(w.matrixWorld),_.nearDistance.value=w.shadow.camera.near,_.farDistance.value=w.shadow.camera.far}return{refreshFogUniforms:r,refreshMaterialUniforms:i}}function vH(n,e,t,r){let i={},s={},o=[];const a=t.isWebGL2?n.getParameter(n.MAX_UNIFORM_BUFFER_BINDINGS):0;function l(w,S){const M=S.program;r.uniformBlockBinding(w,M)}function u(w,S){let M=i[w.id];M===void 0&&(v(w),M=f(w),i[w.id]=M,w.addEventListener("dispose",_));const R=S.program;r.updateUBOMapping(w,R);const P=e.render.frame;s[w.id]!==P&&(p(w),s[w.id]=P)}function f(w){const S=h();w.__bindingPointIndex=S;const M=n.createBuffer(),R=w.__size,P=w.usage;return n.bindBuffer(n.UNIFORM_BUFFER,M),n.bufferData(n.UNIFORM_BUFFER,R,P),n.bindBuffer(n.UNIFORM_BUFFER,null),n.bindBufferBase(n.UNIFORM_BUFFER,S,M),M}function h(){for(let w=0;w<a;w++)if(o.indexOf(w)===-1)return o.push(w),w;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function p(w){const S=i[w.id],M=w.uniforms,R=w.__cache;n.bindBuffer(n.UNIFORM_BUFFER,S);for(let P=0,L=M.length;P<L;P++){const k=M[P];if(g(k,P,R)===!0){const C=k.__offset,A=Array.isArray(k.value)?k.value:[k.value];let U=0;for(let W=0;W<A.length;W++){const F=A[W],G=x(F);typeof F=="number"?(k.__data[0]=F,n.bufferSubData(n.UNIFORM_BUFFER,C+U,k.__data)):F.isMatrix3?(k.__data[0]=F.elements[0],k.__data[1]=F.elements[1],k.__data[2]=F.elements[2],k.__data[3]=F.elements[0],k.__data[4]=F.elements[3],k.__data[5]=F.elements[4],k.__data[6]=F.elements[5],k.__data[7]=F.elements[0],k.__data[8]=F.elements[6],k.__data[9]=F.elements[7],k.__data[10]=F.elements[8],k.__data[11]=F.elements[0]):(F.toArray(k.__data,U),U+=G.storage/Float32Array.BYTES_PER_ELEMENT)}n.bufferSubData(n.UNIFORM_BUFFER,C,k.__data)}}n.bindBuffer(n.UNIFORM_BUFFER,null)}function g(w,S,M){const R=w.value;if(M[S]===void 0){if(typeof R=="number")M[S]=R;else{const P=Array.isArray(R)?R:[R],L=[];for(let k=0;k<P.length;k++)L.push(P[k].clone());M[S]=L}return!0}else if(typeof R=="number"){if(M[S]!==R)return M[S]=R,!0}else{const P=Array.isArray(M[S])?M[S]:[M[S]],L=Array.isArray(R)?R:[R];for(let k=0;k<P.length;k++){const C=P[k];if(C.equals(L[k])===!1)return C.copy(L[k]),!0}}return!1}function v(w){const S=w.uniforms;let M=0;const R=16;let P=0;for(let L=0,k=S.length;L<k;L++){const C=S[L],A={boundary:0,storage:0},U=Array.isArray(C.value)?C.value:[C.value];for(let W=0,F=U.length;W<F;W++){const G=U[W],X=x(G);A.boundary+=X.boundary,A.storage+=X.storage}if(C.__data=new Float32Array(A.storage/Float32Array.BYTES_PER_ELEMENT),C.__offset=M,L>0){P=M%R;const W=R-P;P!==0&&W-A.boundary<0&&(M+=R-P,C.__offset=M)}M+=A.storage}return P=M%R,P>0&&(M+=R-P),w.__size=M,w.__cache={},this}function x(w){const S={boundary:0,storage:0};return typeof w=="number"?(S.boundary=4,S.storage=4):w.isVector2?(S.boundary=8,S.storage=8):w.isVector3||w.isColor?(S.boundary=16,S.storage=12):w.isVector4?(S.boundary=16,S.storage=16):w.isMatrix3?(S.boundary=48,S.storage=48):w.isMatrix4?(S.boundary=64,S.storage=64):w.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",w),S}function _(w){const S=w.target;S.removeEventListener("dispose",_);const M=o.indexOf(S.__bindingPointIndex);o.splice(M,1),n.deleteBuffer(i[S.id]),delete i[S.id],delete s[S.id]}function m(){for(const w in i)n.deleteBuffer(i[w]);o=[],i={},s={}}return{bind:l,update:u,dispose:m}}function yH(){const n=zf("canvas");return n.style.display="block",n}class Ob{constructor(e={}){const{canvas:t=yH(),context:r=null,depth:i=!0,stencil:s=!0,alpha:o=!1,antialias:a=!1,premultipliedAlpha:l=!0,preserveDrawingBuffer:u=!1,powerPreference:f="default",failIfMajorPerformanceCaveat:h=!1}=e;this.isWebGLRenderer=!0;let p;r!==null?p=r.getContextAttributes().alpha:p=o;const g=new Uint32Array(4),v=new Int32Array(4);let x=null,_=null;const m=[],w=[];this.domElement=t,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.outputColorSpace=_t,this.useLegacyLights=!0,this.toneMapping=us,this.toneMappingExposure=1;const S=this;let M=!1,R=0,P=0,L=null,k=-1,C=null;const A=new qt,U=new qt;let W=null;const F=new Ye(0);let G=0,X=t.width,Z=t.height,J=1,D=null,$=null;const q=new qt(0,0,X,Z),Y=new qt(0,0,X,Z);let Q=!1;const Ce=new K0;let ge=!1,ie=!1,ce=null;const ke=new pt,fe=new _e,Pe=new z,Ue={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function Ae(){return L===null?J:1}let j=r;function Me(B,ae){for(let ve=0;ve<B.length;ve++){const se=B[ve],ye=t.getContext(se,ae);if(ye!==null)return ye}return null}try{const B={alpha:!0,depth:i,stencil:s,antialias:a,premultipliedAlpha:l,preserveDrawingBuffer:u,powerPreference:f,failIfMajorPerformanceCaveat:h};if("setAttribute"in t&&t.setAttribute("data-engine",`three.js r${V0}`),t.addEventListener("webglcontextlost",Fe,!1),t.addEventListener("webglcontextrestored",le,!1),t.addEventListener("webglcontextcreationerror",je,!1),j===null){const ae=["webgl2","webgl","experimental-webgl"];if(S.isWebGL1Renderer===!0&&ae.shift(),j=Me(ae,B),j===null)throw Me(ae)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}typeof WebGLRenderingContext<"u"&&j instanceof WebGLRenderingContext&&console.warn("THREE.WebGLRenderer: WebGL 1 support was deprecated in r153 and will be removed in r163."),j.getShaderPrecisionFormat===void 0&&(j.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(B){throw console.error("THREE.WebGLRenderer: "+B.message),B}let ue,Re,we,We,ze,He,Ke,rt,Ft,H,I,ne,xe,Se,be,Te,Ne,pe,K,he,Le,Oe,Be,st;function At(){ue=new k8(j),Re=new C8(j,ue,e),ue.init(Re),Oe=new KO(j,ue,Re),we=new fH(j,ue,Re),We=new D8(j),ze=new eH,He=new hH(j,ue,we,ze,Re,Oe,We),Ke=new R8(S),rt=new O8(S),Ft=new $z(j,Re),Be=new M8(j,ue,Ft,Re),H=new I8(j,Ft,We,Be),I=new B8(j,H,Ft,We),K=new z8(j,Re,He),Te=new A8(ze),ne=new Qj(S,Ke,rt,ue,Re,Be,Te),xe=new gH(S,ze),Se=new nH,be=new lH(ue,Re),pe=new E8(S,Ke,rt,we,I,p,l),Ne=new dH(S,I,Re),st=new vH(j,We,Re,we),he=new T8(j,ue,We,Re),Le=new N8(j,ue,We,Re),We.programs=ne.programs,S.capabilities=Re,S.extensions=ue,S.properties=ze,S.renderLists=Se,S.shadowMap=Ne,S.state=we,S.info=We}At();const ee=new mH(S,j);this.xr=ee,this.getContext=function(){return j},this.getContextAttributes=function(){return j.getContextAttributes()},this.forceContextLoss=function(){const B=ue.get("WEBGL_lose_context");B&&B.loseContext()},this.forceContextRestore=function(){const B=ue.get("WEBGL_lose_context");B&&B.restoreContext()},this.getPixelRatio=function(){return J},this.setPixelRatio=function(B){B!==void 0&&(J=B,this.setSize(X,Z,!1))},this.getSize=function(B){return B.set(X,Z)},this.setSize=function(B,ae,ve=!0){if(ee.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}X=B,Z=ae,t.width=Math.floor(B*J),t.height=Math.floor(ae*J),ve===!0&&(t.style.width=B+"px",t.style.height=ae+"px"),this.setViewport(0,0,B,ae)},this.getDrawingBufferSize=function(B){return B.set(X*J,Z*J).floor()},this.setDrawingBufferSize=function(B,ae,ve){X=B,Z=ae,J=ve,t.width=Math.floor(B*ve),t.height=Math.floor(ae*ve),this.setViewport(0,0,B,ae)},this.getCurrentViewport=function(B){return B.copy(A)},this.getViewport=function(B){return B.copy(q)},this.setViewport=function(B,ae,ve,se){B.isVector4?q.set(B.x,B.y,B.z,B.w):q.set(B,ae,ve,se),we.viewport(A.copy(q).multiplyScalar(J).floor())},this.getScissor=function(B){return B.copy(Y)},this.setScissor=function(B,ae,ve,se){B.isVector4?Y.set(B.x,B.y,B.z,B.w):Y.set(B,ae,ve,se),we.scissor(U.copy(Y).multiplyScalar(J).floor())},this.getScissorTest=function(){return Q},this.setScissorTest=function(B){we.setScissorTest(Q=B)},this.setOpaqueSort=function(B){D=B},this.setTransparentSort=function(B){$=B},this.getClearColor=function(B){return B.copy(pe.getClearColor())},this.setClearColor=function(){pe.setClearColor.apply(pe,arguments)},this.getClearAlpha=function(){return pe.getClearAlpha()},this.setClearAlpha=function(){pe.setClearAlpha.apply(pe,arguments)},this.clear=function(B=!0,ae=!0,ve=!0){let se=0;if(B){let ye=!1;if(L!==null){const Ze=L.texture.format;ye=Ze===wb||Ze===_b||Ze===xb}if(ye){const Ze=L.texture.type,ot=Ze===_o||Ze===vo||Ze===$0||Ze===pa||Ze===vb||Ze===yb,ct=pe.getClearColor(),ut=pe.getClearAlpha(),Tt=ct.r,dt=ct.g,ft=ct.b;ot?(g[0]=Tt,g[1]=dt,g[2]=ft,g[3]=ut,j.clearBufferuiv(j.COLOR,0,g)):(v[0]=Tt,v[1]=dt,v[2]=ft,v[3]=ut,j.clearBufferiv(j.COLOR,0,v))}else se|=j.COLOR_BUFFER_BIT}ae&&(se|=j.DEPTH_BUFFER_BIT),ve&&(se|=j.STENCIL_BUFFER_BIT),j.clear(se)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){t.removeEventListener("webglcontextlost",Fe,!1),t.removeEventListener("webglcontextrestored",le,!1),t.removeEventListener("webglcontextcreationerror",je,!1),Se.dispose(),be.dispose(),ze.dispose(),Ke.dispose(),rt.dispose(),I.dispose(),Be.dispose(),st.dispose(),ne.dispose(),ee.dispose(),ee.removeEventListener("sessionstart",on),ee.removeEventListener("sessionend",ii),ce&&(ce.dispose(),ce=null),ar.stop()};function Fe(B){B.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),M=!0}function le(){console.log("THREE.WebGLRenderer: Context Restored."),M=!1;const B=We.autoReset,ae=Ne.enabled,ve=Ne.autoUpdate,se=Ne.needsUpdate,ye=Ne.type;At(),We.autoReset=B,Ne.enabled=ae,Ne.autoUpdate=ve,Ne.needsUpdate=se,Ne.type=ye}function je(B){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",B.statusMessage)}function $e(B){const ae=B.target;ae.removeEventListener("dispose",$e),Ot(ae)}function Ot(B){tn(B),ze.remove(B)}function tn(B){const ae=ze.get(B).programs;ae!==void 0&&(ae.forEach(function(ve){ne.releaseProgram(ve)}),B.isShaderMaterial&&ne.releaseShaderCache(B))}this.renderBufferDirect=function(B,ae,ve,se,ye,Ze){ae===null&&(ae=Ue);const ot=ye.isMesh&&ye.matrixWorld.determinant()<0,ct=ty(B,ae,ve,se,ye);we.setMaterial(se,ot);let ut=ve.index,Tt=1;se.wireframe===!0&&(ut=H.getWireframeAttribute(ve),Tt=2);const dt=ve.drawRange,ft=ve.attributes.position;let nn=dt.start*Tt,an=(dt.start+dt.count)*Tt;Ze!==null&&(nn=Math.max(nn,Ze.start*Tt),an=Math.min(an,(Ze.start+Ze.count)*Tt)),ut!==null?(nn=Math.max(nn,0),an=Math.min(an,ut.count)):ft!=null&&(nn=Math.max(nn,0),an=Math.min(an,ft.count));const si=an-nn;if(si<0||si===1/0)return;Be.setup(ye,se,ct,ve,ut);let oi,Zt=he;if(ut!==null&&(oi=Ft.get(ut),Zt=Le,Zt.setIndex(oi)),ye.isMesh)se.wireframe===!0?(we.setLineWidth(se.wireframeLinewidth*Ae()),Zt.setMode(j.LINES)):Zt.setMode(j.TRIANGLES);else if(ye.isLine){let gt=se.linewidth;gt===void 0&&(gt=1),we.setLineWidth(gt*Ae()),ye.isLineSegments?Zt.setMode(j.LINES):ye.isLineLoop?Zt.setMode(j.LINE_LOOP):Zt.setMode(j.LINE_STRIP)}else ye.isPoints?Zt.setMode(j.POINTS):ye.isSprite&&Zt.setMode(j.TRIANGLES);if(ye.isInstancedMesh)Zt.renderInstances(nn,si,ye.count);else if(ve.isInstancedBufferGeometry){const gt=ve._maxInstanceCount!==void 0?ve._maxInstanceCount:1/0,Xt=Math.min(ve.instanceCount,gt);Zt.renderInstances(nn,si,Xt)}else Zt.render(nn,si)},this.compile=function(B,ae){function ve(se,ye,Ze){se.transparent===!0&&se.side===as&&se.forceSinglePass===!1?(se.side=zr,se.needsUpdate=!0,_s(se,ye,Ze),se.side=To,se.needsUpdate=!0,_s(se,ye,Ze),se.side=as):_s(se,ye,Ze)}_=be.get(B),_.init(),w.push(_),B.traverseVisible(function(se){se.isLight&&se.layers.test(ae.layers)&&(_.pushLight(se),se.castShadow&&_.pushShadow(se))}),_.setupLights(S.useLegacyLights),B.traverse(function(se){const ye=se.material;if(ye)if(Array.isArray(ye))for(let Ze=0;Ze<ye.length;Ze++){const ot=ye[Ze];ve(ot,B,se)}else ve(ye,B,se)}),w.pop(),_=null};let Un=null;function ri(B){Un&&Un(B)}function on(){ar.stop()}function ii(){ar.start()}const ar=new GO;ar.setAnimationLoop(ri),typeof self<"u"&&ar.setContext(self),this.setAnimationLoop=function(B){Un=B,ee.setAnimationLoop(B),B===null?ar.stop():ar.start()},ee.addEventListener("sessionstart",on),ee.addEventListener("sessionend",ii),this.render=function(B,ae){if(ae!==void 0&&ae.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(M===!0)return;B.matrixWorldAutoUpdate===!0&&B.updateMatrixWorld(),ae.parent===null&&ae.matrixWorldAutoUpdate===!0&&ae.updateMatrixWorld(),ee.enabled===!0&&ee.isPresenting===!0&&(ee.cameraAutoUpdate===!0&&ee.updateCamera(ae),ae=ee.getCamera()),B.isScene===!0&&B.onBeforeRender(S,B,ae,L),_=be.get(B,w.length),_.init(),w.push(_),ke.multiplyMatrices(ae.projectionMatrix,ae.matrixWorldInverse),Ce.setFromProjectionMatrix(ke),ie=this.localClippingEnabled,ge=Te.init(this.clippingPlanes,ie),x=Se.get(B,m.length),x.init(),m.push(x),Ih(B,ae,0,S.sortObjects),x.finish(),S.sortObjects===!0&&x.sort(D,$),this.info.render.frame++,ge===!0&&Te.beginShadows();const ve=_.state.shadowsArray;if(Ne.render(ve,B,ae),ge===!0&&Te.endShadows(),this.info.autoReset===!0&&this.info.reset(),pe.render(x,B),_.setupLights(S.useLegacyLights),ae.isArrayCamera){const se=ae.cameras;for(let ye=0,Ze=se.length;ye<Ze;ye++){const ot=se[ye];Nh(x,B,ot,ot.viewport)}}else Nh(x,B,ae);L!==null&&(He.updateMultisampleRenderTarget(L),He.updateRenderTargetMipmap(L)),B.isScene===!0&&B.onAfterRender(S,B,ae),Be.resetDefaultState(),k=-1,C=null,w.pop(),w.length>0?_=w[w.length-1]:_=null,m.pop(),m.length>0?x=m[m.length-1]:x=null};function Ih(B,ae,ve,se){if(B.visible===!1)return;if(B.layers.test(ae.layers)){if(B.isGroup)ve=B.renderOrder;else if(B.isLOD)B.autoUpdate===!0&&B.update(ae);else if(B.isLight)_.pushLight(B),B.castShadow&&_.pushShadow(B);else if(B.isSprite){if(!B.frustumCulled||Ce.intersectsSprite(B)){se&&Pe.setFromMatrixPosition(B.matrixWorld).applyMatrix4(ke);const ot=I.update(B),ct=B.material;ct.visible&&x.push(B,ot,ct,ve,Pe.z,null)}}else if((B.isMesh||B.isLine||B.isPoints)&&(!B.frustumCulled||Ce.intersectsObject(B))){const ot=I.update(B),ct=B.material;if(se&&(B.boundingSphere!==void 0?(B.boundingSphere===null&&B.computeBoundingSphere(),Pe.copy(B.boundingSphere.center)):(ot.boundingSphere===null&&ot.computeBoundingSphere(),Pe.copy(ot.boundingSphere.center)),Pe.applyMatrix4(B.matrixWorld).applyMatrix4(ke)),Array.isArray(ct)){const ut=ot.groups;for(let Tt=0,dt=ut.length;Tt<dt;Tt++){const ft=ut[Tt],nn=ct[ft.materialIndex];nn&&nn.visible&&x.push(B,ot,nn,ve,Pe.z,ft)}}else ct.visible&&x.push(B,ot,ct,ve,Pe.z,null)}}const Ze=B.children;for(let ot=0,ct=Ze.length;ot<ct;ot++)Ih(Ze[ot],ae,ve,se)}function Nh(B,ae,ve,se){const ye=B.opaque,Ze=B.transmissive,ot=B.transparent;_.setupLightsView(ve),ge===!0&&Te.setGlobalState(S.clippingPlanes,ve),Ze.length>0&&Dh(ye,Ze,ae,ve),se&&we.viewport(A.copy(se)),ye.length>0&&Ro(ye,ae,ve),Ze.length>0&&Ro(Ze,ae,ve),ot.length>0&&Ro(ot,ae,ve),we.buffers.depth.setTest(!0),we.buffers.depth.setMask(!0),we.buffers.color.setMask(!0),we.setPolygonOffset(!1)}function Dh(B,ae,ve,se){const ye=Re.isWebGL2;ce===null&&(ce=new ps(1,1,{generateMipmaps:!0,type:ue.has("EXT_color_buffer_half_float")?xu:_o,minFilter:Sa,samples:ye?4:0})),S.getDrawingBufferSize(fe),ye?ce.setSize(fe.x,fe.y):ce.setSize(Zg(fe.x),Zg(fe.y));const Ze=S.getRenderTarget();S.setRenderTarget(ce),S.getClearColor(F),G=S.getClearAlpha(),G<1&&S.setClearColor(16777215,.5),S.clear();const ot=S.toneMapping;S.toneMapping=us,Ro(B,ve,se),He.updateMultisampleRenderTarget(ce),He.updateRenderTargetMipmap(ce);let ct=!1;for(let ut=0,Tt=ae.length;ut<Tt;ut++){const dt=ae[ut],ft=dt.object,nn=dt.geometry,an=dt.material,si=dt.group;if(an.side===as&&ft.layers.test(se.layers)){const oi=an.side;an.side=zr,an.needsUpdate=!0,Uh(ft,ve,se,nn,an,si),an.side=oi,an.needsUpdate=!0,ct=!0}}ct===!0&&(He.updateMultisampleRenderTarget(ce),He.updateRenderTargetMipmap(ce)),S.setRenderTarget(Ze),S.setClearColor(F,G),S.toneMapping=ot}function Ro(B,ae,ve){const se=ae.isScene===!0?ae.overrideMaterial:null;for(let ye=0,Ze=B.length;ye<Ze;ye++){const ot=B[ye],ct=ot.object,ut=ot.geometry,Tt=se===null?ot.material:se,dt=ot.group;ct.layers.test(ve.layers)&&Uh(ct,ae,ve,ut,Tt,dt)}}function Uh(B,ae,ve,se,ye,Ze){B.onBeforeRender(S,ae,ve,se,ye,Ze),B.modelViewMatrix.multiplyMatrices(ve.matrixWorldInverse,B.matrixWorld),B.normalMatrix.getNormalMatrix(B.modelViewMatrix),ye.onBeforeRender(S,ae,ve,se,B,Ze),ye.transparent===!0&&ye.side===as&&ye.forceSinglePass===!1?(ye.side=zr,ye.needsUpdate=!0,S.renderBufferDirect(ve,ae,se,ye,B,Ze),ye.side=To,ye.needsUpdate=!0,S.renderBufferDirect(ve,ae,se,ye,B,Ze),ye.side=as):S.renderBufferDirect(ve,ae,se,ye,B,Ze),B.onAfterRender(S,ae,ve,se,ye,Ze)}function _s(B,ae,ve){ae.isScene!==!0&&(ae=Ue);const se=ze.get(B),ye=_.state.lights,Ze=_.state.shadowsArray,ot=ye.state.version,ct=ne.getParameters(B,ye.state,Ze,ae,ve),ut=ne.getProgramCacheKey(ct);let Tt=se.programs;se.environment=B.isMeshStandardMaterial?ae.environment:null,se.fog=ae.fog,se.envMap=(B.isMeshStandardMaterial?rt:Ke).get(B.envMap||se.environment),Tt===void 0&&(B.addEventListener("dispose",$e),Tt=new Map,se.programs=Tt);let dt=Tt.get(ut);if(dt!==void 0){if(se.currentProgram===dt&&se.lightsStateVersion===ot)return Fh(B,ct),dt}else ct.uniforms=ne.getUniforms(B),B.onBuild(ve,ct,S),B.onBeforeCompile(ct,S),dt=ne.acquireProgram(ct,ut),Tt.set(ut,dt),se.uniforms=ct.uniforms;const ft=se.uniforms;(!B.isShaderMaterial&&!B.isRawShaderMaterial||B.clipping===!0)&&(ft.clippingPlanes=Te.uniform),Fh(B,ct),se.needsLights=ry(B),se.lightsStateVersion=ot,se.needsLights&&(ft.ambientLightColor.value=ye.state.ambient,ft.lightProbe.value=ye.state.probe,ft.directionalLights.value=ye.state.directional,ft.directionalLightShadows.value=ye.state.directionalShadow,ft.spotLights.value=ye.state.spot,ft.spotLightShadows.value=ye.state.spotShadow,ft.rectAreaLights.value=ye.state.rectArea,ft.ltc_1.value=ye.state.rectAreaLTC1,ft.ltc_2.value=ye.state.rectAreaLTC2,ft.pointLights.value=ye.state.point,ft.pointLightShadows.value=ye.state.pointShadow,ft.hemisphereLights.value=ye.state.hemi,ft.directionalShadowMap.value=ye.state.directionalShadowMap,ft.directionalShadowMatrix.value=ye.state.directionalShadowMatrix,ft.spotShadowMap.value=ye.state.spotShadowMap,ft.spotLightMatrix.value=ye.state.spotLightMatrix,ft.spotLightMap.value=ye.state.spotLightMap,ft.pointShadowMap.value=ye.state.pointShadowMap,ft.pointShadowMatrix.value=ye.state.pointShadowMatrix);const nn=dt.getUniforms(),an=fg.seqWithValue(nn.seq,ft);return se.currentProgram=dt,se.uniformsList=an,dt}function Fh(B,ae){const ve=ze.get(B);ve.outputColorSpace=ae.outputColorSpace,ve.instancing=ae.instancing,ve.skinning=ae.skinning,ve.morphTargets=ae.morphTargets,ve.morphNormals=ae.morphNormals,ve.morphColors=ae.morphColors,ve.morphTargetsCount=ae.morphTargetsCount,ve.numClippingPlanes=ae.numClippingPlanes,ve.numIntersection=ae.numClipIntersection,ve.vertexAlphas=ae.vertexAlphas,ve.vertexTangents=ae.vertexTangents,ve.toneMapping=ae.toneMapping}function ty(B,ae,ve,se,ye){ae.isScene!==!0&&(ae=Ue),He.resetTextureUnits();const Ze=ae.fog,ot=se.isMeshStandardMaterial?ae.environment:null,ct=L===null?S.outputColorSpace:L.isXRRenderTarget===!0?L.texture.colorSpace:hs,ut=(se.isMeshStandardMaterial?rt:Ke).get(se.envMap||ot),Tt=se.vertexColors===!0&&!!ve.attributes.color&&ve.attributes.color.itemSize===4,dt=!!ve.attributes.tangent&&(!!se.normalMap||se.anisotropy>0),ft=!!ve.morphAttributes.position,nn=!!ve.morphAttributes.normal,an=!!ve.morphAttributes.color,si=se.toneMapped?S.toneMapping:us,oi=ve.morphAttributes.position||ve.morphAttributes.normal||ve.morphAttributes.color,Zt=oi!==void 0?oi.length:0,gt=ze.get(se),Xt=_.state.lights;if(ge===!0&&(ie===!0||B!==C)){const gr=B===C&&se.id===k;Te.setState(se,B,gr)}let ht=!1;se.version===gt.__version?(gt.needsLights&&gt.lightsStateVersion!==Xt.state.version||gt.outputColorSpace!==ct||ye.isInstancedMesh&&gt.instancing===!1||!ye.isInstancedMesh&&gt.instancing===!0||ye.isSkinnedMesh&&gt.skinning===!1||!ye.isSkinnedMesh&&gt.skinning===!0||gt.envMap!==ut||se.fog===!0&&gt.fog!==Ze||gt.numClippingPlanes!==void 0&&(gt.numClippingPlanes!==Te.numPlanes||gt.numIntersection!==Te.numIntersection)||gt.vertexAlphas!==Tt||gt.vertexTangents!==dt||gt.morphTargets!==ft||gt.morphNormals!==nn||gt.morphColors!==an||gt.toneMapping!==si||Re.isWebGL2===!0&&gt.morphTargetsCount!==Zt)&&(ht=!0):(ht=!0,gt.__version=se.version);let mr=gt.currentProgram;ht===!0&&(mr=_s(se,ae,ye));let Gn=!1,Fn=!1,qi=!1;const Sn=mr.getUniforms(),bn=gt.uniforms;if(we.useProgram(mr.program)&&(Gn=!0,Fn=!0,qi=!0),se.id!==k&&(k=se.id,Fn=!0),Gn||C!==B){if(Sn.setValue(j,"projectionMatrix",B.projectionMatrix),Re.logarithmicDepthBuffer&&Sn.setValue(j,"logDepthBufFC",2/(Math.log(B.far+1)/Math.LN2)),C!==B&&(C=B,Fn=!0,qi=!0),se.isShaderMaterial||se.isMeshPhongMaterial||se.isMeshToonMaterial||se.isMeshStandardMaterial||se.envMap){const gr=Sn.map.cameraPosition;gr!==void 0&&gr.setValue(j,Pe.setFromMatrixPosition(B.matrixWorld))}(se.isMeshPhongMaterial||se.isMeshToonMaterial||se.isMeshLambertMaterial||se.isMeshBasicMaterial||se.isMeshStandardMaterial||se.isShaderMaterial)&&Sn.setValue(j,"isOrthographic",B.isOrthographicCamera===!0),(se.isMeshPhongMaterial||se.isMeshToonMaterial||se.isMeshLambertMaterial||se.isMeshBasicMaterial||se.isMeshStandardMaterial||se.isShaderMaterial||se.isShadowMaterial||ye.isSkinnedMesh)&&Sn.setValue(j,"viewMatrix",B.matrixWorldInverse)}if(ye.isSkinnedMesh){Sn.setOptional(j,ye,"bindMatrix"),Sn.setOptional(j,ye,"bindMatrixInverse");const gr=ye.skeleton;gr&&(Re.floatVertexTextures?(gr.boneTexture===null&&gr.computeBoneTexture(),Sn.setValue(j,"boneTexture",gr.boneTexture,He),Sn.setValue(j,"boneTextureSize",gr.boneTextureSize)):console.warn("THREE.WebGLRenderer: SkinnedMesh can only be used with WebGL 2. With WebGL 1 OES_texture_float and vertex textures support is required."))}const Po=ve.morphAttributes;if((Po.position!==void 0||Po.normal!==void 0||Po.color!==void 0&&Re.isWebGL2===!0)&&K.update(ye,ve,mr),(Fn||gt.receiveShadow!==ye.receiveShadow)&&(gt.receiveShadow=ye.receiveShadow,Sn.setValue(j,"receiveShadow",ye.receiveShadow)),se.isMeshGouraudMaterial&&se.envMap!==null&&(bn.envMap.value=ut,bn.flipEnvMap.value=ut.isCubeTexture&&ut.isRenderTargetTexture===!1?-1:1),Fn&&(Sn.setValue(j,"toneMappingExposure",S.toneMappingExposure),gt.needsLights&&ny(bn,qi),Ze&&se.fog===!0&&xe.refreshFogUniforms(bn,Ze),xe.refreshMaterialUniforms(bn,se,J,Z,ce),fg.upload(j,gt.uniformsList,bn,He)),se.isShaderMaterial&&se.uniformsNeedUpdate===!0&&(fg.upload(j,gt.uniformsList,bn,He),se.uniformsNeedUpdate=!1),se.isSpriteMaterial&&Sn.setValue(j,"center",ye.center),Sn.setValue(j,"modelViewMatrix",ye.modelViewMatrix),Sn.setValue(j,"normalMatrix",ye.normalMatrix),Sn.setValue(j,"modelMatrix",ye.matrixWorld),se.isShaderMaterial||se.isRawShaderMaterial){const gr=se.uniformsGroups;for(let jl=0,Hl=gr.length;jl<Hl;jl++)if(Re.isWebGL2){const Wu=gr[jl];st.update(Wu,mr),st.bind(Wu,mr)}else console.warn("THREE.WebGLRenderer: Uniform Buffer Objects can only be used with WebGL 2.")}return mr}function ny(B,ae){B.ambientLightColor.needsUpdate=ae,B.lightProbe.needsUpdate=ae,B.directionalLights.needsUpdate=ae,B.directionalLightShadows.needsUpdate=ae,B.pointLights.needsUpdate=ae,B.pointLightShadows.needsUpdate=ae,B.spotLights.needsUpdate=ae,B.spotLightShadows.needsUpdate=ae,B.rectAreaLights.needsUpdate=ae,B.hemisphereLights.needsUpdate=ae}function ry(B){return B.isMeshLambertMaterial||B.isMeshToonMaterial||B.isMeshPhongMaterial||B.isMeshStandardMaterial||B.isShadowMaterial||B.isShaderMaterial&&B.lights===!0}this.getActiveCubeFace=function(){return R},this.getActiveMipmapLevel=function(){return P},this.getRenderTarget=function(){return L},this.setRenderTargetTextures=function(B,ae,ve){ze.get(B.texture).__webglTexture=ae,ze.get(B.depthTexture).__webglTexture=ve;const se=ze.get(B);se.__hasExternalTextures=!0,se.__hasExternalTextures&&(se.__autoAllocateDepthBuffer=ve===void 0,se.__autoAllocateDepthBuffer||ue.has("WEBGL_multisampled_render_to_texture")===!0&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),se.__useRenderToTexture=!1))},this.setRenderTargetFramebuffer=function(B,ae){const ve=ze.get(B);ve.__webglFramebuffer=ae,ve.__useDefaultFramebuffer=ae===void 0},this.setRenderTarget=function(B,ae=0,ve=0){L=B,R=ae,P=ve;let se=!0,ye=null,Ze=!1,ot=!1;if(B){const ut=ze.get(B);ut.__useDefaultFramebuffer!==void 0?(we.bindFramebuffer(j.FRAMEBUFFER,null),se=!1):ut.__webglFramebuffer===void 0?He.setupRenderTarget(B):ut.__hasExternalTextures&&He.rebindTextures(B,ze.get(B.texture).__webglTexture,ze.get(B.depthTexture).__webglTexture);const Tt=B.texture;(Tt.isData3DTexture||Tt.isDataArrayTexture||Tt.isCompressedArrayTexture)&&(ot=!0);const dt=ze.get(B).__webglFramebuffer;B.isWebGLCubeRenderTarget?(ye=dt[ae],Ze=!0):Re.isWebGL2&&B.samples>0&&He.useMultisampledRTT(B)===!1?ye=ze.get(B).__webglMultisampledFramebuffer:ye=dt,A.copy(B.viewport),U.copy(B.scissor),W=B.scissorTest}else A.copy(q).multiplyScalar(J).floor(),U.copy(Y).multiplyScalar(J).floor(),W=Q;if(we.bindFramebuffer(j.FRAMEBUFFER,ye)&&Re.drawBuffers&&se&&we.drawBuffers(B,ye),we.viewport(A),we.scissor(U),we.setScissorTest(W),Ze){const ut=ze.get(B.texture);j.framebufferTexture2D(j.FRAMEBUFFER,j.COLOR_ATTACHMENT0,j.TEXTURE_CUBE_MAP_POSITIVE_X+ae,ut.__webglTexture,ve)}else if(ot){const ut=ze.get(B.texture),Tt=ae||0;j.framebufferTextureLayer(j.FRAMEBUFFER,j.COLOR_ATTACHMENT0,ut.__webglTexture,ve||0,Tt)}k=-1},this.readRenderTargetPixels=function(B,ae,ve,se,ye,Ze,ot){if(!(B&&B.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let ct=ze.get(B).__webglFramebuffer;if(B.isWebGLCubeRenderTarget&&ot!==void 0&&(ct=ct[ot]),ct){we.bindFramebuffer(j.FRAMEBUFFER,ct);try{const ut=B.texture,Tt=ut.format,dt=ut.type;if(Tt!==mi&&Oe.convert(Tt)!==j.getParameter(j.IMPLEMENTATION_COLOR_READ_FORMAT)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}const ft=dt===xu&&(ue.has("EXT_color_buffer_half_float")||Re.isWebGL2&&ue.has("EXT_color_buffer_float"));if(dt!==_o&&Oe.convert(dt)!==j.getParameter(j.IMPLEMENTATION_COLOR_READ_TYPE)&&!(dt===Ds&&(Re.isWebGL2||ue.has("OES_texture_float")||ue.has("WEBGL_color_buffer_float")))&&!ft){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}ae>=0&&ae<=B.width-se&&ve>=0&&ve<=B.height-ye&&j.readPixels(ae,ve,se,ye,Oe.convert(Tt),Oe.convert(dt),Ze)}finally{const ut=L!==null?ze.get(L).__webglFramebuffer:null;we.bindFramebuffer(j.FRAMEBUFFER,ut)}}},this.copyFramebufferToTexture=function(B,ae,ve=0){const se=Math.pow(2,-ve),ye=Math.floor(ae.image.width*se),Ze=Math.floor(ae.image.height*se);He.setTexture2D(ae,0),j.copyTexSubImage2D(j.TEXTURE_2D,ve,0,0,B.x,B.y,ye,Ze),we.unbindTexture()},this.copyTextureToTexture=function(B,ae,ve,se=0){const ye=ae.image.width,Ze=ae.image.height,ot=Oe.convert(ve.format),ct=Oe.convert(ve.type);He.setTexture2D(ve,0),j.pixelStorei(j.UNPACK_FLIP_Y_WEBGL,ve.flipY),j.pixelStorei(j.UNPACK_PREMULTIPLY_ALPHA_WEBGL,ve.premultiplyAlpha),j.pixelStorei(j.UNPACK_ALIGNMENT,ve.unpackAlignment),ae.isDataTexture?j.texSubImage2D(j.TEXTURE_2D,se,B.x,B.y,ye,Ze,ot,ct,ae.image.data):ae.isCompressedTexture?j.compressedTexSubImage2D(j.TEXTURE_2D,se,B.x,B.y,ae.mipmaps[0].width,ae.mipmaps[0].height,ot,ae.mipmaps[0].data):j.texSubImage2D(j.TEXTURE_2D,se,B.x,B.y,ot,ct,ae.image),se===0&&ve.generateMipmaps&&j.generateMipmap(j.TEXTURE_2D),we.unbindTexture()},this.copyTextureToTexture3D=function(B,ae,ve,se,ye=0){if(S.isWebGL1Renderer){console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.");return}const Ze=B.max.x-B.min.x+1,ot=B.max.y-B.min.y+1,ct=B.max.z-B.min.z+1,ut=Oe.convert(se.format),Tt=Oe.convert(se.type);let dt;if(se.isData3DTexture)He.setTexture3D(se,0),dt=j.TEXTURE_3D;else if(se.isDataArrayTexture)He.setTexture2DArray(se,0),dt=j.TEXTURE_2D_ARRAY;else{console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");return}j.pixelStorei(j.UNPACK_FLIP_Y_WEBGL,se.flipY),j.pixelStorei(j.UNPACK_PREMULTIPLY_ALPHA_WEBGL,se.premultiplyAlpha),j.pixelStorei(j.UNPACK_ALIGNMENT,se.unpackAlignment);const ft=j.getParameter(j.UNPACK_ROW_LENGTH),nn=j.getParameter(j.UNPACK_IMAGE_HEIGHT),an=j.getParameter(j.UNPACK_SKIP_PIXELS),si=j.getParameter(j.UNPACK_SKIP_ROWS),oi=j.getParameter(j.UNPACK_SKIP_IMAGES),Zt=ve.isCompressedTexture?ve.mipmaps[0]:ve.image;j.pixelStorei(j.UNPACK_ROW_LENGTH,Zt.width),j.pixelStorei(j.UNPACK_IMAGE_HEIGHT,Zt.height),j.pixelStorei(j.UNPACK_SKIP_PIXELS,B.min.x),j.pixelStorei(j.UNPACK_SKIP_ROWS,B.min.y),j.pixelStorei(j.UNPACK_SKIP_IMAGES,B.min.z),ve.isDataTexture||ve.isData3DTexture?j.texSubImage3D(dt,ye,ae.x,ae.y,ae.z,Ze,ot,ct,ut,Tt,Zt.data):ve.isCompressedArrayTexture?(console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: untested support for compressed srcTexture."),j.compressedTexSubImage3D(dt,ye,ae.x,ae.y,ae.z,Ze,ot,ct,ut,Zt.data)):j.texSubImage3D(dt,ye,ae.x,ae.y,ae.z,Ze,ot,ct,ut,Tt,Zt),j.pixelStorei(j.UNPACK_ROW_LENGTH,ft),j.pixelStorei(j.UNPACK_IMAGE_HEIGHT,nn),j.pixelStorei(j.UNPACK_SKIP_PIXELS,an),j.pixelStorei(j.UNPACK_SKIP_ROWS,si),j.pixelStorei(j.UNPACK_SKIP_IMAGES,oi),ye===0&&se.generateMipmaps&&j.generateMipmap(dt),we.unbindTexture()},this.initTexture=function(B){B.isCubeTexture?He.setTextureCube(B,0):B.isData3DTexture?He.setTexture3D(B,0):B.isDataArrayTexture||B.isCompressedArrayTexture?He.setTexture2DArray(B,0):He.setTexture2D(B,0),we.unbindTexture()},this.resetState=function(){R=0,P=0,L=null,we.reset(),Be.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return Us}get physicallyCorrectLights(){return console.warn("THREE.WebGLRenderer: the property .physicallyCorrectLights has been removed. Set renderer.useLegacyLights instead."),!this.useLegacyLights}set physicallyCorrectLights(e){console.warn("THREE.WebGLRenderer: the property .physicallyCorrectLights has been removed. Set renderer.useLegacyLights instead."),this.useLegacyLights=!e}get outputEncoding(){return console.warn("THREE.WebGLRenderer: Property .outputEncoding has been removed. Use .outputColorSpace instead."),this.outputColorSpace===_t?js:q0}set outputEncoding(e){console.warn("THREE.WebGLRenderer: Property .outputEncoding has been removed. Use .outputColorSpace instead."),this.outputColorSpace=e===js?_t:hs}}class QO extends Ob{}QO.prototype.isWebGL1Renderer=!0;class Z0{constructor(e,t=25e-5){this.isFogExp2=!0,this.name="",this.color=new Ye(e),this.density=t}clone(){return new Z0(this.color,this.density)}toJSON(){return{type:"FogExp2",color:this.color.getHex(),density:this.density}}}class Q0{constructor(e,t=1,r=1e3){this.isFog=!0,this.name="",this.color=new Ye(e),this.near=t,this.far=r}clone(){return new Q0(this.color,this.near,this.far)}toJSON(){return{type:"Fog",color:this.color.getHex(),near:this.near,far:this.far}}}class kb extends Vt{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,t){return super.copy(e,t),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const t=super.toJSON(e);return this.fog!==null&&(t.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(t.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(t.object.backgroundIntensity=this.backgroundIntensity),t}}class ev{constructor(e,t){this.isInterleavedBuffer=!0,this.array=e,this.stride=t,this.count=e!==void 0?e.length/t:0,this.usage=Uf,this.updateRange={offset:0,count:-1},this.version=0,this.uuid=_i()}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,t,r){e*=this.stride,r*=t.stride;for(let i=0,s=this.stride;i<s;i++)this.array[e+i]=t.array[r+i];return this}set(e,t=0){return this.array.set(e,t),this}clone(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=_i()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const t=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),r=new this.constructor(t,this.stride);return r.setUsage(this.usage),r}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=_i()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const Ir=new z;class Pl{constructor(e,t,r,i=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=t,this.offset=r,this.normalized=i}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let t=0,r=this.data.count;t<r;t++)Ir.fromBufferAttribute(this,t),Ir.applyMatrix4(e),this.setXYZ(t,Ir.x,Ir.y,Ir.z);return this}applyNormalMatrix(e){for(let t=0,r=this.count;t<r;t++)Ir.fromBufferAttribute(this,t),Ir.applyNormalMatrix(e),this.setXYZ(t,Ir.x,Ir.y,Ir.z);return this}transformDirection(e){for(let t=0,r=this.count;t<r;t++)Ir.fromBufferAttribute(this,t),Ir.transformDirection(e),this.setXYZ(t,Ir.x,Ir.y,Ir.z);return this}setX(e,t){return this.normalized&&(t=Mt(t,this.array)),this.data.array[e*this.data.stride+this.offset]=t,this}setY(e,t){return this.normalized&&(t=Mt(t,this.array)),this.data.array[e*this.data.stride+this.offset+1]=t,this}setZ(e,t){return this.normalized&&(t=Mt(t,this.array)),this.data.array[e*this.data.stride+this.offset+2]=t,this}setW(e,t){return this.normalized&&(t=Mt(t,this.array)),this.data.array[e*this.data.stride+this.offset+3]=t,this}getX(e){let t=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(t=yi(t,this.array)),t}getY(e){let t=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(t=yi(t,this.array)),t}getZ(e){let t=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(t=yi(t,this.array)),t}getW(e){let t=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(t=yi(t,this.array)),t}setXY(e,t,r){return e=e*this.data.stride+this.offset,this.normalized&&(t=Mt(t,this.array),r=Mt(r,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=r,this}setXYZ(e,t,r,i){return e=e*this.data.stride+this.offset,this.normalized&&(t=Mt(t,this.array),r=Mt(r,this.array),i=Mt(i,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=r,this.data.array[e+2]=i,this}setXYZW(e,t,r,i,s){return e=e*this.data.stride+this.offset,this.normalized&&(t=Mt(t,this.array),r=Mt(r,this.array),i=Mt(i,this.array),s=Mt(s,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=r,this.data.array[e+2]=i,this.data.array[e+3]=s,this}clone(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const t=[];for(let r=0;r<this.count;r++){const i=r*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)t.push(this.data.array[i+s])}return new Ut(new this.array.constructor(t),this.itemSize,this.normalized)}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new Pl(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const t=[];for(let r=0;r<this.count;r++){const i=r*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)t.push(this.data.array[i+s])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:t,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class Ib extends pr{constructor(e){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new Ye(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}let yc;const Sd=new z,xc=new z,_c=new z,wc=new _e,bd=new _e,ek=new pt,mm=new z,Ed=new z,gm=new z,MC=new _e,n_=new _e,TC=new _e;class tk extends Vt{constructor(e){if(super(),this.isSprite=!0,this.type="Sprite",yc===void 0){yc=new mt;const t=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),r=new ev(t,5);yc.setIndex([0,1,2,0,2,3]),yc.setAttribute("position",new Pl(r,3,0,!1)),yc.setAttribute("uv",new Pl(r,2,3,!1))}this.geometry=yc,this.material=e!==void 0?e:new Ib,this.center=new _e(.5,.5)}raycast(e,t){e.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),xc.setFromMatrixScale(this.matrixWorld),ek.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),_c.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&xc.multiplyScalar(-_c.z);const r=this.material.rotation;let i,s;r!==0&&(s=Math.cos(r),i=Math.sin(r));const o=this.center;vm(mm.set(-.5,-.5,0),_c,o,xc,i,s),vm(Ed.set(.5,-.5,0),_c,o,xc,i,s),vm(gm.set(.5,.5,0),_c,o,xc,i,s),MC.set(0,0),n_.set(1,0),TC.set(1,1);let a=e.ray.intersectTriangle(mm,Ed,gm,!1,Sd);if(a===null&&(vm(Ed.set(-.5,.5,0),_c,o,xc,i,s),n_.set(0,1),a=e.ray.intersectTriangle(mm,gm,Ed,!1,Sd),a===null))return;const l=e.ray.origin.distanceTo(Sd);l<e.near||l>e.far||t.push({distance:l,point:Sd.clone(),uv:Jr.getInterpolation(Sd,mm,Ed,gm,MC,n_,TC,new _e),face:null,object:this})}copy(e,t){return super.copy(e,t),e.center!==void 0&&this.center.copy(e.center),this.material=e.material,this}}function vm(n,e,t,r,i,s){wc.subVectors(n,t).addScalar(.5).multiply(r),i!==void 0?(bd.x=s*wc.x-i*wc.y,bd.y=i*wc.x+s*wc.y):bd.copy(wc),n.copy(e),n.x+=bd.x,n.y+=bd.y,n.applyMatrix4(ek)}const ym=new z,CC=new z;class nk extends Vt{constructor(){super(),this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]},isLOD:{value:!0}}),this.autoUpdate=!0}copy(e){super.copy(e,!1);const t=e.levels;for(let r=0,i=t.length;r<i;r++){const s=t[r];this.addLevel(s.object.clone(),s.distance,s.hysteresis)}return this.autoUpdate=e.autoUpdate,this}addLevel(e,t=0,r=0){t=Math.abs(t);const i=this.levels;let s;for(s=0;s<i.length&&!(t<i[s].distance);s++);return i.splice(s,0,{distance:t,hysteresis:r,object:e}),this.add(e),this}getCurrentLevel(){return this._currentLevel}getObjectForDistance(e){const t=this.levels;if(t.length>0){let r,i;for(r=1,i=t.length;r<i;r++){let s=t[r].distance;if(t[r].object.visible&&(s-=s*t[r].hysteresis),e<s)break}return t[r-1].object}return null}raycast(e,t){if(this.levels.length>0){ym.setFromMatrixPosition(this.matrixWorld);const i=e.ray.origin.distanceTo(ym);this.getObjectForDistance(i).raycast(e,t)}}update(e){const t=this.levels;if(t.length>1){ym.setFromMatrixPosition(e.matrixWorld),CC.setFromMatrixPosition(this.matrixWorld);const r=ym.distanceTo(CC)/e.zoom;t[0].object.visible=!0;let i,s;for(i=1,s=t.length;i<s;i++){let o=t[i].distance;if(t[i].object.visible&&(o-=o*t[i].hysteresis),r>=o)t[i-1].object.visible=!1,t[i].object.visible=!0;else break}for(this._currentLevel=i-1;i<s;i++)t[i].object.visible=!1}}toJSON(e){const t=super.toJSON(e);this.autoUpdate===!1&&(t.object.autoUpdate=!1),t.object.levels=[];const r=this.levels;for(let i=0,s=r.length;i<s;i++){const o=r[i];t.object.levels.push({object:o.object.uuid,distance:o.distance,hysteresis:o.hysteresis})}return t}}const AC=new z,RC=new qt,PC=new qt,xH=new z,LC=new pt,Sc=new z,r_=new vs,OC=new pt,i_=new Iu;class rk extends ir{constructor(e,t){super(e,t),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new pt,this.bindMatrixInverse=new pt,this.boundingBox=null,this.boundingSphere=null}computeBoundingBox(){const e=this.geometry;this.boundingBox===null&&(this.boundingBox=new Mi),this.boundingBox.makeEmpty();const t=e.getAttribute("position");for(let r=0;r<t.count;r++)Sc.fromBufferAttribute(t,r),this.applyBoneTransform(r,Sc),this.boundingBox.expandByPoint(Sc)}computeBoundingSphere(){const e=this.geometry;this.boundingSphere===null&&(this.boundingSphere=new vs),this.boundingSphere.makeEmpty();const t=e.getAttribute("position");for(let r=0;r<t.count;r++)Sc.fromBufferAttribute(t,r),this.applyBoneTransform(r,Sc),this.boundingSphere.expandByPoint(Sc)}copy(e,t){return super.copy(e,t),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}raycast(e,t){const r=this.material,i=this.matrixWorld;r!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),r_.copy(this.boundingSphere),r_.applyMatrix4(i),e.ray.intersectsSphere(r_)!==!1&&(OC.copy(i).invert(),i_.copy(e.ray).applyMatrix4(OC),!(this.boundingBox!==null&&i_.intersectsBox(this.boundingBox)===!1)&&this._computeIntersections(e,t,i_)))}getVertexPosition(e,t){return super.getVertexPosition(e,t),this.applyBoneTransform(e,t),t}bind(e,t){this.skeleton=e,t===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),t=this.matrixWorld),this.bindMatrix.copy(t),this.bindMatrixInverse.copy(t).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const e=new qt,t=this.geometry.attributes.skinWeight;for(let r=0,i=t.count;r<i;r++){e.fromBufferAttribute(t,r);const s=1/e.manhattanLength();s!==1/0?e.multiplyScalar(s):e.set(1,0,0,0),t.setXYZW(r,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.bindMode==="attached"?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode==="detached"?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}applyBoneTransform(e,t){const r=this.skeleton,i=this.geometry;RC.fromBufferAttribute(i.attributes.skinIndex,e),PC.fromBufferAttribute(i.attributes.skinWeight,e),AC.copy(t).applyMatrix4(this.bindMatrix),t.set(0,0,0);for(let s=0;s<4;s++){const o=PC.getComponent(s);if(o!==0){const a=RC.getComponent(s);LC.multiplyMatrices(r.bones[a].matrixWorld,r.boneInverses[a]),t.addScaledVector(xH.copy(AC).applyMatrix4(LC),o)}}return t.applyMatrix4(this.bindMatrixInverse)}boneTransform(e,t){return console.warn("THREE.SkinnedMesh: .boneTransform() was renamed to .applyBoneTransform() in r151."),this.applyBoneTransform(e,t)}}class Nb extends Vt{constructor(){super(),this.isBone=!0,this.type="Bone"}}class lu extends Ln{constructor(e=null,t=1,r=1,i,s,o,a,l,u=In,f=In,h,p){super(null,o,a,l,u,f,i,s,h,p),this.isDataTexture=!0,this.image={data:e,width:t,height:r},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const kC=new pt,_H=new pt;class tv{constructor(e=[],t=[]){this.uuid=_i(),this.bones=e.slice(0),this.boneInverses=t,this.boneMatrices=null,this.boneTexture=null,this.boneTextureSize=0,this.init()}init(){const e=this.bones,t=this.boneInverses;if(this.boneMatrices=new Float32Array(e.length*16),t.length===0)this.calculateInverses();else if(e.length!==t.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let r=0,i=this.bones.length;r<i;r++)this.boneInverses.push(new pt)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,t=this.bones.length;e<t;e++){const r=new pt;this.bones[e]&&r.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(r)}}pose(){for(let e=0,t=this.bones.length;e<t;e++){const r=this.bones[e];r&&r.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,t=this.bones.length;e<t;e++){const r=this.bones[e];r&&(r.parent&&r.parent.isBone?(r.matrix.copy(r.parent.matrixWorld).invert(),r.matrix.multiply(r.matrixWorld)):r.matrix.copy(r.matrixWorld),r.matrix.decompose(r.position,r.quaternion,r.scale))}}update(){const e=this.bones,t=this.boneInverses,r=this.boneMatrices,i=this.boneTexture;for(let s=0,o=e.length;s<o;s++){const a=e[s]?e[s].matrixWorld:_H;kC.multiplyMatrices(a,t[s]),kC.toArray(r,s*16)}i!==null&&(i.needsUpdate=!0)}clone(){return new tv(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(this.bones.length*4);e=FO(e),e=Math.max(e,4);const t=new Float32Array(e*e*4);t.set(this.boneMatrices);const r=new lu(t,e,e,mi,Ds);return r.needsUpdate=!0,this.boneMatrices=t,this.boneTexture=r,this.boneTextureSize=e,this}getBoneByName(e){for(let t=0,r=this.bones.length;t<r;t++){const i=this.bones[t];if(i.name===e)return i}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,t){this.uuid=e.uuid;for(let r=0,i=e.bones.length;r<i;r++){const s=e.bones[r];let o=t[s];o===void 0&&(console.warn("THREE.Skeleton: No bone found with UUID:",s),o=new Nb),this.bones.push(o),this.boneInverses.push(new pt().fromArray(e.boneInverses[r]))}return this.init(),this}toJSON(){const e={metadata:{version:4.6,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;const t=this.bones,r=this.boneInverses;for(let i=0,s=t.length;i<s;i++){const o=t[i];e.bones.push(o.uuid);const a=r[i];e.boneInverses.push(a.toArray())}return e}}class Su extends Ut{constructor(e,t,r,i=1){super(e,t,r),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=i}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}const bc=new pt,IC=new pt,xm=[],NC=new Mi,wH=new pt,Md=new ir,Td=new vs;class ik extends ir{constructor(e,t,r){super(e,t),this.isInstancedMesh=!0,this.instanceMatrix=new Su(new Float32Array(r*16),16),this.instanceColor=null,this.count=r,this.boundingBox=null,this.boundingSphere=null;for(let i=0;i<r;i++)this.setMatrixAt(i,wH)}computeBoundingBox(){const e=this.geometry,t=this.count;this.boundingBox===null&&(this.boundingBox=new Mi),e.boundingBox===null&&e.computeBoundingBox(),this.boundingBox.makeEmpty();for(let r=0;r<t;r++)this.getMatrixAt(r,bc),NC.copy(e.boundingBox).applyMatrix4(bc),this.boundingBox.union(NC)}computeBoundingSphere(){const e=this.geometry,t=this.count;this.boundingSphere===null&&(this.boundingSphere=new vs),e.boundingSphere===null&&e.computeBoundingSphere(),this.boundingSphere.makeEmpty();for(let r=0;r<t;r++)this.getMatrixAt(r,bc),Td.copy(e.boundingSphere).applyMatrix4(bc),this.boundingSphere.union(Td)}copy(e,t){return super.copy(e,t),this.instanceMatrix.copy(e.instanceMatrix),e.instanceColor!==null&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}getColorAt(e,t){t.fromArray(this.instanceColor.array,e*3)}getMatrixAt(e,t){t.fromArray(this.instanceMatrix.array,e*16)}raycast(e,t){const r=this.matrixWorld,i=this.count;if(Md.geometry=this.geometry,Md.material=this.material,Md.material!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),Td.copy(this.boundingSphere),Td.applyMatrix4(r),e.ray.intersectsSphere(Td)!==!1))for(let s=0;s<i;s++){this.getMatrixAt(s,bc),IC.multiplyMatrices(r,bc),Md.matrixWorld=IC,Md.raycast(e,xm);for(let o=0,a=xm.length;o<a;o++){const l=xm[o];l.instanceId=s,l.object=this,t.push(l)}xm.length=0}}setColorAt(e,t){this.instanceColor===null&&(this.instanceColor=new Su(new Float32Array(this.instanceMatrix.count*3),3)),t.toArray(this.instanceColor.array,e*3)}setMatrixAt(e,t){t.toArray(this.instanceMatrix.array,e*16)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"})}}class Hr extends pr{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new Ye(16777215),this.map=null,this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}const DC=new z,UC=new z,FC=new pt,s_=new Iu,_m=new vs;class ba extends Vt{constructor(e=new mt,t=new Hr){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(e.index===null){const t=e.attributes.position,r=[0];for(let i=1,s=t.count;i<s;i++)DC.fromBufferAttribute(t,i-1),UC.fromBufferAttribute(t,i),r[i]=r[i-1],r[i]+=DC.distanceTo(UC);e.setAttribute("lineDistance",new et(r,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,t){const r=this.geometry,i=this.matrixWorld,s=e.params.Line.threshold,o=r.drawRange;if(r.boundingSphere===null&&r.computeBoundingSphere(),_m.copy(r.boundingSphere),_m.applyMatrix4(i),_m.radius+=s,e.ray.intersectsSphere(_m)===!1)return;FC.copy(i).invert(),s_.copy(e.ray).applyMatrix4(FC);const a=s/((this.scale.x+this.scale.y+this.scale.z)/3),l=a*a,u=new z,f=new z,h=new z,p=new z,g=this.isLineSegments?2:1,v=r.index,_=r.attributes.position;if(v!==null){const m=Math.max(0,o.start),w=Math.min(v.count,o.start+o.count);for(let S=m,M=w-1;S<M;S+=g){const R=v.getX(S),P=v.getX(S+1);if(u.fromBufferAttribute(_,R),f.fromBufferAttribute(_,P),s_.distanceSqToSegment(u,f,p,h)>l)continue;p.applyMatrix4(this.matrixWorld);const k=e.ray.origin.distanceTo(p);k<e.near||k>e.far||t.push({distance:k,point:h.clone().applyMatrix4(this.matrixWorld),index:S,face:null,faceIndex:null,object:this})}}else{const m=Math.max(0,o.start),w=Math.min(_.count,o.start+o.count);for(let S=m,M=w-1;S<M;S+=g){if(u.fromBufferAttribute(_,S),f.fromBufferAttribute(_,S+1),s_.distanceSqToSegment(u,f,p,h)>l)continue;p.applyMatrix4(this.matrixWorld);const P=e.ray.origin.distanceTo(p);P<e.near||P>e.far||t.push({distance:P,point:h.clone().applyMatrix4(this.matrixWorld),index:S,face:null,faceIndex:null,object:this})}}}updateMorphTargets(){const t=this.geometry.morphAttributes,r=Object.keys(t);if(r.length>0){const i=t[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=i.length;s<o;s++){const a=i[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}}const zC=new z,BC=new z;class $s extends ba{constructor(e,t){super(e,t),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(e.index===null){const t=e.attributes.position,r=[];for(let i=0,s=t.count;i<s;i+=2)zC.fromBufferAttribute(t,i),BC.fromBufferAttribute(t,i+1),r[i]=i===0?0:r[i-1],r[i+1]=r[i]+zC.distanceTo(BC);e.setAttribute("lineDistance",new et(r,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class sk extends ba{constructor(e,t){super(e,t),this.isLineLoop=!0,this.type="LineLoop"}}class Db extends pr{constructor(e){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new Ye(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}const jC=new pt,Sw=new Iu,wm=new vs,Sm=new z;class ok extends Vt{constructor(e=new mt,t=new Db){super(),this.isPoints=!0,this.type="Points",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=e.material,this.geometry=e.geometry,this}raycast(e,t){const r=this.geometry,i=this.matrixWorld,s=e.params.Points.threshold,o=r.drawRange;if(r.boundingSphere===null&&r.computeBoundingSphere(),wm.copy(r.boundingSphere),wm.applyMatrix4(i),wm.radius+=s,e.ray.intersectsSphere(wm)===!1)return;jC.copy(i).invert(),Sw.copy(e.ray).applyMatrix4(jC);const a=s/((this.scale.x+this.scale.y+this.scale.z)/3),l=a*a,u=r.index,h=r.attributes.position;if(u!==null){const p=Math.max(0,o.start),g=Math.min(u.count,o.start+o.count);for(let v=p,x=g;v<x;v++){const _=u.getX(v);Sm.fromBufferAttribute(h,_),HC(Sm,_,l,i,e,t,this)}}else{const p=Math.max(0,o.start),g=Math.min(h.count,o.start+o.count);for(let v=p,x=g;v<x;v++)Sm.fromBufferAttribute(h,v),HC(Sm,v,l,i,e,t,this)}}updateMorphTargets(){const t=this.geometry.morphAttributes,r=Object.keys(t);if(r.length>0){const i=t[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=i.length;s<o;s++){const a=i[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}}function HC(n,e,t,r,i,s,o){const a=Sw.distanceSqToPoint(n);if(a<t){const l=new z;Sw.closestPointToPoint(n,l),l.applyMatrix4(r);const u=i.ray.origin.distanceTo(l);if(u<i.near||u>i.far)return;s.push({distance:u,distanceToRay:Math.sqrt(a),point:l,index:e,face:null,object:o})}}class SH extends Ln{constructor(e,t,r,i,s,o,a,l,u){super(e,t,r,i,s,o,a,l,u),this.isVideoTexture=!0,this.minFilter=o!==void 0?o:Dn,this.magFilter=s!==void 0?s:Dn,this.generateMipmaps=!1;const f=this;function h(){f.needsUpdate=!0,e.requestVideoFrameCallback(h)}"requestVideoFrameCallback"in e&&e.requestVideoFrameCallback(h)}clone(){return new this.constructor(this.image).copy(this)}update(){const e=this.image;"requestVideoFrameCallback"in e===!1&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}class bH extends Ln{constructor(e,t){super({width:e,height:t}),this.isFramebufferTexture=!0,this.magFilter=In,this.minFilter=In,this.generateMipmaps=!1,this.needsUpdate=!0}}class Ub extends Ln{constructor(e,t,r,i,s,o,a,l,u,f,h,p){super(null,o,a,l,u,f,i,s,h,p),this.isCompressedTexture=!0,this.image={width:t,height:r},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}}class EH extends Ub{constructor(e,t,r,i,s,o){super(e,t,r,s,o),this.isCompressedArrayTexture=!0,this.image.depth=i,this.wrapR=Ar}}class MH extends Ln{constructor(e,t,r,i,s,o,a,l,u){super(e,t,r,i,s,o,a,l,u),this.isCanvasTexture=!0,this.needsUpdate=!0}}class ys{constructor(){this.type="Curve",this.arcLengthDivisions=200}getPoint(){return console.warn("THREE.Curve: .getPoint() not implemented."),null}getPointAt(e,t){const r=this.getUtoTmapping(e);return this.getPoint(r,t)}getPoints(e=5){const t=[];for(let r=0;r<=e;r++)t.push(this.getPoint(r/e));return t}getSpacedPoints(e=5){const t=[];for(let r=0;r<=e;r++)t.push(this.getPointAt(r/e));return t}getLength(){const e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const t=[];let r,i=this.getPoint(0),s=0;t.push(0);for(let o=1;o<=e;o++)r=this.getPoint(o/e),s+=r.distanceTo(i),t.push(s),i=r;return this.cacheArcLengths=t,t}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,t){const r=this.getLengths();let i=0;const s=r.length;let o;t?o=t:o=e*r[s-1];let a=0,l=s-1,u;for(;a<=l;)if(i=Math.floor(a+(l-a)/2),u=r[i]-o,u<0)a=i+1;else if(u>0)l=i-1;else{l=i;break}if(i=l,r[i]===o)return i/(s-1);const f=r[i],p=r[i+1]-f,g=(o-f)/p;return(i+g)/(s-1)}getTangent(e,t){let i=e-1e-4,s=e+1e-4;i<0&&(i=0),s>1&&(s=1);const o=this.getPoint(i),a=this.getPoint(s),l=t||(o.isVector2?new _e:new z);return l.copy(a).sub(o).normalize(),l}getTangentAt(e,t){const r=this.getUtoTmapping(e);return this.getTangent(r,t)}computeFrenetFrames(e,t){const r=new z,i=[],s=[],o=[],a=new z,l=new pt;for(let g=0;g<=e;g++){const v=g/e;i[g]=this.getTangentAt(v,new z)}s[0]=new z,o[0]=new z;let u=Number.MAX_VALUE;const f=Math.abs(i[0].x),h=Math.abs(i[0].y),p=Math.abs(i[0].z);f<=u&&(u=f,r.set(1,0,0)),h<=u&&(u=h,r.set(0,1,0)),p<=u&&r.set(0,0,1),a.crossVectors(i[0],r).normalize(),s[0].crossVectors(i[0],a),o[0].crossVectors(i[0],s[0]);for(let g=1;g<=e;g++){if(s[g]=s[g-1].clone(),o[g]=o[g-1].clone(),a.crossVectors(i[g-1],i[g]),a.length()>Number.EPSILON){a.normalize();const v=Math.acos(Pn(i[g-1].dot(i[g]),-1,1));s[g].applyMatrix4(l.makeRotationAxis(a,v))}o[g].crossVectors(i[g],s[g])}if(t===!0){let g=Math.acos(Pn(s[0].dot(s[e]),-1,1));g/=e,i[0].dot(a.crossVectors(s[0],s[e]))>0&&(g=-g);for(let v=1;v<=e;v++)s[v].applyMatrix4(l.makeRotationAxis(i[v],g*v)),o[v].crossVectors(i[v],s[v])}return{tangents:i,normals:s,binormals:o}}clone(){return new this.constructor().copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){const e={metadata:{version:4.6,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}class nv extends ys{constructor(e=0,t=0,r=1,i=1,s=0,o=Math.PI*2,a=!1,l=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=e,this.aY=t,this.xRadius=r,this.yRadius=i,this.aStartAngle=s,this.aEndAngle=o,this.aClockwise=a,this.aRotation=l}getPoint(e,t){const r=t||new _e,i=Math.PI*2;let s=this.aEndAngle-this.aStartAngle;const o=Math.abs(s)<Number.EPSILON;for(;s<0;)s+=i;for(;s>i;)s-=i;s<Number.EPSILON&&(o?s=0:s=i),this.aClockwise===!0&&!o&&(s===i?s=-i:s=s-i);const a=this.aStartAngle+e*s;let l=this.aX+this.xRadius*Math.cos(a),u=this.aY+this.yRadius*Math.sin(a);if(this.aRotation!==0){const f=Math.cos(this.aRotation),h=Math.sin(this.aRotation),p=l-this.aX,g=u-this.aY;l=p*f-g*h+this.aX,u=p*h+g*f+this.aY}return r.set(l,u)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){const e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}class ak extends nv{constructor(e,t,r,i,s,o){super(e,t,r,r,i,s,o),this.isArcCurve=!0,this.type="ArcCurve"}}function Fb(){let n=0,e=0,t=0,r=0;function i(s,o,a,l){n=s,e=a,t=-3*s+3*o-2*a-l,r=2*s-2*o+a+l}return{initCatmullRom:function(s,o,a,l,u){i(o,a,u*(a-s),u*(l-o))},initNonuniformCatmullRom:function(s,o,a,l,u,f,h){let p=(o-s)/u-(a-s)/(u+f)+(a-o)/f,g=(a-o)/f-(l-o)/(f+h)+(l-a)/h;p*=f,g*=f,i(o,a,p,g)},calc:function(s){const o=s*s,a=o*s;return n+e*s+t*o+r*a}}}const bm=new z,o_=new Fb,a_=new Fb,l_=new Fb;class lk extends ys{constructor(e=[],t=!1,r="centripetal",i=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=e,this.closed=t,this.curveType=r,this.tension=i}getPoint(e,t=new z){const r=t,i=this.points,s=i.length,o=(s-(this.closed?0:1))*e;let a=Math.floor(o),l=o-a;this.closed?a+=a>0?0:(Math.floor(Math.abs(a)/s)+1)*s:l===0&&a===s-1&&(a=s-2,l=1);let u,f;this.closed||a>0?u=i[(a-1)%s]:(bm.subVectors(i[0],i[1]).add(i[0]),u=bm);const h=i[a%s],p=i[(a+1)%s];if(this.closed||a+2<s?f=i[(a+2)%s]:(bm.subVectors(i[s-1],i[s-2]).add(i[s-1]),f=bm),this.curveType==="centripetal"||this.curveType==="chordal"){const g=this.curveType==="chordal"?.5:.25;let v=Math.pow(u.distanceToSquared(h),g),x=Math.pow(h.distanceToSquared(p),g),_=Math.pow(p.distanceToSquared(f),g);x<1e-4&&(x=1),v<1e-4&&(v=x),_<1e-4&&(_=x),o_.initNonuniformCatmullRom(u.x,h.x,p.x,f.x,v,x,_),a_.initNonuniformCatmullRom(u.y,h.y,p.y,f.y,v,x,_),l_.initNonuniformCatmullRom(u.z,h.z,p.z,f.z,v,x,_)}else this.curveType==="catmullrom"&&(o_.initCatmullRom(u.x,h.x,p.x,f.x,this.tension),a_.initCatmullRom(u.y,h.y,p.y,f.y,this.tension),l_.initCatmullRom(u.z,h.z,p.z,f.z,this.tension));return r.set(o_.calc(l),a_.calc(l),l_.calc(l)),r}copy(e){super.copy(e),this.points=[];for(let t=0,r=e.points.length;t<r;t++){const i=e.points[t];this.points.push(i.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,r=this.points.length;t<r;t++){const i=this.points[t];e.points.push(i.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,r=e.points.length;t<r;t++){const i=e.points[t];this.points.push(new z().fromArray(i))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}function VC(n,e,t,r,i){const s=(r-e)*.5,o=(i-t)*.5,a=n*n,l=n*a;return(2*t-2*r+s+o)*l+(-3*t+3*r-2*s-o)*a+s*n+t}function TH(n,e){const t=1-n;return t*t*e}function CH(n,e){return 2*(1-n)*n*e}function AH(n,e){return n*n*e}function sf(n,e,t,r){return TH(n,e)+CH(n,t)+AH(n,r)}function RH(n,e){const t=1-n;return t*t*t*e}function PH(n,e){const t=1-n;return 3*t*t*n*e}function LH(n,e){return 3*(1-n)*n*n*e}function OH(n,e){return n*n*n*e}function of(n,e,t,r,i){return RH(n,e)+PH(n,t)+LH(n,r)+OH(n,i)}class zb extends ys{constructor(e=new _e,t=new _e,r=new _e,i=new _e){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=e,this.v1=t,this.v2=r,this.v3=i}getPoint(e,t=new _e){const r=t,i=this.v0,s=this.v1,o=this.v2,a=this.v3;return r.set(of(e,i.x,s.x,o.x,a.x),of(e,i.y,s.y,o.y,a.y)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class ck extends ys{constructor(e=new z,t=new z,r=new z,i=new z){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=e,this.v1=t,this.v2=r,this.v3=i}getPoint(e,t=new z){const r=t,i=this.v0,s=this.v1,o=this.v2,a=this.v3;return r.set(of(e,i.x,s.x,o.x,a.x),of(e,i.y,s.y,o.y,a.y),of(e,i.z,s.z,o.z,a.z)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class rv extends ys{constructor(e=new _e,t=new _e){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=e,this.v2=t}getPoint(e,t=new _e){const r=t;return e===1?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(e).add(this.v1)),r}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t=new _e){return t.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,t){return this.getTangent(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class uk extends ys{constructor(e=new z,t=new z){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=e,this.v2=t}getPoint(e,t=new z){const r=t;return e===1?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(e).add(this.v1)),r}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t=new z){return t.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,t){return this.getTangent(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class Bb extends ys{constructor(e=new _e,t=new _e,r=new _e){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=e,this.v1=t,this.v2=r}getPoint(e,t=new _e){const r=t,i=this.v0,s=this.v1,o=this.v2;return r.set(sf(e,i.x,s.x,o.x),sf(e,i.y,s.y,o.y)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class jb extends ys{constructor(e=new z,t=new z,r=new z){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=e,this.v1=t,this.v2=r}getPoint(e,t=new z){const r=t,i=this.v0,s=this.v1,o=this.v2;return r.set(sf(e,i.x,s.x,o.x),sf(e,i.y,s.y,o.y),sf(e,i.z,s.z,o.z)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class Hb extends ys{constructor(e=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=e}getPoint(e,t=new _e){const r=t,i=this.points,s=(i.length-1)*e,o=Math.floor(s),a=s-o,l=i[o===0?o:o-1],u=i[o],f=i[o>i.length-2?i.length-1:o+1],h=i[o>i.length-3?i.length-1:o+2];return r.set(VC(a,l.x,u.x,f.x,h.x),VC(a,l.y,u.y,f.y,h.y)),r}copy(e){super.copy(e),this.points=[];for(let t=0,r=e.points.length;t<r;t++){const i=e.points[t];this.points.push(i.clone())}return this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,r=this.points.length;t<r;t++){const i=this.points[t];e.points.push(i.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,r=e.points.length;t<r;t++){const i=e.points[t];this.points.push(new _e().fromArray(i))}return this}}var Vb=Object.freeze({__proto__:null,ArcCurve:ak,CatmullRomCurve3:lk,CubicBezierCurve:zb,CubicBezierCurve3:ck,EllipseCurve:nv,LineCurve:rv,LineCurve3:uk,QuadraticBezierCurve:Bb,QuadraticBezierCurve3:jb,SplineCurve:Hb});class dk extends ys{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){const e=this.curves[0].getPoint(0),t=this.curves[this.curves.length-1].getPoint(1);e.equals(t)||this.curves.push(new rv(t,e))}getPoint(e,t){const r=e*this.getLength(),i=this.getCurveLengths();let s=0;for(;s<i.length;){if(i[s]>=r){const o=i[s]-r,a=this.curves[s],l=a.getLength(),u=l===0?0:1-o/l;return a.getPointAt(u,t)}s++}return null}getLength(){const e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let t=0;for(let r=0,i=this.curves.length;r<i;r++)t+=this.curves[r].getLength(),e.push(t);return this.cacheLengths=e,e}getSpacedPoints(e=40){const t=[];for(let r=0;r<=e;r++)t.push(this.getPoint(r/e));return this.autoClose&&t.push(t[0]),t}getPoints(e=12){const t=[];let r;for(let i=0,s=this.curves;i<s.length;i++){const o=s[i],a=o.isEllipseCurve?e*2:o.isLineCurve||o.isLineCurve3?1:o.isSplineCurve?e*o.points.length:e,l=o.getPoints(a);for(let u=0;u<l.length;u++){const f=l[u];r&&r.equals(f)||(t.push(f),r=f)}}return this.autoClose&&t.length>1&&!t[t.length-1].equals(t[0])&&t.push(t[0]),t}copy(e){super.copy(e),this.curves=[];for(let t=0,r=e.curves.length;t<r;t++){const i=e.curves[t];this.curves.push(i.clone())}return this.autoClose=e.autoClose,this}toJSON(){const e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let t=0,r=this.curves.length;t<r;t++){const i=this.curves[t];e.curves.push(i.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let t=0,r=e.curves.length;t<r;t++){const i=e.curves[t];this.curves.push(new Vb[i.type]().fromJSON(i))}return this}}class Bf extends dk{constructor(e){super(),this.type="Path",this.currentPoint=new _e,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let t=1,r=e.length;t<r;t++)this.lineTo(e[t].x,e[t].y);return this}moveTo(e,t){return this.currentPoint.set(e,t),this}lineTo(e,t){const r=new rv(this.currentPoint.clone(),new _e(e,t));return this.curves.push(r),this.currentPoint.set(e,t),this}quadraticCurveTo(e,t,r,i){const s=new Bb(this.currentPoint.clone(),new _e(e,t),new _e(r,i));return this.curves.push(s),this.currentPoint.set(r,i),this}bezierCurveTo(e,t,r,i,s,o){const a=new zb(this.currentPoint.clone(),new _e(e,t),new _e(r,i),new _e(s,o));return this.curves.push(a),this.currentPoint.set(s,o),this}splineThru(e){const t=[this.currentPoint.clone()].concat(e),r=new Hb(t);return this.curves.push(r),this.currentPoint.copy(e[e.length-1]),this}arc(e,t,r,i,s,o){const a=this.currentPoint.x,l=this.currentPoint.y;return this.absarc(e+a,t+l,r,i,s,o),this}absarc(e,t,r,i,s,o){return this.absellipse(e,t,r,r,i,s,o),this}ellipse(e,t,r,i,s,o,a,l){const u=this.currentPoint.x,f=this.currentPoint.y;return this.absellipse(e+u,t+f,r,i,s,o,a,l),this}absellipse(e,t,r,i,s,o,a,l){const u=new nv(e,t,r,i,s,o,a,l);if(this.curves.length>0){const h=u.getPoint(0);h.equals(this.currentPoint)||this.lineTo(h.x,h.y)}this.curves.push(u);const f=u.getPoint(1);return this.currentPoint.copy(f),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){const e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}}class vh extends mt{constructor(e=[new _e(0,-.5),new _e(.5,0),new _e(0,.5)],t=12,r=0,i=Math.PI*2){super(),this.type="LatheGeometry",this.parameters={points:e,segments:t,phiStart:r,phiLength:i},t=Math.floor(t),i=Pn(i,0,Math.PI*2);const s=[],o=[],a=[],l=[],u=[],f=1/t,h=new z,p=new _e,g=new z,v=new z,x=new z;let _=0,m=0;for(let w=0;w<=e.length-1;w++)switch(w){case 0:_=e[w+1].x-e[w].x,m=e[w+1].y-e[w].y,g.x=m*1,g.y=-_,g.z=m*0,x.copy(g),g.normalize(),l.push(g.x,g.y,g.z);break;case e.length-1:l.push(x.x,x.y,x.z);break;default:_=e[w+1].x-e[w].x,m=e[w+1].y-e[w].y,g.x=m*1,g.y=-_,g.z=m*0,v.copy(g),g.x+=x.x,g.y+=x.y,g.z+=x.z,g.normalize(),l.push(g.x,g.y,g.z),x.copy(v)}for(let w=0;w<=t;w++){const S=r+w*f*i,M=Math.sin(S),R=Math.cos(S);for(let P=0;P<=e.length-1;P++){h.x=e[P].x*M,h.y=e[P].y,h.z=e[P].x*R,o.push(h.x,h.y,h.z),p.x=w/t,p.y=P/(e.length-1),a.push(p.x,p.y);const L=l[3*P+0]*M,k=l[3*P+1],C=l[3*P+0]*R;u.push(L,k,C)}}for(let w=0;w<t;w++)for(let S=0;S<e.length-1;S++){const M=S+w*e.length,R=M,P=M+e.length,L=M+e.length+1,k=M+1;s.push(R,P,k),s.push(L,k,P)}this.setIndex(s),this.setAttribute("position",new et(o,3)),this.setAttribute("uv",new et(a,2)),this.setAttribute("normal",new et(u,3))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new vh(e.points,e.segments,e.phiStart,e.phiLength)}}class iv extends vh{constructor(e=1,t=1,r=4,i=8){const s=new Bf;s.absarc(0,-t/2,e,Math.PI*1.5,0),s.absarc(0,t/2,e,0,Math.PI*.5),super(s.getPoints(r),i),this.type="CapsuleGeometry",this.parameters={radius:e,height:t,capSegments:r,radialSegments:i}}static fromJSON(e){return new iv(e.radius,e.length,e.capSegments,e.radialSegments)}}class sv extends mt{constructor(e=1,t=32,r=0,i=Math.PI*2){super(),this.type="CircleGeometry",this.parameters={radius:e,segments:t,thetaStart:r,thetaLength:i},t=Math.max(3,t);const s=[],o=[],a=[],l=[],u=new z,f=new _e;o.push(0,0,0),a.push(0,0,1),l.push(.5,.5);for(let h=0,p=3;h<=t;h++,p+=3){const g=r+h/t*i;u.x=e*Math.cos(g),u.y=e*Math.sin(g),o.push(u.x,u.y,u.z),a.push(0,0,1),f.x=(o[p]/e+1)/2,f.y=(o[p+1]/e+1)/2,l.push(f.x,f.y)}for(let h=1;h<=t;h++)s.push(h,h+1,0);this.setIndex(s),this.setAttribute("position",new et(o,3)),this.setAttribute("normal",new et(a,3)),this.setAttribute("uv",new et(l,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new sv(e.radius,e.segments,e.thetaStart,e.thetaLength)}}class Du extends mt{constructor(e=1,t=1,r=1,i=32,s=1,o=!1,a=0,l=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:t,height:r,radialSegments:i,heightSegments:s,openEnded:o,thetaStart:a,thetaLength:l};const u=this;i=Math.floor(i),s=Math.floor(s);const f=[],h=[],p=[],g=[];let v=0;const x=[],_=r/2;let m=0;w(),o===!1&&(e>0&&S(!0),t>0&&S(!1)),this.setIndex(f),this.setAttribute("position",new et(h,3)),this.setAttribute("normal",new et(p,3)),this.setAttribute("uv",new et(g,2));function w(){const M=new z,R=new z;let P=0;const L=(t-e)/r;for(let k=0;k<=s;k++){const C=[],A=k/s,U=A*(t-e)+e;for(let W=0;W<=i;W++){const F=W/i,G=F*l+a,X=Math.sin(G),Z=Math.cos(G);R.x=U*X,R.y=-A*r+_,R.z=U*Z,h.push(R.x,R.y,R.z),M.set(X,L,Z).normalize(),p.push(M.x,M.y,M.z),g.push(F,1-A),C.push(v++)}x.push(C)}for(let k=0;k<i;k++)for(let C=0;C<s;C++){const A=x[C][k],U=x[C+1][k],W=x[C+1][k+1],F=x[C][k+1];f.push(A,U,F),f.push(U,W,F),P+=6}u.addGroup(m,P,0),m+=P}function S(M){const R=v,P=new _e,L=new z;let k=0;const C=M===!0?e:t,A=M===!0?1:-1;for(let W=1;W<=i;W++)h.push(0,_*A,0),p.push(0,A,0),g.push(.5,.5),v++;const U=v;for(let W=0;W<=i;W++){const G=W/i*l+a,X=Math.cos(G),Z=Math.sin(G);L.x=C*Z,L.y=_*A,L.z=C*X,h.push(L.x,L.y,L.z),p.push(0,A,0),P.x=X*.5+.5,P.y=Z*.5*A+.5,g.push(P.x,P.y),v++}for(let W=0;W<i;W++){const F=R+W,G=U+W;M===!0?f.push(G,G+1,F):f.push(G+1,G,F),k+=3}u.addGroup(m,k,M===!0?1:2),m+=k}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Du(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class ov extends Du{constructor(e=1,t=1,r=32,i=1,s=!1,o=0,a=Math.PI*2){super(0,e,t,r,i,s,o,a),this.type="ConeGeometry",this.parameters={radius:e,height:t,radialSegments:r,heightSegments:i,openEnded:s,thetaStart:o,thetaLength:a}}static fromJSON(e){return new ov(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class Ra extends mt{constructor(e=[],t=[],r=1,i=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:t,radius:r,detail:i};const s=[],o=[];a(i),u(r),f(),this.setAttribute("position",new et(s,3)),this.setAttribute("normal",new et(s.slice(),3)),this.setAttribute("uv",new et(o,2)),i===0?this.computeVertexNormals():this.normalizeNormals();function a(w){const S=new z,M=new z,R=new z;for(let P=0;P<t.length;P+=3)g(t[P+0],S),g(t[P+1],M),g(t[P+2],R),l(S,M,R,w)}function l(w,S,M,R){const P=R+1,L=[];for(let k=0;k<=P;k++){L[k]=[];const C=w.clone().lerp(M,k/P),A=S.clone().lerp(M,k/P),U=P-k;for(let W=0;W<=U;W++)W===0&&k===P?L[k][W]=C:L[k][W]=C.clone().lerp(A,W/U)}for(let k=0;k<P;k++)for(let C=0;C<2*(P-k)-1;C++){const A=Math.floor(C/2);C%2===0?(p(L[k][A+1]),p(L[k+1][A]),p(L[k][A])):(p(L[k][A+1]),p(L[k+1][A+1]),p(L[k+1][A]))}}function u(w){const S=new z;for(let M=0;M<s.length;M+=3)S.x=s[M+0],S.y=s[M+1],S.z=s[M+2],S.normalize().multiplyScalar(w),s[M+0]=S.x,s[M+1]=S.y,s[M+2]=S.z}function f(){const w=new z;for(let S=0;S<s.length;S+=3){w.x=s[S+0],w.y=s[S+1],w.z=s[S+2];const M=_(w)/2/Math.PI+.5,R=m(w)/Math.PI+.5;o.push(M,1-R)}v(),h()}function h(){for(let w=0;w<o.length;w+=6){const S=o[w+0],M=o[w+2],R=o[w+4],P=Math.max(S,M,R),L=Math.min(S,M,R);P>.9&&L<.1&&(S<.2&&(o[w+0]+=1),M<.2&&(o[w+2]+=1),R<.2&&(o[w+4]+=1))}}function p(w){s.push(w.x,w.y,w.z)}function g(w,S){const M=w*3;S.x=e[M+0],S.y=e[M+1],S.z=e[M+2]}function v(){const w=new z,S=new z,M=new z,R=new z,P=new _e,L=new _e,k=new _e;for(let C=0,A=0;C<s.length;C+=9,A+=6){w.set(s[C+0],s[C+1],s[C+2]),S.set(s[C+3],s[C+4],s[C+5]),M.set(s[C+6],s[C+7],s[C+8]),P.set(o[A+0],o[A+1]),L.set(o[A+2],o[A+3]),k.set(o[A+4],o[A+5]),R.copy(w).add(S).add(M).divideScalar(3);const U=_(R);x(P,A+0,w,U),x(L,A+2,S,U),x(k,A+4,M,U)}}function x(w,S,M,R){R<0&&w.x===1&&(o[S]=w.x-1),M.x===0&&M.z===0&&(o[S]=R/2/Math.PI+.5)}function _(w){return Math.atan2(w.z,-w.x)}function m(w){return Math.atan2(-w.y,Math.sqrt(w.x*w.x+w.z*w.z))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Ra(e.vertices,e.indices,e.radius,e.details)}}class av extends Ra{constructor(e=1,t=0){const r=(1+Math.sqrt(5))/2,i=1/r,s=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-i,-r,0,-i,r,0,i,-r,0,i,r,-i,-r,0,-i,r,0,i,-r,0,i,r,0,-r,0,-i,r,0,-i,-r,0,i,r,0,i],o=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(s,o,e,t),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new av(e.radius,e.detail)}}const Em=new z,Mm=new z,c_=new z,Tm=new Jr;class fk extends mt{constructor(e=null,t=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:e,thresholdAngle:t},e!==null){const i=Math.pow(10,4),s=Math.cos(_l*t),o=e.getIndex(),a=e.getAttribute("position"),l=o?o.count:a.count,u=[0,0,0],f=["a","b","c"],h=new Array(3),p={},g=[];for(let v=0;v<l;v+=3){o?(u[0]=o.getX(v),u[1]=o.getX(v+1),u[2]=o.getX(v+2)):(u[0]=v,u[1]=v+1,u[2]=v+2);const{a:x,b:_,c:m}=Tm;if(x.fromBufferAttribute(a,u[0]),_.fromBufferAttribute(a,u[1]),m.fromBufferAttribute(a,u[2]),Tm.getNormal(c_),h[0]=`${Math.round(x.x*i)},${Math.round(x.y*i)},${Math.round(x.z*i)}`,h[1]=`${Math.round(_.x*i)},${Math.round(_.y*i)},${Math.round(_.z*i)}`,h[2]=`${Math.round(m.x*i)},${Math.round(m.y*i)},${Math.round(m.z*i)}`,!(h[0]===h[1]||h[1]===h[2]||h[2]===h[0]))for(let w=0;w<3;w++){const S=(w+1)%3,M=h[w],R=h[S],P=Tm[f[w]],L=Tm[f[S]],k=`${M}_${R}`,C=`${R}_${M}`;C in p&&p[C]?(c_.dot(p[C].normal)<=s&&(g.push(P.x,P.y,P.z),g.push(L.x,L.y,L.z)),p[C]=null):k in p||(p[k]={index0:u[w],index1:u[S],normal:c_.clone()})}}for(const v in p)if(p[v]){const{index0:x,index1:_}=p[v];Em.fromBufferAttribute(a,x),Mm.fromBufferAttribute(a,_),g.push(Em.x,Em.y,Em.z),g.push(Mm.x,Mm.y,Mm.z)}this.setAttribute("position",new et(g,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}class Sl extends Bf{constructor(e){super(e),this.uuid=_i(),this.type="Shape",this.holes=[]}getPointsHoles(e){const t=[];for(let r=0,i=this.holes.length;r<i;r++)t[r]=this.holes[r].getPoints(e);return t}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let t=0,r=e.holes.length;t<r;t++){const i=e.holes[t];this.holes.push(i.clone())}return this}toJSON(){const e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let t=0,r=this.holes.length;t<r;t++){const i=this.holes[t];e.holes.push(i.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let t=0,r=e.holes.length;t<r;t++){const i=e.holes[t];this.holes.push(new Bf().fromJSON(i))}return this}}const kH={triangulate:function(n,e,t=2){const r=e&&e.length,i=r?e[0]*t:n.length;let s=hk(n,0,i,t,!0);const o=[];if(!s||s.next===s.prev)return o;let a,l,u,f,h,p,g;if(r&&(s=FH(n,e,s,t)),n.length>80*t){a=u=n[0],l=f=n[1];for(let v=t;v<i;v+=t)h=n[v],p=n[v+1],h<a&&(a=h),p<l&&(l=p),h>u&&(u=h),p>f&&(f=p);g=Math.max(u-a,f-l),g=g!==0?32767/g:0}return jf(s,o,t,a,l,g,0),o}};function hk(n,e,t,r,i){let s,o;if(i===YH(n,e,t,r)>0)for(s=e;s<t;s+=r)o=WC(s,n[s],n[s+1],o);else for(s=t-r;s>=e;s-=r)o=WC(s,n[s],n[s+1],o);return o&&lv(o,o.next)&&(Vf(o),o=o.next),o}function Ll(n,e){if(!n)return n;e||(e=n);let t=n,r;do if(r=!1,!t.steiner&&(lv(t,t.next)||xn(t.prev,t,t.next)===0)){if(Vf(t),t=e=t.prev,t===t.next)break;r=!0}else t=t.next;while(r||t!==e);return e}function jf(n,e,t,r,i,s,o){if(!n)return;!o&&s&&VH(n,r,i,s);let a=n,l,u;for(;n.prev!==n.next;){if(l=n.prev,u=n.next,s?NH(n,r,i,s):IH(n)){e.push(l.i/t|0),e.push(n.i/t|0),e.push(u.i/t|0),Vf(n),n=u.next,a=u.next;continue}if(n=u,n===a){o?o===1?(n=DH(Ll(n),e,t),jf(n,e,t,r,i,s,2)):o===2&&UH(n,e,t,r,i,s):jf(Ll(n),e,t,r,i,s,1);break}}}function IH(n){const e=n.prev,t=n,r=n.next;if(xn(e,t,r)>=0)return!1;const i=e.x,s=t.x,o=r.x,a=e.y,l=t.y,u=r.y,f=i<s?i<o?i:o:s<o?s:o,h=a<l?a<u?a:u:l<u?l:u,p=i>s?i>o?i:o:s>o?s:o,g=a>l?a>u?a:u:l>u?l:u;let v=r.next;for(;v!==e;){if(v.x>=f&&v.x<=p&&v.y>=h&&v.y<=g&&eu(i,a,s,l,o,u,v.x,v.y)&&xn(v.prev,v,v.next)>=0)return!1;v=v.next}return!0}function NH(n,e,t,r){const i=n.prev,s=n,o=n.next;if(xn(i,s,o)>=0)return!1;const a=i.x,l=s.x,u=o.x,f=i.y,h=s.y,p=o.y,g=a<l?a<u?a:u:l<u?l:u,v=f<h?f<p?f:p:h<p?h:p,x=a>l?a>u?a:u:l>u?l:u,_=f>h?f>p?f:p:h>p?h:p,m=bw(g,v,e,t,r),w=bw(x,_,e,t,r);let S=n.prevZ,M=n.nextZ;for(;S&&S.z>=m&&M&&M.z<=w;){if(S.x>=g&&S.x<=x&&S.y>=v&&S.y<=_&&S!==i&&S!==o&&eu(a,f,l,h,u,p,S.x,S.y)&&xn(S.prev,S,S.next)>=0||(S=S.prevZ,M.x>=g&&M.x<=x&&M.y>=v&&M.y<=_&&M!==i&&M!==o&&eu(a,f,l,h,u,p,M.x,M.y)&&xn(M.prev,M,M.next)>=0))return!1;M=M.nextZ}for(;S&&S.z>=m;){if(S.x>=g&&S.x<=x&&S.y>=v&&S.y<=_&&S!==i&&S!==o&&eu(a,f,l,h,u,p,S.x,S.y)&&xn(S.prev,S,S.next)>=0)return!1;S=S.prevZ}for(;M&&M.z<=w;){if(M.x>=g&&M.x<=x&&M.y>=v&&M.y<=_&&M!==i&&M!==o&&eu(a,f,l,h,u,p,M.x,M.y)&&xn(M.prev,M,M.next)>=0)return!1;M=M.nextZ}return!0}function DH(n,e,t){let r=n;do{const i=r.prev,s=r.next.next;!lv(i,s)&&pk(i,r,r.next,s)&&Hf(i,s)&&Hf(s,i)&&(e.push(i.i/t|0),e.push(r.i/t|0),e.push(s.i/t|0),Vf(r),Vf(r.next),r=n=s),r=r.next}while(r!==n);return Ll(r)}function UH(n,e,t,r,i,s){let o=n;do{let a=o.next.next;for(;a!==o.prev;){if(o.i!==a.i&&$H(o,a)){let l=mk(o,a);o=Ll(o,o.next),l=Ll(l,l.next),jf(o,e,t,r,i,s,0),jf(l,e,t,r,i,s,0);return}a=a.next}o=o.next}while(o!==n)}function FH(n,e,t,r){const i=[];let s,o,a,l,u;for(s=0,o=e.length;s<o;s++)a=e[s]*r,l=s<o-1?e[s+1]*r:n.length,u=hk(n,a,l,r,!1),u===u.next&&(u.steiner=!0),i.push(GH(u));for(i.sort(zH),s=0;s<i.length;s++)t=BH(i[s],t);return t}function zH(n,e){return n.x-e.x}function BH(n,e){const t=jH(n,e);if(!t)return e;const r=mk(t,n);return Ll(r,r.next),Ll(t,t.next)}function jH(n,e){let t=e,r=-1/0,i;const s=n.x,o=n.y;do{if(o<=t.y&&o>=t.next.y&&t.next.y!==t.y){const p=t.x+(o-t.y)*(t.next.x-t.x)/(t.next.y-t.y);if(p<=s&&p>r&&(r=p,i=t.x<t.next.x?t:t.next,p===s))return i}t=t.next}while(t!==e);if(!i)return null;const a=i,l=i.x,u=i.y;let f=1/0,h;t=i;do s>=t.x&&t.x>=l&&s!==t.x&&eu(o<u?s:r,o,l,u,o<u?r:s,o,t.x,t.y)&&(h=Math.abs(o-t.y)/(s-t.x),Hf(t,n)&&(h<f||h===f&&(t.x>i.x||t.x===i.x&&HH(i,t)))&&(i=t,f=h)),t=t.next;while(t!==a);return i}function HH(n,e){return xn(n.prev,n,e.prev)<0&&xn(e.next,n,n.next)<0}function VH(n,e,t,r){let i=n;do i.z===0&&(i.z=bw(i.x,i.y,e,t,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next;while(i!==n);i.prevZ.nextZ=null,i.prevZ=null,WH(i)}function WH(n){let e,t,r,i,s,o,a,l,u=1;do{for(t=n,n=null,s=null,o=0;t;){for(o++,r=t,a=0,e=0;e<u&&(a++,r=r.nextZ,!!r);e++);for(l=u;a>0||l>0&&r;)a!==0&&(l===0||!r||t.z<=r.z)?(i=t,t=t.nextZ,a--):(i=r,r=r.nextZ,l--),s?s.nextZ=i:n=i,i.prevZ=s,s=i;t=r}s.nextZ=null,u*=2}while(o>1);return n}function bw(n,e,t,r,i){return n=(n-t)*i|0,e=(e-r)*i|0,n=(n|n<<8)&16711935,n=(n|n<<4)&252645135,n=(n|n<<2)&858993459,n=(n|n<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,n|e<<1}function GH(n){let e=n,t=n;do(e.x<t.x||e.x===t.x&&e.y<t.y)&&(t=e),e=e.next;while(e!==n);return t}function eu(n,e,t,r,i,s,o,a){return(i-o)*(e-a)>=(n-o)*(s-a)&&(n-o)*(r-a)>=(t-o)*(e-a)&&(t-o)*(s-a)>=(i-o)*(r-a)}function $H(n,e){return n.next.i!==e.i&&n.prev.i!==e.i&&!XH(n,e)&&(Hf(n,e)&&Hf(e,n)&&qH(n,e)&&(xn(n.prev,n,e.prev)||xn(n,e.prev,e))||lv(n,e)&&xn(n.prev,n,n.next)>0&&xn(e.prev,e,e.next)>0)}function xn(n,e,t){return(e.y-n.y)*(t.x-e.x)-(e.x-n.x)*(t.y-e.y)}function lv(n,e){return n.x===e.x&&n.y===e.y}function pk(n,e,t,r){const i=Am(xn(n,e,t)),s=Am(xn(n,e,r)),o=Am(xn(t,r,n)),a=Am(xn(t,r,e));return!!(i!==s&&o!==a||i===0&&Cm(n,t,e)||s===0&&Cm(n,r,e)||o===0&&Cm(t,n,r)||a===0&&Cm(t,e,r))}function Cm(n,e,t){return e.x<=Math.max(n.x,t.x)&&e.x>=Math.min(n.x,t.x)&&e.y<=Math.max(n.y,t.y)&&e.y>=Math.min(n.y,t.y)}function Am(n){return n>0?1:n<0?-1:0}function XH(n,e){let t=n;do{if(t.i!==n.i&&t.next.i!==n.i&&t.i!==e.i&&t.next.i!==e.i&&pk(t,t.next,n,e))return!0;t=t.next}while(t!==n);return!1}function Hf(n,e){return xn(n.prev,n,n.next)<0?xn(n,e,n.next)>=0&&xn(n,n.prev,e)>=0:xn(n,e,n.prev)<0||xn(n,n.next,e)<0}function qH(n,e){let t=n,r=!1;const i=(n.x+e.x)/2,s=(n.y+e.y)/2;do t.y>s!=t.next.y>s&&t.next.y!==t.y&&i<(t.next.x-t.x)*(s-t.y)/(t.next.y-t.y)+t.x&&(r=!r),t=t.next;while(t!==n);return r}function mk(n,e){const t=new Ew(n.i,n.x,n.y),r=new Ew(e.i,e.x,e.y),i=n.next,s=e.prev;return n.next=e,e.prev=n,t.next=i,i.prev=t,r.next=t,t.prev=r,s.next=r,r.prev=s,r}function WC(n,e,t,r){const i=new Ew(n,e,t);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function Vf(n){n.next.prev=n.prev,n.prev.next=n.next,n.prevZ&&(n.prevZ.nextZ=n.nextZ),n.nextZ&&(n.nextZ.prevZ=n.prevZ)}function Ew(n,e,t){this.i=n,this.x=e,this.y=t,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function YH(n,e,t,r){let i=0;for(let s=e,o=t-r;s<t;s+=r)i+=(n[o]-n[s])*(n[s+1]+n[o+1]),o=s;return i}class Hs{static area(e){const t=e.length;let r=0;for(let i=t-1,s=0;s<t;i=s++)r+=e[i].x*e[s].y-e[s].x*e[i].y;return r*.5}static isClockWise(e){return Hs.area(e)<0}static triangulateShape(e,t){const r=[],i=[],s=[];GC(e),$C(r,e);let o=e.length;t.forEach(GC);for(let l=0;l<t.length;l++)i.push(o),o+=t[l].length,$C(r,t[l]);const a=kH.triangulate(r,i);for(let l=0;l<a.length;l+=3)s.push(a.slice(l,l+3));return s}}function GC(n){const e=n.length;e>2&&n[e-1].equals(n[0])&&n.pop()}function $C(n,e){for(let t=0;t<e.length;t++)n.push(e[t].x),n.push(e[t].y)}class cv extends mt{constructor(e=new Sl([new _e(.5,.5),new _e(-.5,.5),new _e(-.5,-.5),new _e(.5,-.5)]),t={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:t},e=Array.isArray(e)?e:[e];const r=this,i=[],s=[];for(let a=0,l=e.length;a<l;a++){const u=e[a];o(u)}this.setAttribute("position",new et(i,3)),this.setAttribute("uv",new et(s,2)),this.computeVertexNormals();function o(a){const l=[],u=t.curveSegments!==void 0?t.curveSegments:12,f=t.steps!==void 0?t.steps:1,h=t.depth!==void 0?t.depth:1;let p=t.bevelEnabled!==void 0?t.bevelEnabled:!0,g=t.bevelThickness!==void 0?t.bevelThickness:.2,v=t.bevelSize!==void 0?t.bevelSize:g-.1,x=t.bevelOffset!==void 0?t.bevelOffset:0,_=t.bevelSegments!==void 0?t.bevelSegments:3;const m=t.extrudePath,w=t.UVGenerator!==void 0?t.UVGenerator:KH;let S,M=!1,R,P,L,k;m&&(S=m.getSpacedPoints(f),M=!0,p=!1,R=m.computeFrenetFrames(f,!1),P=new z,L=new z,k=new z),p||(_=0,g=0,v=0,x=0);const C=a.extractPoints(u);let A=C.shape;const U=C.holes;if(!Hs.isClockWise(A)){A=A.reverse();for(let j=0,Me=U.length;j<Me;j++){const ue=U[j];Hs.isClockWise(ue)&&(U[j]=ue.reverse())}}const F=Hs.triangulateShape(A,U),G=A;for(let j=0,Me=U.length;j<Me;j++){const ue=U[j];A=A.concat(ue)}function X(j,Me,ue){return Me||console.error("THREE.ExtrudeGeometry: vec does not exist"),j.clone().addScaledVector(Me,ue)}const Z=A.length,J=F.length;function D(j,Me,ue){let Re,we,We;const ze=j.x-Me.x,He=j.y-Me.y,Ke=ue.x-j.x,rt=ue.y-j.y,Ft=ze*ze+He*He,H=ze*rt-He*Ke;if(Math.abs(H)>Number.EPSILON){const I=Math.sqrt(Ft),ne=Math.sqrt(Ke*Ke+rt*rt),xe=Me.x-He/I,Se=Me.y+ze/I,be=ue.x-rt/ne,Te=ue.y+Ke/ne,Ne=((be-xe)*rt-(Te-Se)*Ke)/(ze*rt-He*Ke);Re=xe+ze*Ne-j.x,we=Se+He*Ne-j.y;const pe=Re*Re+we*we;if(pe<=2)return new _e(Re,we);We=Math.sqrt(pe/2)}else{let I=!1;ze>Number.EPSILON?Ke>Number.EPSILON&&(I=!0):ze<-Number.EPSILON?Ke<-Number.EPSILON&&(I=!0):Math.sign(He)===Math.sign(rt)&&(I=!0),I?(Re=-He,we=ze,We=Math.sqrt(Ft)):(Re=ze,we=He,We=Math.sqrt(Ft/2))}return new _e(Re/We,we/We)}const $=[];for(let j=0,Me=G.length,ue=Me-1,Re=j+1;j<Me;j++,ue++,Re++)ue===Me&&(ue=0),Re===Me&&(Re=0),$[j]=D(G[j],G[ue],G[Re]);const q=[];let Y,Q=$.concat();for(let j=0,Me=U.length;j<Me;j++){const ue=U[j];Y=[];for(let Re=0,we=ue.length,We=we-1,ze=Re+1;Re<we;Re++,We++,ze++)We===we&&(We=0),ze===we&&(ze=0),Y[Re]=D(ue[Re],ue[We],ue[ze]);q.push(Y),Q=Q.concat(Y)}for(let j=0;j<_;j++){const Me=j/_,ue=g*Math.cos(Me*Math.PI/2),Re=v*Math.sin(Me*Math.PI/2)+x;for(let we=0,We=G.length;we<We;we++){const ze=X(G[we],$[we],Re);ke(ze.x,ze.y,-ue)}for(let we=0,We=U.length;we<We;we++){const ze=U[we];Y=q[we];for(let He=0,Ke=ze.length;He<Ke;He++){const rt=X(ze[He],Y[He],Re);ke(rt.x,rt.y,-ue)}}}const Ce=v+x;for(let j=0;j<Z;j++){const Me=p?X(A[j],Q[j],Ce):A[j];M?(L.copy(R.normals[0]).multiplyScalar(Me.x),P.copy(R.binormals[0]).multiplyScalar(Me.y),k.copy(S[0]).add(L).add(P),ke(k.x,k.y,k.z)):ke(Me.x,Me.y,0)}for(let j=1;j<=f;j++)for(let Me=0;Me<Z;Me++){const ue=p?X(A[Me],Q[Me],Ce):A[Me];M?(L.copy(R.normals[j]).multiplyScalar(ue.x),P.copy(R.binormals[j]).multiplyScalar(ue.y),k.copy(S[j]).add(L).add(P),ke(k.x,k.y,k.z)):ke(ue.x,ue.y,h/f*j)}for(let j=_-1;j>=0;j--){const Me=j/_,ue=g*Math.cos(Me*Math.PI/2),Re=v*Math.sin(Me*Math.PI/2)+x;for(let we=0,We=G.length;we<We;we++){const ze=X(G[we],$[we],Re);ke(ze.x,ze.y,h+ue)}for(let we=0,We=U.length;we<We;we++){const ze=U[we];Y=q[we];for(let He=0,Ke=ze.length;He<Ke;He++){const rt=X(ze[He],Y[He],Re);M?ke(rt.x,rt.y+S[f-1].y,S[f-1].x+ue):ke(rt.x,rt.y,h+ue)}}}ge(),ie();function ge(){const j=i.length/3;if(p){let Me=0,ue=Z*Me;for(let Re=0;Re<J;Re++){const we=F[Re];fe(we[2]+ue,we[1]+ue,we[0]+ue)}Me=f+_*2,ue=Z*Me;for(let Re=0;Re<J;Re++){const we=F[Re];fe(we[0]+ue,we[1]+ue,we[2]+ue)}}else{for(let Me=0;Me<J;Me++){const ue=F[Me];fe(ue[2],ue[1],ue[0])}for(let Me=0;Me<J;Me++){const ue=F[Me];fe(ue[0]+Z*f,ue[1]+Z*f,ue[2]+Z*f)}}r.addGroup(j,i.length/3-j,0)}function ie(){const j=i.length/3;let Me=0;ce(G,Me),Me+=G.length;for(let ue=0,Re=U.length;ue<Re;ue++){const we=U[ue];ce(we,Me),Me+=we.length}r.addGroup(j,i.length/3-j,1)}function ce(j,Me){let ue=j.length;for(;--ue>=0;){const Re=ue;let we=ue-1;we<0&&(we=j.length-1);for(let We=0,ze=f+_*2;We<ze;We++){const He=Z*We,Ke=Z*(We+1),rt=Me+Re+He,Ft=Me+we+He,H=Me+we+Ke,I=Me+Re+Ke;Pe(rt,Ft,H,I)}}}function ke(j,Me,ue){l.push(j),l.push(Me),l.push(ue)}function fe(j,Me,ue){Ue(j),Ue(Me),Ue(ue);const Re=i.length/3,we=w.generateTopUV(r,i,Re-3,Re-2,Re-1);Ae(we[0]),Ae(we[1]),Ae(we[2])}function Pe(j,Me,ue,Re){Ue(j),Ue(Me),Ue(Re),Ue(Me),Ue(ue),Ue(Re);const we=i.length/3,We=w.generateSideWallUV(r,i,we-6,we-3,we-2,we-1);Ae(We[0]),Ae(We[1]),Ae(We[3]),Ae(We[1]),Ae(We[2]),Ae(We[3])}function Ue(j){i.push(l[j*3+0]),i.push(l[j*3+1]),i.push(l[j*3+2])}function Ae(j){s.push(j.x),s.push(j.y)}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),t=this.parameters.shapes,r=this.parameters.options;return JH(t,r,e)}static fromJSON(e,t){const r=[];for(let s=0,o=e.shapes.length;s<o;s++){const a=t[e.shapes[s]];r.push(a)}const i=e.options.extrudePath;return i!==void 0&&(e.options.extrudePath=new Vb[i.type]().fromJSON(i)),new cv(r,e.options)}}const KH={generateTopUV:function(n,e,t,r,i){const s=e[t*3],o=e[t*3+1],a=e[r*3],l=e[r*3+1],u=e[i*3],f=e[i*3+1];return[new _e(s,o),new _e(a,l),new _e(u,f)]},generateSideWallUV:function(n,e,t,r,i,s){const o=e[t*3],a=e[t*3+1],l=e[t*3+2],u=e[r*3],f=e[r*3+1],h=e[r*3+2],p=e[i*3],g=e[i*3+1],v=e[i*3+2],x=e[s*3],_=e[s*3+1],m=e[s*3+2];return Math.abs(a-f)<Math.abs(o-u)?[new _e(o,1-l),new _e(u,1-h),new _e(p,1-v),new _e(x,1-m)]:[new _e(a,1-l),new _e(f,1-h),new _e(g,1-v),new _e(_,1-m)]}};function JH(n,e,t){if(t.shapes=[],Array.isArray(n))for(let r=0,i=n.length;r<i;r++){const s=n[r];t.shapes.push(s.uuid)}else t.shapes.push(n.uuid);return t.options=Object.assign({},e),e.extrudePath!==void 0&&(t.options.extrudePath=e.extrudePath.toJSON()),t}class uv extends Ra{constructor(e=1,t=0){const r=(1+Math.sqrt(5))/2,i=[-1,r,0,1,r,0,-1,-r,0,1,-r,0,0,-1,r,0,1,r,0,-1,-r,0,1,-r,r,0,-1,r,0,1,-r,0,-1,-r,0,1],s=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(i,s,e,t),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new uv(e.radius,e.detail)}}class yh extends Ra{constructor(e=1,t=0){const r=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],i=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(r,i,e,t),this.type="OctahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new yh(e.radius,e.detail)}}class dv extends mt{constructor(e=.5,t=1,r=32,i=1,s=0,o=Math.PI*2){super(),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:t,thetaSegments:r,phiSegments:i,thetaStart:s,thetaLength:o},r=Math.max(3,r),i=Math.max(1,i);const a=[],l=[],u=[],f=[];let h=e;const p=(t-e)/i,g=new z,v=new _e;for(let x=0;x<=i;x++){for(let _=0;_<=r;_++){const m=s+_/r*o;g.x=h*Math.cos(m),g.y=h*Math.sin(m),l.push(g.x,g.y,g.z),u.push(0,0,1),v.x=(g.x/t+1)/2,v.y=(g.y/t+1)/2,f.push(v.x,v.y)}h+=p}for(let x=0;x<i;x++){const _=x*(r+1);for(let m=0;m<r;m++){const w=m+_,S=w,M=w+r+1,R=w+r+2,P=w+1;a.push(S,M,P),a.push(M,R,P)}}this.setIndex(a),this.setAttribute("position",new et(l,3)),this.setAttribute("normal",new et(u,3)),this.setAttribute("uv",new et(f,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new dv(e.innerRadius,e.outerRadius,e.thetaSegments,e.phiSegments,e.thetaStart,e.thetaLength)}}class fv extends mt{constructor(e=new Sl([new _e(0,.5),new _e(-.5,-.5),new _e(.5,-.5)]),t=12){super(),this.type="ShapeGeometry",this.parameters={shapes:e,curveSegments:t};const r=[],i=[],s=[],o=[];let a=0,l=0;if(Array.isArray(e)===!1)u(e);else for(let f=0;f<e.length;f++)u(e[f]),this.addGroup(a,l,f),a+=l,l=0;this.setIndex(r),this.setAttribute("position",new et(i,3)),this.setAttribute("normal",new et(s,3)),this.setAttribute("uv",new et(o,2));function u(f){const h=i.length/3,p=f.extractPoints(t);let g=p.shape;const v=p.holes;Hs.isClockWise(g)===!1&&(g=g.reverse());for(let _=0,m=v.length;_<m;_++){const w=v[_];Hs.isClockWise(w)===!0&&(v[_]=w.reverse())}const x=Hs.triangulateShape(g,v);for(let _=0,m=v.length;_<m;_++){const w=v[_];g=g.concat(w)}for(let _=0,m=g.length;_<m;_++){const w=g[_];i.push(w.x,w.y,0),s.push(0,0,1),o.push(w.x,w.y)}for(let _=0,m=x.length;_<m;_++){const w=x[_],S=w[0]+h,M=w[1]+h,R=w[2]+h;r.push(S,M,R),l+=3}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),t=this.parameters.shapes;return ZH(t,e)}static fromJSON(e,t){const r=[];for(let i=0,s=e.shapes.length;i<s;i++){const o=t[e.shapes[i]];r.push(o)}return new fv(r,e.curveSegments)}}function ZH(n,e){if(e.shapes=[],Array.isArray(n))for(let t=0,r=n.length;t<r;t++){const i=n[t];e.shapes.push(i.uuid)}else e.shapes.push(n.uuid);return e}class xh extends mt{constructor(e=1,t=32,r=16,i=0,s=Math.PI*2,o=0,a=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:r,phiStart:i,phiLength:s,thetaStart:o,thetaLength:a},t=Math.max(3,Math.floor(t)),r=Math.max(2,Math.floor(r));const l=Math.min(o+a,Math.PI);let u=0;const f=[],h=new z,p=new z,g=[],v=[],x=[],_=[];for(let m=0;m<=r;m++){const w=[],S=m/r;let M=0;m===0&&o===0?M=.5/t:m===r&&l===Math.PI&&(M=-.5/t);for(let R=0;R<=t;R++){const P=R/t;h.x=-e*Math.cos(i+P*s)*Math.sin(o+S*a),h.y=e*Math.cos(o+S*a),h.z=e*Math.sin(i+P*s)*Math.sin(o+S*a),v.push(h.x,h.y,h.z),p.copy(h).normalize(),x.push(p.x,p.y,p.z),_.push(P+M,1-S),w.push(u++)}f.push(w)}for(let m=0;m<r;m++)for(let w=0;w<t;w++){const S=f[m][w+1],M=f[m][w],R=f[m+1][w],P=f[m+1][w+1];(m!==0||o>0)&&g.push(S,M,P),(m!==r-1||l<Math.PI)&&g.push(M,R,P)}this.setIndex(g),this.setAttribute("position",new et(v,3)),this.setAttribute("normal",new et(x,3)),this.setAttribute("uv",new et(_,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new xh(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}class hv extends Ra{constructor(e=1,t=0){const r=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],i=[2,1,0,0,3,2,1,3,0,2,3,1];super(r,i,e,t),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new hv(e.radius,e.detail)}}class pv extends mt{constructor(e=1,t=.4,r=12,i=48,s=Math.PI*2){super(),this.type="TorusGeometry",this.parameters={radius:e,tube:t,radialSegments:r,tubularSegments:i,arc:s},r=Math.floor(r),i=Math.floor(i);const o=[],a=[],l=[],u=[],f=new z,h=new z,p=new z;for(let g=0;g<=r;g++)for(let v=0;v<=i;v++){const x=v/i*s,_=g/r*Math.PI*2;h.x=(e+t*Math.cos(_))*Math.cos(x),h.y=(e+t*Math.cos(_))*Math.sin(x),h.z=t*Math.sin(_),a.push(h.x,h.y,h.z),f.x=e*Math.cos(x),f.y=e*Math.sin(x),p.subVectors(h,f).normalize(),l.push(p.x,p.y,p.z),u.push(v/i),u.push(g/r)}for(let g=1;g<=r;g++)for(let v=1;v<=i;v++){const x=(i+1)*g+v-1,_=(i+1)*(g-1)+v-1,m=(i+1)*(g-1)+v,w=(i+1)*g+v;o.push(x,_,w),o.push(_,m,w)}this.setIndex(o),this.setAttribute("position",new et(a,3)),this.setAttribute("normal",new et(l,3)),this.setAttribute("uv",new et(u,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new pv(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}}class mv extends mt{constructor(e=1,t=.4,r=64,i=8,s=2,o=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:t,tubularSegments:r,radialSegments:i,p:s,q:o},r=Math.floor(r),i=Math.floor(i);const a=[],l=[],u=[],f=[],h=new z,p=new z,g=new z,v=new z,x=new z,_=new z,m=new z;for(let S=0;S<=r;++S){const M=S/r*s*Math.PI*2;w(M,s,o,e,g),w(M+.01,s,o,e,v),_.subVectors(v,g),m.addVectors(v,g),x.crossVectors(_,m),m.crossVectors(x,_),x.normalize(),m.normalize();for(let R=0;R<=i;++R){const P=R/i*Math.PI*2,L=-t*Math.cos(P),k=t*Math.sin(P);h.x=g.x+(L*m.x+k*x.x),h.y=g.y+(L*m.y+k*x.y),h.z=g.z+(L*m.z+k*x.z),l.push(h.x,h.y,h.z),p.subVectors(h,g).normalize(),u.push(p.x,p.y,p.z),f.push(S/r),f.push(R/i)}}for(let S=1;S<=r;S++)for(let M=1;M<=i;M++){const R=(i+1)*(S-1)+(M-1),P=(i+1)*S+(M-1),L=(i+1)*S+M,k=(i+1)*(S-1)+M;a.push(R,P,k),a.push(P,L,k)}this.setIndex(a),this.setAttribute("position",new et(l,3)),this.setAttribute("normal",new et(u,3)),this.setAttribute("uv",new et(f,2));function w(S,M,R,P,L){const k=Math.cos(S),C=Math.sin(S),A=R/M*S,U=Math.cos(A);L.x=P*(2+U)*.5*k,L.y=P*(2+U)*C*.5,L.z=P*Math.sin(A)*.5}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new mv(e.radius,e.tube,e.tubularSegments,e.radialSegments,e.p,e.q)}}class gv extends mt{constructor(e=new jb(new z(-1,-1,0),new z(-1,1,0),new z(1,1,0)),t=64,r=1,i=8,s=!1){super(),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:t,radius:r,radialSegments:i,closed:s};const o=e.computeFrenetFrames(t,s);this.tangents=o.tangents,this.normals=o.normals,this.binormals=o.binormals;const a=new z,l=new z,u=new _e;let f=new z;const h=[],p=[],g=[],v=[];x(),this.setIndex(v),this.setAttribute("position",new et(h,3)),this.setAttribute("normal",new et(p,3)),this.setAttribute("uv",new et(g,2));function x(){for(let S=0;S<t;S++)_(S);_(s===!1?t:0),w(),m()}function _(S){f=e.getPointAt(S/t,f);const M=o.normals[S],R=o.binormals[S];for(let P=0;P<=i;P++){const L=P/i*Math.PI*2,k=Math.sin(L),C=-Math.cos(L);l.x=C*M.x+k*R.x,l.y=C*M.y+k*R.y,l.z=C*M.z+k*R.z,l.normalize(),p.push(l.x,l.y,l.z),a.x=f.x+r*l.x,a.y=f.y+r*l.y,a.z=f.z+r*l.z,h.push(a.x,a.y,a.z)}}function m(){for(let S=1;S<=t;S++)for(let M=1;M<=i;M++){const R=(i+1)*(S-1)+(M-1),P=(i+1)*S+(M-1),L=(i+1)*S+M,k=(i+1)*(S-1)+M;v.push(R,P,k),v.push(P,L,k)}}function w(){for(let S=0;S<=t;S++)for(let M=0;M<=i;M++)u.x=S/t,u.y=M/i,g.push(u.x,u.y)}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON();return e.path=this.parameters.path.toJSON(),e}static fromJSON(e){return new gv(new Vb[e.path.type]().fromJSON(e.path),e.tubularSegments,e.radius,e.radialSegments,e.closed)}}class gk extends mt{constructor(e=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:e},e!==null){const t=[],r=new Set,i=new z,s=new z;if(e.index!==null){const o=e.attributes.position,a=e.index;let l=e.groups;l.length===0&&(l=[{start:0,count:a.count,materialIndex:0}]);for(let u=0,f=l.length;u<f;++u){const h=l[u],p=h.start,g=h.count;for(let v=p,x=p+g;v<x;v+=3)for(let _=0;_<3;_++){const m=a.getX(v+_),w=a.getX(v+(_+1)%3);i.fromBufferAttribute(o,m),s.fromBufferAttribute(o,w),XC(i,s,r)===!0&&(t.push(i.x,i.y,i.z),t.push(s.x,s.y,s.z))}}}else{const o=e.attributes.position;for(let a=0,l=o.count/3;a<l;a++)for(let u=0;u<3;u++){const f=3*a+u,h=3*a+(u+1)%3;i.fromBufferAttribute(o,f),s.fromBufferAttribute(o,h),XC(i,s,r)===!0&&(t.push(i.x,i.y,i.z),t.push(s.x,s.y,s.z))}}this.setAttribute("position",new et(t,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}function XC(n,e,t){const r=`${n.x},${n.y},${n.z}-${e.x},${e.y},${e.z}`,i=`${e.x},${e.y},${e.z}-${n.x},${n.y},${n.z}`;return t.has(r)===!0||t.has(i)===!0?!1:(t.add(r),t.add(i),!0)}var qC=Object.freeze({__proto__:null,BoxGeometry:Fl,CapsuleGeometry:iv,CircleGeometry:sv,ConeGeometry:ov,CylinderGeometry:Du,DodecahedronGeometry:av,EdgesGeometry:fk,ExtrudeGeometry:cv,IcosahedronGeometry:uv,LatheGeometry:vh,OctahedronGeometry:yh,PlaneGeometry:gh,PolyhedronGeometry:Ra,RingGeometry:dv,ShapeGeometry:fv,SphereGeometry:xh,TetrahedronGeometry:hv,TorusGeometry:pv,TorusKnotGeometry:mv,TubeGeometry:gv,WireframeGeometry:gk});class vk extends pr{constructor(e){super(),this.isShadowMaterial=!0,this.type="ShadowMaterial",this.color=new Ye(0),this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.fog=e.fog,this}}class yk extends Ws{constructor(e){super(e),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}}class Wb extends pr{constructor(e){super(),this.isMeshStandardMaterial=!0,this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new Ye(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Ye(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Ca,this.normalScale=new _e(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class xk extends Wb{constructor(e){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.anisotropyRotation=0,this.anisotropyMap=null,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new _e(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return Pn(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(t){this.ior=(1+.4*t)/(1-.4*t)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new Ye(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new Ye(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new Ye(1,1,1),this.specularColorMap=null,this._anisotropy=0,this._clearcoat=0,this._iridescence=0,this._sheen=0,this._transmission=0,this.setValues(e)}get anisotropy(){return this._anisotropy}set anisotropy(e){this._anisotropy>0!=e>0&&this.version++,this._anisotropy=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get iridescence(){return this._iridescence}set iridescence(e){this._iridescence>0!=e>0&&this.version++,this._iridescence=e}get sheen(){return this._sheen}set sheen(e){this._sheen>0!=e>0&&this.version++,this._sheen=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.anisotropy=e.anisotropy,this.anisotropyRotation=e.anisotropyRotation,this.anisotropyMap=e.anisotropyMap,this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.ior=e.ior,this.iridescence=e.iridescence,this.iridescenceMap=e.iridescenceMap,this.iridescenceIOR=e.iridescenceIOR,this.iridescenceThicknessRange=[...e.iridescenceThicknessRange],this.iridescenceThicknessMap=e.iridescenceThicknessMap,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}class _k extends pr{constructor(e){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new Ye(16777215),this.specular=new Ye(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Ye(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Ca,this.normalScale=new _e(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=fh,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class wk extends pr{constructor(e){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new Ye(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Ye(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Ca,this.normalScale=new _e(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}class Sk extends pr{constructor(e){super(),this.isMeshNormalMaterial=!0,this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Ca,this.normalScale=new _e(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}}class bk extends pr{constructor(e){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new Ye(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Ye(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Ca,this.normalScale=new _e(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=fh,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class Ek extends pr{constructor(e){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new Ye(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Ca,this.normalScale=new _e(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.flatShading=e.flatShading,this.fog=e.fog,this}}class Mk extends Hr{constructor(e){super(),this.isLineDashedMaterial=!0,this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}copy(e){return super.copy(e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}function Fi(n,e,t){return Gb(n)?new n.constructor(n.subarray(e,t!==void 0?t:n.length)):n.slice(e,t)}function hl(n,e,t){return!n||!t&&n.constructor===e?n:typeof e.BYTES_PER_ELEMENT=="number"?new e(n):Array.prototype.slice.call(n)}function Gb(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}function Tk(n){function e(i,s){return n[i]-n[s]}const t=n.length,r=new Array(t);for(let i=0;i!==t;++i)r[i]=i;return r.sort(e),r}function Mw(n,e,t){const r=n.length,i=new n.constructor(r);for(let s=0,o=0;o!==r;++s){const a=t[s]*e;for(let l=0;l!==e;++l)i[o++]=n[a+l]}return i}function $b(n,e,t,r){let i=1,s=n[0];for(;s!==void 0&&s[r]===void 0;)s=n[i++];if(s===void 0)return;let o=s[r];if(o!==void 0)if(Array.isArray(o))do o=s[r],o!==void 0&&(e.push(s.time),t.push.apply(t,o)),s=n[i++];while(s!==void 0);else if(o.toArray!==void 0)do o=s[r],o!==void 0&&(e.push(s.time),o.toArray(t,t.length)),s=n[i++];while(s!==void 0);else do o=s[r],o!==void 0&&(e.push(s.time),t.push(o)),s=n[i++];while(s!==void 0)}function QH(n,e,t,r,i=30){const s=n.clone();s.name=e;const o=[];for(let l=0;l<s.tracks.length;++l){const u=s.tracks[l],f=u.getValueSize(),h=[],p=[];for(let g=0;g<u.times.length;++g){const v=u.times[g]*i;if(!(v<t||v>=r)){h.push(u.times[g]);for(let x=0;x<f;++x)p.push(u.values[g*f+x])}}h.length!==0&&(u.times=hl(h,u.times.constructor),u.values=hl(p,u.values.constructor),o.push(u))}s.tracks=o;let a=1/0;for(let l=0;l<s.tracks.length;++l)a>s.tracks[l].times[0]&&(a=s.tracks[l].times[0]);for(let l=0;l<s.tracks.length;++l)s.tracks[l].shift(-1*a);return s.resetDuration(),s}function e9(n,e=0,t=n,r=30){r<=0&&(r=30);const i=t.tracks.length,s=e/r;for(let o=0;o<i;++o){const a=t.tracks[o],l=a.ValueTypeName;if(l==="bool"||l==="string")continue;const u=n.tracks.find(function(m){return m.name===a.name&&m.ValueTypeName===l});if(u===void 0)continue;let f=0;const h=a.getValueSize();a.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(f=h/3);let p=0;const g=u.getValueSize();u.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(p=g/3);const v=a.times.length-1;let x;if(s<=a.times[0]){const m=f,w=h-f;x=Fi(a.values,m,w)}else if(s>=a.times[v]){const m=v*h+f,w=m+h-f;x=Fi(a.values,m,w)}else{const m=a.createInterpolant(),w=f,S=h-f;m.evaluate(s),x=Fi(m.resultBuffer,w,S)}l==="quaternion"&&new Rr().fromArray(x).normalize().conjugate().toArray(x);const _=u.times.length;for(let m=0;m<_;++m){const w=m*g+p;if(l==="quaternion")Rr.multiplyQuaternionsFlat(u.values,w,x,0,u.values,w);else{const S=g-p*2;for(let M=0;M<S;++M)u.values[w+M]-=x[M]}}}return n.blendMode=Sb,n}const t9={arraySlice:Fi,convertArray:hl,isTypedArray:Gb,getKeyframeOrder:Tk,sortedArray:Mw,flattenJSON:$b,subclip:QH,makeClipAdditive:e9};class _h{constructor(e,t,r,i){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=i!==void 0?i:new t.constructor(r),this.sampleValues=t,this.valueSize=r,this.settings=null,this.DefaultSettings_={}}evaluate(e){const t=this.parameterPositions;let r=this._cachedIndex,i=t[r],s=t[r-1];e:{t:{let o;n:{r:if(!(e<i)){for(let a=r+2;;){if(i===void 0){if(e<s)break r;return r=t.length,this._cachedIndex=r,this.copySampleValue_(r-1)}if(r===a)break;if(s=i,i=t[++r],e<i)break t}o=t.length;break n}if(!(e>=s)){const a=t[1];e<a&&(r=2,s=a);for(let l=r-2;;){if(s===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(r===l)break;if(i=s,s=t[--r-1],e>=s)break t}o=r,r=0;break n}break e}for(;r<o;){const a=r+o>>>1;e<t[a]?o=a:r=a+1}if(i=t[r],s=t[r-1],s===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(i===void 0)return r=t.length,this._cachedIndex=r,this.copySampleValue_(r-1)}this._cachedIndex=r,this.intervalChanged_(r,s,i)}return this.interpolate_(r,s,e,i)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const t=this.resultBuffer,r=this.sampleValues,i=this.valueSize,s=e*i;for(let o=0;o!==i;++o)t[o]=r[s+o];return t}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class Ck extends _h{constructor(e,t,r,i){super(e,t,r,i),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:ul,endingEnd:ul}}intervalChanged_(e,t,r){const i=this.parameterPositions;let s=e-2,o=e+1,a=i[s],l=i[o];if(a===void 0)switch(this.getSettings_().endingStart){case dl:s=e,a=2*t-r;break;case Df:s=i.length-2,a=t+i[s]-i[s+1];break;default:s=e,a=r}if(l===void 0)switch(this.getSettings_().endingEnd){case dl:o=e,l=2*r-t;break;case Df:o=1,l=r+i[1]-i[0];break;default:o=e-1,l=t}const u=(r-t)*.5,f=this.valueSize;this._weightPrev=u/(t-a),this._weightNext=u/(l-r),this._offsetPrev=s*f,this._offsetNext=o*f}interpolate_(e,t,r,i){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=e*a,u=l-a,f=this._offsetPrev,h=this._offsetNext,p=this._weightPrev,g=this._weightNext,v=(r-t)/(i-t),x=v*v,_=x*v,m=-p*_+2*p*x-p*v,w=(1+p)*_+(-1.5-2*p)*x+(-.5+p)*v+1,S=(-1-g)*_+(1.5+g)*x+.5*v,M=g*_-g*x;for(let R=0;R!==a;++R)s[R]=m*o[f+R]+w*o[u+R]+S*o[l+R]+M*o[h+R];return s}}class Xb extends _h{constructor(e,t,r,i){super(e,t,r,i)}interpolate_(e,t,r,i){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=e*a,u=l-a,f=(r-t)/(i-t),h=1-f;for(let p=0;p!==a;++p)s[p]=o[u+p]*h+o[l+p]*f;return s}}class Ak extends _h{constructor(e,t,r,i){super(e,t,r,i)}interpolate_(e){return this.copySampleValue_(e-1)}}class xs{constructor(e,t,r,i){if(e===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(t===void 0||t.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=hl(t,this.TimeBufferType),this.values=hl(r,this.ValueBufferType),this.setInterpolation(i||this.DefaultInterpolation)}static toJSON(e){const t=e.constructor;let r;if(t.toJSON!==this.toJSON)r=t.toJSON(e);else{r={name:e.name,times:hl(e.times,Array),values:hl(e.values,Array)};const i=e.getInterpolation();i!==e.DefaultInterpolation&&(r.interpolation=i)}return r.type=e.ValueTypeName,r}InterpolantFactoryMethodDiscrete(e){return new Ak(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new Xb(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new Ck(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let t;switch(e){case If:t=this.InterpolantFactoryMethodDiscrete;break;case Nf:t=this.InterpolantFactoryMethodLinear;break;case ug:t=this.InterpolantFactoryMethodSmooth;break}if(t===void 0){const r="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(r);return console.warn("THREE.KeyframeTrack:",r),this}return this.createInterpolant=t,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return If;case this.InterpolantFactoryMethodLinear:return Nf;case this.InterpolantFactoryMethodSmooth:return ug}}getValueSize(){return this.values.length/this.times.length}shift(e){if(e!==0){const t=this.times;for(let r=0,i=t.length;r!==i;++r)t[r]+=e}return this}scale(e){if(e!==1){const t=this.times;for(let r=0,i=t.length;r!==i;++r)t[r]*=e}return this}trim(e,t){const r=this.times,i=r.length;let s=0,o=i-1;for(;s!==i&&r[s]<e;)++s;for(;o!==-1&&r[o]>t;)--o;if(++o,s!==0||o!==i){s>=o&&(o=Math.max(o,1),s=o-1);const a=this.getValueSize();this.times=Fi(r,s,o),this.values=Fi(this.values,s*a,o*a)}return this}validate(){let e=!0;const t=this.getValueSize();t-Math.floor(t)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);const r=this.times,i=this.values,s=r.length;s===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let o=null;for(let a=0;a!==s;a++){const l=r[a];if(typeof l=="number"&&isNaN(l)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,a,l),e=!1;break}if(o!==null&&o>l){console.error("THREE.KeyframeTrack: Out of order keys.",this,a,l,o),e=!1;break}o=l}if(i!==void 0&&Gb(i))for(let a=0,l=i.length;a!==l;++a){const u=i[a];if(isNaN(u)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,a,u),e=!1;break}}return e}optimize(){const e=Fi(this.times),t=Fi(this.values),r=this.getValueSize(),i=this.getInterpolation()===ug,s=e.length-1;let o=1;for(let a=1;a<s;++a){let l=!1;const u=e[a],f=e[a+1];if(u!==f&&(a!==1||u!==e[0]))if(i)l=!0;else{const h=a*r,p=h-r,g=h+r;for(let v=0;v!==r;++v){const x=t[h+v];if(x!==t[p+v]||x!==t[g+v]){l=!0;break}}}if(l){if(a!==o){e[o]=e[a];const h=a*r,p=o*r;for(let g=0;g!==r;++g)t[p+g]=t[h+g]}++o}}if(s>0){e[o]=e[s];for(let a=s*r,l=o*r,u=0;u!==r;++u)t[l+u]=t[a+u];++o}return o!==e.length?(this.times=Fi(e,0,o),this.values=Fi(t,0,o*r)):(this.times=e,this.values=t),this}clone(){const e=Fi(this.times,0),t=Fi(this.values,0),r=this.constructor,i=new r(this.name,e,t);return i.createInterpolant=this.createInterpolant,i}}xs.prototype.TimeBufferType=Float32Array;xs.prototype.ValueBufferType=Float32Array;xs.prototype.DefaultInterpolation=Nf;class zl extends xs{}zl.prototype.ValueTypeName="bool";zl.prototype.ValueBufferType=Array;zl.prototype.DefaultInterpolation=If;zl.prototype.InterpolantFactoryMethodLinear=void 0;zl.prototype.InterpolantFactoryMethodSmooth=void 0;class qb extends xs{}qb.prototype.ValueTypeName="color";class Wf extends xs{}Wf.prototype.ValueTypeName="number";class Rk extends _h{constructor(e,t,r,i){super(e,t,r,i)}interpolate_(e,t,r,i){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=(r-t)/(i-t);let u=e*a;for(let f=u+a;u!==f;u+=4)Rr.slerpFlat(s,0,o,u-a,o,u,l);return s}}class Uu extends xs{InterpolantFactoryMethodLinear(e){return new Rk(this.times,this.values,this.getValueSize(),e)}}Uu.prototype.ValueTypeName="quaternion";Uu.prototype.DefaultInterpolation=Nf;Uu.prototype.InterpolantFactoryMethodSmooth=void 0;class Bl extends xs{}Bl.prototype.ValueTypeName="string";Bl.prototype.ValueBufferType=Array;Bl.prototype.DefaultInterpolation=If;Bl.prototype.InterpolantFactoryMethodLinear=void 0;Bl.prototype.InterpolantFactoryMethodSmooth=void 0;class Gf extends xs{}Gf.prototype.ValueTypeName="vector";class $f{constructor(e,t=-1,r,i=X0){this.name=e,this.tracks=r,this.duration=t,this.blendMode=i,this.uuid=_i(),this.duration<0&&this.resetDuration()}static parse(e){const t=[],r=e.tracks,i=1/(e.fps||1);for(let o=0,a=r.length;o!==a;++o)t.push(r9(r[o]).scale(i));const s=new this(e.name,e.duration,t,e.blendMode);return s.uuid=e.uuid,s}static toJSON(e){const t=[],r=e.tracks,i={name:e.name,duration:e.duration,tracks:t,uuid:e.uuid,blendMode:e.blendMode};for(let s=0,o=r.length;s!==o;++s)t.push(xs.toJSON(r[s]));return i}static CreateFromMorphTargetSequence(e,t,r,i){const s=t.length,o=[];for(let a=0;a<s;a++){let l=[],u=[];l.push((a+s-1)%s,a,(a+1)%s),u.push(0,1,0);const f=Tk(l);l=Mw(l,1,f),u=Mw(u,1,f),!i&&l[0]===0&&(l.push(s),u.push(u[0])),o.push(new Wf(".morphTargetInfluences["+t[a].name+"]",l,u).scale(1/r))}return new this(e,-1,o)}static findByName(e,t){let r=e;if(!Array.isArray(e)){const i=e;r=i.geometry&&i.geometry.animations||i.animations}for(let i=0;i<r.length;i++)if(r[i].name===t)return r[i];return null}static CreateClipsFromMorphTargetSequences(e,t,r){const i={},s=/^([\w-]*?)([\d]+)$/;for(let a=0,l=e.length;a<l;a++){const u=e[a],f=u.name.match(s);if(f&&f.length>1){const h=f[1];let p=i[h];p||(i[h]=p=[]),p.push(u)}}const o=[];for(const a in i)o.push(this.CreateFromMorphTargetSequence(a,i[a],t,r));return o}static parseAnimation(e,t){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const r=function(h,p,g,v,x){if(g.length!==0){const _=[],m=[];$b(g,_,m,v),_.length!==0&&x.push(new h(p,_,m))}},i=[],s=e.name||"default",o=e.fps||30,a=e.blendMode;let l=e.length||-1;const u=e.hierarchy||[];for(let h=0;h<u.length;h++){const p=u[h].keys;if(!(!p||p.length===0))if(p[0].morphTargets){const g={};let v;for(v=0;v<p.length;v++)if(p[v].morphTargets)for(let x=0;x<p[v].morphTargets.length;x++)g[p[v].morphTargets[x]]=-1;for(const x in g){const _=[],m=[];for(let w=0;w!==p[v].morphTargets.length;++w){const S=p[v];_.push(S.time),m.push(S.morphTarget===x?1:0)}i.push(new Wf(".morphTargetInfluence["+x+"]",_,m))}l=g.length*o}else{const g=".bones["+t[h].name+"]";r(Gf,g+".position",p,"pos",i),r(Uu,g+".quaternion",p,"rot",i),r(Gf,g+".scale",p,"scl",i)}}return i.length===0?null:new this(s,l,i,a)}resetDuration(){const e=this.tracks;let t=0;for(let r=0,i=e.length;r!==i;++r){const s=this.tracks[r];t=Math.max(t,s.times[s.times.length-1])}return this.duration=t,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let t=0;t<this.tracks.length;t++)e=e&&this.tracks[t].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){const e=[];for(let t=0;t<this.tracks.length;t++)e.push(this.tracks[t].clone());return new this.constructor(this.name,this.duration,e,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function n9(n){switch(n.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return Wf;case"vector":case"vector2":case"vector3":case"vector4":return Gf;case"color":return qb;case"quaternion":return Uu;case"bool":case"boolean":return zl;case"string":return Bl}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+n)}function r9(n){if(n.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const e=n9(n.type);if(n.times===void 0){const t=[],r=[];$b(n.keys,t,r,"value"),n.times=t,n.values=r}return e.parse!==void 0?e.parse(n):new e(n.name,n.times,n.values,n.interpolation)}const Ol={enabled:!1,files:{},add:function(n,e){this.enabled!==!1&&(this.files[n]=e)},get:function(n){if(this.enabled!==!1)return this.files[n]},remove:function(n){delete this.files[n]},clear:function(){this.files={}}};class Yb{constructor(e,t,r){const i=this;let s=!1,o=0,a=0,l;const u=[];this.onStart=void 0,this.onLoad=e,this.onProgress=t,this.onError=r,this.itemStart=function(f){a++,s===!1&&i.onStart!==void 0&&i.onStart(f,o,a),s=!0},this.itemEnd=function(f){o++,i.onProgress!==void 0&&i.onProgress(f,o,a),o===a&&(s=!1,i.onLoad!==void 0&&i.onLoad())},this.itemError=function(f){i.onError!==void 0&&i.onError(f)},this.resolveURL=function(f){return l?l(f):f},this.setURLModifier=function(f){return l=f,this},this.addHandler=function(f,h){return u.push(f,h),this},this.removeHandler=function(f){const h=u.indexOf(f);return h!==-1&&u.splice(h,2),this},this.getHandler=function(f){for(let h=0,p=u.length;h<p;h+=2){const g=u[h],v=u[h+1];if(g.global&&(g.lastIndex=0),g.test(f))return v}return null}}}const Pk=new Yb;class Lr{constructor(e){this.manager=e!==void 0?e:Pk,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,t){const r=this;return new Promise(function(i,s){r.load(e,i,t,s)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}}Lr.DEFAULT_MATERIAL_NAME="__DEFAULT";const ao={};class i9 extends Error{constructor(e,t){super(e),this.response=t}}class ms extends Lr{constructor(e){super(e)}load(e,t,r,i){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=Ol.get(e);if(s!==void 0)return this.manager.itemStart(e),setTimeout(()=>{t&&t(s),this.manager.itemEnd(e)},0),s;if(ao[e]!==void 0){ao[e].push({onLoad:t,onProgress:r,onError:i});return}ao[e]=[],ao[e].push({onLoad:t,onProgress:r,onError:i});const o=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),a=this.mimeType,l=this.responseType;fetch(o).then(u=>{if(u.status===200||u.status===0){if(u.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||u.body===void 0||u.body.getReader===void 0)return u;const f=ao[e],h=u.body.getReader(),p=u.headers.get("Content-Length")||u.headers.get("X-File-Size"),g=p?parseInt(p):0,v=g!==0;let x=0;const _=new ReadableStream({start(m){w();function w(){h.read().then(({done:S,value:M})=>{if(S)m.close();else{x+=M.byteLength;const R=new ProgressEvent("progress",{lengthComputable:v,loaded:x,total:g});for(let P=0,L=f.length;P<L;P++){const k=f[P];k.onProgress&&k.onProgress(R)}m.enqueue(M),w()}})}}});return new Response(_)}else throw new i9(`fetch for "${u.url}" responded with ${u.status}: ${u.statusText}`,u)}).then(u=>{switch(l){case"arraybuffer":return u.arrayBuffer();case"blob":return u.blob();case"document":return u.text().then(f=>new DOMParser().parseFromString(f,a));case"json":return u.json();default:if(a===void 0)return u.text();{const h=/charset="?([^;"\s]*)"?/i.exec(a),p=h&&h[1]?h[1].toLowerCase():void 0,g=new TextDecoder(p);return u.arrayBuffer().then(v=>g.decode(v))}}}).then(u=>{Ol.add(e,u);const f=ao[e];delete ao[e];for(let h=0,p=f.length;h<p;h++){const g=f[h];g.onLoad&&g.onLoad(u)}}).catch(u=>{const f=ao[e];if(f===void 0)throw this.manager.itemError(e),u;delete ao[e];for(let h=0,p=f.length;h<p;h++){const g=f[h];g.onError&&g.onError(u)}this.manager.itemError(e)}).finally(()=>{this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}}class s9 extends Lr{constructor(e){super(e)}load(e,t,r,i){const s=this,o=new ms(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(a){try{t(s.parse(JSON.parse(a)))}catch(l){i?i(l):console.error(l),s.manager.itemError(e)}},r,i)}parse(e){const t=[];for(let r=0;r<e.length;r++){const i=$f.parse(e[r]);t.push(i)}return t}}class o9 extends Lr{constructor(e){super(e)}load(e,t,r,i){const s=this,o=[],a=new Ub,l=new ms(this.manager);l.setPath(this.path),l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setWithCredentials(s.withCredentials);let u=0;function f(h){l.load(e[h],function(p){const g=s.parse(p,!0);o[h]={width:g.width,height:g.height,format:g.format,mipmaps:g.mipmaps},u+=1,u===6&&(g.mipmapCount===1&&(a.minFilter=Dn),a.image=o,a.format=g.format,a.needsUpdate=!0,t&&t(a))},r,i)}if(Array.isArray(e))for(let h=0,p=e.length;h<p;++h)f(h);else l.load(e,function(h){const p=s.parse(h,!0);if(p.isCubemap){const g=p.mipmaps.length/p.mipmapCount;for(let v=0;v<g;v++){o[v]={mipmaps:[]};for(let x=0;x<p.mipmapCount;x++)o[v].mipmaps.push(p.mipmaps[v*p.mipmapCount+x]),o[v].format=p.format,o[v].width=p.width,o[v].height=p.height}a.image=o}else a.image.width=p.width,a.image.height=p.height,a.mipmaps=p.mipmaps;p.mipmapCount===1&&(a.minFilter=Dn),a.format=p.format,a.needsUpdate=!0,t&&t(a)},r,i);return a}}class Xf extends Lr{constructor(e){super(e)}load(e,t,r,i){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,o=Ol.get(e);if(o!==void 0)return s.manager.itemStart(e),setTimeout(function(){t&&t(o),s.manager.itemEnd(e)},0),o;const a=zf("img");function l(){f(),Ol.add(e,this),t&&t(this),s.manager.itemEnd(e)}function u(h){f(),i&&i(h),s.manager.itemError(e),s.manager.itemEnd(e)}function f(){a.removeEventListener("load",l,!1),a.removeEventListener("error",u,!1)}return a.addEventListener("load",l,!1),a.addEventListener("error",u,!1),e.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(a.crossOrigin=this.crossOrigin),s.manager.itemStart(e),a.src=e,a}}class a9 extends Lr{constructor(e){super(e)}load(e,t,r,i){const s=new mh;s.colorSpace=_t;const o=new Xf(this.manager);o.setCrossOrigin(this.crossOrigin),o.setPath(this.path);let a=0;function l(u){o.load(e[u],function(f){s.images[u]=f,a++,a===6&&(s.needsUpdate=!0,t&&t(s))},void 0,i)}for(let u=0;u<e.length;++u)l(u);return s}}class l9 extends Lr{constructor(e){super(e)}load(e,t,r,i){const s=this,o=new lu,a=new ms(this.manager);return a.setResponseType("arraybuffer"),a.setRequestHeader(this.requestHeader),a.setPath(this.path),a.setWithCredentials(s.withCredentials),a.load(e,function(l){const u=s.parse(l);u&&(u.image!==void 0?o.image=u.image:u.data!==void 0&&(o.image.width=u.width,o.image.height=u.height,o.image.data=u.data),o.wrapS=u.wrapS!==void 0?u.wrapS:Ar,o.wrapT=u.wrapT!==void 0?u.wrapT:Ar,o.magFilter=u.magFilter!==void 0?u.magFilter:Dn,o.minFilter=u.minFilter!==void 0?u.minFilter:Dn,o.anisotropy=u.anisotropy!==void 0?u.anisotropy:1,u.colorSpace!==void 0?o.colorSpace=u.colorSpace:u.encoding!==void 0&&(o.encoding=u.encoding),u.flipY!==void 0&&(o.flipY=u.flipY),u.format!==void 0&&(o.format=u.format),u.type!==void 0&&(o.type=u.type),u.mipmaps!==void 0&&(o.mipmaps=u.mipmaps,o.minFilter=Sa),u.mipmapCount===1&&(o.minFilter=Dn),u.generateMipmaps!==void 0&&(o.generateMipmaps=u.generateMipmaps),o.needsUpdate=!0,t&&t(o,u))},r,i),o}}class c9 extends Lr{constructor(e){super(e)}load(e,t,r,i){const s=new Ln,o=new Xf(this.manager);return o.setCrossOrigin(this.crossOrigin),o.setPath(this.path),o.load(e,function(a){s.image=a,s.needsUpdate=!0,t!==void 0&&t(s)},r,i),s}}class Pa extends Vt{constructor(e,t=1){super(),this.isLight=!0,this.type="Light",this.color=new Ye(e),this.intensity=t}dispose(){}copy(e,t){return super.copy(e,t),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const t=super.toJSON(e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,this.groundColor!==void 0&&(t.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(t.object.distance=this.distance),this.angle!==void 0&&(t.object.angle=this.angle),this.decay!==void 0&&(t.object.decay=this.decay),this.penumbra!==void 0&&(t.object.penumbra=this.penumbra),this.shadow!==void 0&&(t.object.shadow=this.shadow.toJSON()),t}}class Lk extends Pa{constructor(e,t,r){super(e,r),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(Vt.DEFAULT_UP),this.updateMatrix(),this.groundColor=new Ye(t)}copy(e,t){return super.copy(e,t),this.groundColor.copy(e.groundColor),this}}const u_=new pt,YC=new z,KC=new z;class Kb{constructor(e){this.camera=e,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new _e(512,512),this.map=null,this.mapPass=null,this.matrix=new pt,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new K0,this._frameExtents=new _e(1,1),this._viewportCount=1,this._viewports=[new qt(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const t=this.camera,r=this.matrix;YC.setFromMatrixPosition(e.matrixWorld),t.position.copy(YC),KC.setFromMatrixPosition(e.target.matrixWorld),t.lookAt(KC),t.updateMatrixWorld(),u_.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),this._frustum.setFromProjectionMatrix(u_),r.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),r.multiply(u_)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class u9 extends Kb{constructor(){super(new pn(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1}updateMatrices(e){const t=this.camera,r=_u*2*e.angle*this.focus,i=this.mapSize.width/this.mapSize.height,s=e.distance||t.far;(r!==t.fov||i!==t.aspect||s!==t.far)&&(t.fov=r,t.aspect=i,t.far=s,t.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}class Ok extends Pa{constructor(e,t,r=0,i=Math.PI/3,s=0,o=2){super(e,t),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(Vt.DEFAULT_UP),this.updateMatrix(),this.target=new Vt,this.distance=r,this.angle=i,this.penumbra=s,this.decay=o,this.map=null,this.shadow=new u9}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}const JC=new pt,Cd=new z,d_=new z;class d9 extends Kb{constructor(){super(new pn(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new _e(4,2),this._viewportCount=6,this._viewports=[new qt(2,1,1,1),new qt(0,1,1,1),new qt(3,1,1,1),new qt(1,1,1,1),new qt(3,0,1,1),new qt(1,0,1,1)],this._cubeDirections=[new z(1,0,0),new z(-1,0,0),new z(0,0,1),new z(0,0,-1),new z(0,1,0),new z(0,-1,0)],this._cubeUps=[new z(0,1,0),new z(0,1,0),new z(0,1,0),new z(0,1,0),new z(0,0,1),new z(0,0,-1)]}updateMatrices(e,t=0){const r=this.camera,i=this.matrix,s=e.distance||r.far;s!==r.far&&(r.far=s,r.updateProjectionMatrix()),Cd.setFromMatrixPosition(e.matrixWorld),r.position.copy(Cd),d_.copy(r.position),d_.add(this._cubeDirections[t]),r.up.copy(this._cubeUps[t]),r.lookAt(d_),r.updateMatrixWorld(),i.makeTranslation(-Cd.x,-Cd.y,-Cd.z),JC.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),this._frustum.setFromProjectionMatrix(JC)}}class kk extends Pa{constructor(e,t,r=0,i=2){super(e,t),this.isPointLight=!0,this.type="PointLight",this.distance=r,this.decay=i,this.shadow=new d9}get power(){return this.intensity*4*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}class f9 extends Kb{constructor(){super(new va(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class Ik extends Pa{constructor(e,t){super(e,t),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(Vt.DEFAULT_UP),this.updateMatrix(),this.target=new Vt,this.shadow=new f9}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}class Nk extends Pa{constructor(e,t){super(e,t),this.isAmbientLight=!0,this.type="AmbientLight"}}class Dk extends Pa{constructor(e,t,r=10,i=10){super(e,t),this.isRectAreaLight=!0,this.type="RectAreaLight",this.width=r,this.height=i}get power(){return this.intensity*this.width*this.height*Math.PI}set power(e){this.intensity=e/(this.width*this.height*Math.PI)}copy(e){return super.copy(e),this.width=e.width,this.height=e.height,this}toJSON(e){const t=super.toJSON(e);return t.object.width=this.width,t.object.height=this.height,t}}class Uk{constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new z)}set(e){for(let t=0;t<9;t++)this.coefficients[t].copy(e[t]);return this}zero(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}getAt(e,t){const r=e.x,i=e.y,s=e.z,o=this.coefficients;return t.copy(o[0]).multiplyScalar(.282095),t.addScaledVector(o[1],.488603*i),t.addScaledVector(o[2],.488603*s),t.addScaledVector(o[3],.488603*r),t.addScaledVector(o[4],1.092548*(r*i)),t.addScaledVector(o[5],1.092548*(i*s)),t.addScaledVector(o[6],.315392*(3*s*s-1)),t.addScaledVector(o[7],1.092548*(r*s)),t.addScaledVector(o[8],.546274*(r*r-i*i)),t}getIrradianceAt(e,t){const r=e.x,i=e.y,s=e.z,o=this.coefficients;return t.copy(o[0]).multiplyScalar(.886227),t.addScaledVector(o[1],2*.511664*i),t.addScaledVector(o[2],2*.511664*s),t.addScaledVector(o[3],2*.511664*r),t.addScaledVector(o[4],2*.429043*r*i),t.addScaledVector(o[5],2*.429043*i*s),t.addScaledVector(o[6],.743125*s*s-.247708),t.addScaledVector(o[7],2*.429043*r*s),t.addScaledVector(o[8],.429043*(r*r-i*i)),t}add(e){for(let t=0;t<9;t++)this.coefficients[t].add(e.coefficients[t]);return this}addScaledSH(e,t){for(let r=0;r<9;r++)this.coefficients[r].addScaledVector(e.coefficients[r],t);return this}scale(e){for(let t=0;t<9;t++)this.coefficients[t].multiplyScalar(e);return this}lerp(e,t){for(let r=0;r<9;r++)this.coefficients[r].lerp(e.coefficients[r],t);return this}equals(e){for(let t=0;t<9;t++)if(!this.coefficients[t].equals(e.coefficients[t]))return!1;return!0}copy(e){return this.set(e.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(e,t=0){const r=this.coefficients;for(let i=0;i<9;i++)r[i].fromArray(e,t+i*3);return this}toArray(e=[],t=0){const r=this.coefficients;for(let i=0;i<9;i++)r[i].toArray(e,t+i*3);return e}static getBasisAt(e,t){const r=e.x,i=e.y,s=e.z;t[0]=.282095,t[1]=.488603*i,t[2]=.488603*s,t[3]=.488603*r,t[4]=1.092548*r*i,t[5]=1.092548*i*s,t[6]=.315392*(3*s*s-1),t[7]=1.092548*r*s,t[8]=.546274*(r*r-i*i)}}class vv extends Pa{constructor(e=new Uk,t=1){super(void 0,t),this.isLightProbe=!0,this.sh=e}copy(e){return super.copy(e),this.sh.copy(e.sh),this}fromJSON(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this}toJSON(e){const t=super.toJSON(e);return t.object.sh=this.sh.toArray(),t}}class yv extends Lr{constructor(e){super(e),this.textures={}}load(e,t,r,i){const s=this,o=new ms(s.manager);o.setPath(s.path),o.setRequestHeader(s.requestHeader),o.setWithCredentials(s.withCredentials),o.load(e,function(a){try{t(s.parse(JSON.parse(a)))}catch(l){i?i(l):console.error(l),s.manager.itemError(e)}},r,i)}parse(e){const t=this.textures;function r(s){return t[s]===void 0&&console.warn("THREE.MaterialLoader: Undefined texture",s),t[s]}const i=yv.createMaterialFromType(e.type);if(e.uuid!==void 0&&(i.uuid=e.uuid),e.name!==void 0&&(i.name=e.name),e.color!==void 0&&i.color!==void 0&&i.color.setHex(e.color),e.roughness!==void 0&&(i.roughness=e.roughness),e.metalness!==void 0&&(i.metalness=e.metalness),e.sheen!==void 0&&(i.sheen=e.sheen),e.sheenColor!==void 0&&(i.sheenColor=new Ye().setHex(e.sheenColor)),e.sheenRoughness!==void 0&&(i.sheenRoughness=e.sheenRoughness),e.emissive!==void 0&&i.emissive!==void 0&&i.emissive.setHex(e.emissive),e.specular!==void 0&&i.specular!==void 0&&i.specular.setHex(e.specular),e.specularIntensity!==void 0&&(i.specularIntensity=e.specularIntensity),e.specularColor!==void 0&&i.specularColor!==void 0&&i.specularColor.setHex(e.specularColor),e.shininess!==void 0&&(i.shininess=e.shininess),e.clearcoat!==void 0&&(i.clearcoat=e.clearcoat),e.clearcoatRoughness!==void 0&&(i.clearcoatRoughness=e.clearcoatRoughness),e.iridescence!==void 0&&(i.iridescence=e.iridescence),e.iridescenceIOR!==void 0&&(i.iridescenceIOR=e.iridescenceIOR),e.iridescenceThicknessRange!==void 0&&(i.iridescenceThicknessRange=e.iridescenceThicknessRange),e.transmission!==void 0&&(i.transmission=e.transmission),e.thickness!==void 0&&(i.thickness=e.thickness),e.attenuationDistance!==void 0&&(i.attenuationDistance=e.attenuationDistance),e.attenuationColor!==void 0&&i.attenuationColor!==void 0&&i.attenuationColor.setHex(e.attenuationColor),e.anisotropy!==void 0&&(i.anisotropy=e.anisotropy),e.anisotropyRotation!==void 0&&(i.anisotropyRotation=e.anisotropyRotation),e.fog!==void 0&&(i.fog=e.fog),e.flatShading!==void 0&&(i.flatShading=e.flatShading),e.blending!==void 0&&(i.blending=e.blending),e.combine!==void 0&&(i.combine=e.combine),e.side!==void 0&&(i.side=e.side),e.shadowSide!==void 0&&(i.shadowSide=e.shadowSide),e.opacity!==void 0&&(i.opacity=e.opacity),e.transparent!==void 0&&(i.transparent=e.transparent),e.alphaTest!==void 0&&(i.alphaTest=e.alphaTest),e.alphaHash!==void 0&&(i.alphaHash=e.alphaHash),e.depthTest!==void 0&&(i.depthTest=e.depthTest),e.depthWrite!==void 0&&(i.depthWrite=e.depthWrite),e.colorWrite!==void 0&&(i.colorWrite=e.colorWrite),e.stencilWrite!==void 0&&(i.stencilWrite=e.stencilWrite),e.stencilWriteMask!==void 0&&(i.stencilWriteMask=e.stencilWriteMask),e.stencilFunc!==void 0&&(i.stencilFunc=e.stencilFunc),e.stencilRef!==void 0&&(i.stencilRef=e.stencilRef),e.stencilFuncMask!==void 0&&(i.stencilFuncMask=e.stencilFuncMask),e.stencilFail!==void 0&&(i.stencilFail=e.stencilFail),e.stencilZFail!==void 0&&(i.stencilZFail=e.stencilZFail),e.stencilZPass!==void 0&&(i.stencilZPass=e.stencilZPass),e.wireframe!==void 0&&(i.wireframe=e.wireframe),e.wireframeLinewidth!==void 0&&(i.wireframeLinewidth=e.wireframeLinewidth),e.wireframeLinecap!==void 0&&(i.wireframeLinecap=e.wireframeLinecap),e.wireframeLinejoin!==void 0&&(i.wireframeLinejoin=e.wireframeLinejoin),e.rotation!==void 0&&(i.rotation=e.rotation),e.linewidth!==1&&(i.linewidth=e.linewidth),e.dashSize!==void 0&&(i.dashSize=e.dashSize),e.gapSize!==void 0&&(i.gapSize=e.gapSize),e.scale!==void 0&&(i.scale=e.scale),e.polygonOffset!==void 0&&(i.polygonOffset=e.polygonOffset),e.polygonOffsetFactor!==void 0&&(i.polygonOffsetFactor=e.polygonOffsetFactor),e.polygonOffsetUnits!==void 0&&(i.polygonOffsetUnits=e.polygonOffsetUnits),e.dithering!==void 0&&(i.dithering=e.dithering),e.alphaToCoverage!==void 0&&(i.alphaToCoverage=e.alphaToCoverage),e.premultipliedAlpha!==void 0&&(i.premultipliedAlpha=e.premultipliedAlpha),e.forceSinglePass!==void 0&&(i.forceSinglePass=e.forceSinglePass),e.visible!==void 0&&(i.visible=e.visible),e.toneMapped!==void 0&&(i.toneMapped=e.toneMapped),e.userData!==void 0&&(i.userData=e.userData),e.vertexColors!==void 0&&(typeof e.vertexColors=="number"?i.vertexColors=e.vertexColors>0:i.vertexColors=e.vertexColors),e.uniforms!==void 0)for(const s in e.uniforms){const o=e.uniforms[s];switch(i.uniforms[s]={},o.type){case"t":i.uniforms[s].value=r(o.value);break;case"c":i.uniforms[s].value=new Ye().setHex(o.value);break;case"v2":i.uniforms[s].value=new _e().fromArray(o.value);break;case"v3":i.uniforms[s].value=new z().fromArray(o.value);break;case"v4":i.uniforms[s].value=new qt().fromArray(o.value);break;case"m3":i.uniforms[s].value=new Et().fromArray(o.value);break;case"m4":i.uniforms[s].value=new pt().fromArray(o.value);break;default:i.uniforms[s].value=o.value}}if(e.defines!==void 0&&(i.defines=e.defines),e.vertexShader!==void 0&&(i.vertexShader=e.vertexShader),e.fragmentShader!==void 0&&(i.fragmentShader=e.fragmentShader),e.glslVersion!==void 0&&(i.glslVersion=e.glslVersion),e.extensions!==void 0)for(const s in e.extensions)i.extensions[s]=e.extensions[s];if(e.lights!==void 0&&(i.lights=e.lights),e.clipping!==void 0&&(i.clipping=e.clipping),e.size!==void 0&&(i.size=e.size),e.sizeAttenuation!==void 0&&(i.sizeAttenuation=e.sizeAttenuation),e.map!==void 0&&(i.map=r(e.map)),e.matcap!==void 0&&(i.matcap=r(e.matcap)),e.alphaMap!==void 0&&(i.alphaMap=r(e.alphaMap)),e.bumpMap!==void 0&&(i.bumpMap=r(e.bumpMap)),e.bumpScale!==void 0&&(i.bumpScale=e.bumpScale),e.normalMap!==void 0&&(i.normalMap=r(e.normalMap)),e.normalMapType!==void 0&&(i.normalMapType=e.normalMapType),e.normalScale!==void 0){let s=e.normalScale;Array.isArray(s)===!1&&(s=[s,s]),i.normalScale=new _e().fromArray(s)}return e.displacementMap!==void 0&&(i.displacementMap=r(e.displacementMap)),e.displacementScale!==void 0&&(i.displacementScale=e.displacementScale),e.displacementBias!==void 0&&(i.displacementBias=e.displacementBias),e.roughnessMap!==void 0&&(i.roughnessMap=r(e.roughnessMap)),e.metalnessMap!==void 0&&(i.metalnessMap=r(e.metalnessMap)),e.emissiveMap!==void 0&&(i.emissiveMap=r(e.emissiveMap)),e.emissiveIntensity!==void 0&&(i.emissiveIntensity=e.emissiveIntensity),e.specularMap!==void 0&&(i.specularMap=r(e.specularMap)),e.specularIntensityMap!==void 0&&(i.specularIntensityMap=r(e.specularIntensityMap)),e.specularColorMap!==void 0&&(i.specularColorMap=r(e.specularColorMap)),e.envMap!==void 0&&(i.envMap=r(e.envMap)),e.envMapIntensity!==void 0&&(i.envMapIntensity=e.envMapIntensity),e.reflectivity!==void 0&&(i.reflectivity=e.reflectivity),e.refractionRatio!==void 0&&(i.refractionRatio=e.refractionRatio),e.lightMap!==void 0&&(i.lightMap=r(e.lightMap)),e.lightMapIntensity!==void 0&&(i.lightMapIntensity=e.lightMapIntensity),e.aoMap!==void 0&&(i.aoMap=r(e.aoMap)),e.aoMapIntensity!==void 0&&(i.aoMapIntensity=e.aoMapIntensity),e.gradientMap!==void 0&&(i.gradientMap=r(e.gradientMap)),e.clearcoatMap!==void 0&&(i.clearcoatMap=r(e.clearcoatMap)),e.clearcoatRoughnessMap!==void 0&&(i.clearcoatRoughnessMap=r(e.clearcoatRoughnessMap)),e.clearcoatNormalMap!==void 0&&(i.clearcoatNormalMap=r(e.clearcoatNormalMap)),e.clearcoatNormalScale!==void 0&&(i.clearcoatNormalScale=new _e().fromArray(e.clearcoatNormalScale)),e.iridescenceMap!==void 0&&(i.iridescenceMap=r(e.iridescenceMap)),e.iridescenceThicknessMap!==void 0&&(i.iridescenceThicknessMap=r(e.iridescenceThicknessMap)),e.transmissionMap!==void 0&&(i.transmissionMap=r(e.transmissionMap)),e.thicknessMap!==void 0&&(i.thicknessMap=r(e.thicknessMap)),e.anisotropyMap!==void 0&&(i.anisotropyMap=r(e.anisotropyMap)),e.sheenColorMap!==void 0&&(i.sheenColorMap=r(e.sheenColorMap)),e.sheenRoughnessMap!==void 0&&(i.sheenRoughnessMap=r(e.sheenRoughnessMap)),i}setTextures(e){return this.textures=e,this}static createMaterialFromType(e){const t={ShadowMaterial:vk,SpriteMaterial:Ib,RawShaderMaterial:yk,ShaderMaterial:Ws,PointsMaterial:Db,MeshPhysicalMaterial:xk,MeshStandardMaterial:Wb,MeshPhongMaterial:_k,MeshToonMaterial:wk,MeshNormalMaterial:Sk,MeshLambertMaterial:bk,MeshDepthMaterial:Pb,MeshDistanceMaterial:Lb,MeshBasicMaterial:Aa,MeshMatcapMaterial:Ek,LineDashedMaterial:Mk,LineBasicMaterial:Hr,Material:pr};return new t[e]}}class Qg{static decodeText(e){if(typeof TextDecoder<"u")return new TextDecoder().decode(e);let t="";for(let r=0,i=e.length;r<i;r++)t+=String.fromCharCode(e[r]);try{return decodeURIComponent(escape(t))}catch{return t}}static extractUrlBase(e){const t=e.lastIndexOf("/");return t===-1?"./":e.slice(0,t+1)}static resolveURL(e,t){return typeof e!="string"||e===""?"":(/^https?:\/\//i.test(t)&&/^\//.test(e)&&(t=t.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:t+e)}}class Fk extends mt{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}toJSON(){const e=super.toJSON();return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}class zk extends Lr{constructor(e){super(e)}load(e,t,r,i){const s=this,o=new ms(s.manager);o.setPath(s.path),o.setRequestHeader(s.requestHeader),o.setWithCredentials(s.withCredentials),o.load(e,function(a){try{t(s.parse(JSON.parse(a)))}catch(l){i?i(l):console.error(l),s.manager.itemError(e)}},r,i)}parse(e){const t={},r={};function i(g,v){if(t[v]!==void 0)return t[v];const _=g.interleavedBuffers[v],m=s(g,_.buffer),w=Jc(_.type,m),S=new ev(w,_.stride);return S.uuid=_.uuid,t[v]=S,S}function s(g,v){if(r[v]!==void 0)return r[v];const _=g.arrayBuffers[v],m=new Uint32Array(_).buffer;return r[v]=m,m}const o=e.isInstancedBufferGeometry?new Fk:new mt,a=e.data.index;if(a!==void 0){const g=Jc(a.type,a.array);o.setIndex(new Ut(g,1))}const l=e.data.attributes;for(const g in l){const v=l[g];let x;if(v.isInterleavedBufferAttribute){const _=i(e.data,v.data);x=new Pl(_,v.itemSize,v.offset,v.normalized)}else{const _=Jc(v.type,v.array),m=v.isInstancedBufferAttribute?Su:Ut;x=new m(_,v.itemSize,v.normalized)}v.name!==void 0&&(x.name=v.name),v.usage!==void 0&&x.setUsage(v.usage),v.updateRange!==void 0&&(x.updateRange.offset=v.updateRange.offset,x.updateRange.count=v.updateRange.count),o.setAttribute(g,x)}const u=e.data.morphAttributes;if(u)for(const g in u){const v=u[g],x=[];for(let _=0,m=v.length;_<m;_++){const w=v[_];let S;if(w.isInterleavedBufferAttribute){const M=i(e.data,w.data);S=new Pl(M,w.itemSize,w.offset,w.normalized)}else{const M=Jc(w.type,w.array);S=new Ut(M,w.itemSize,w.normalized)}w.name!==void 0&&(S.name=w.name),x.push(S)}o.morphAttributes[g]=x}e.data.morphTargetsRelative&&(o.morphTargetsRelative=!0);const h=e.data.groups||e.data.drawcalls||e.data.offsets;if(h!==void 0)for(let g=0,v=h.length;g!==v;++g){const x=h[g];o.addGroup(x.start,x.count,x.materialIndex)}const p=e.data.boundingSphere;if(p!==void 0){const g=new z;p.center!==void 0&&g.fromArray(p.center),o.boundingSphere=new vs(g,p.radius)}return e.name&&(o.name=e.name),e.userData&&(o.userData=e.userData),o}}class h9 extends Lr{constructor(e){super(e)}load(e,t,r,i){const s=this,o=this.path===""?Qg.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||o;const a=new ms(this.manager);a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,function(l){let u=null;try{u=JSON.parse(l)}catch(h){i!==void 0&&i(h),console.error("THREE:ObjectLoader: Can't parse "+e+".",h.message);return}const f=u.metadata;if(f===void 0||f.type===void 0||f.type.toLowerCase()==="geometry"){i!==void 0&&i(new Error("THREE.ObjectLoader: Can't load "+e)),console.error("THREE.ObjectLoader: Can't load "+e);return}s.parse(u,t)},r,i)}async loadAsync(e,t){const r=this,i=this.path===""?Qg.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||i;const s=new ms(this.manager);s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials);const o=await s.loadAsync(e,t),a=JSON.parse(o),l=a.metadata;if(l===void 0||l.type===void 0||l.type.toLowerCase()==="geometry")throw new Error("THREE.ObjectLoader: Can't load "+e);return await r.parseAsync(a)}parse(e,t){const r=this.parseAnimations(e.animations),i=this.parseShapes(e.shapes),s=this.parseGeometries(e.geometries,i),o=this.parseImages(e.images,function(){t!==void 0&&t(u)}),a=this.parseTextures(e.textures,o),l=this.parseMaterials(e.materials,a),u=this.parseObject(e.object,s,l,a,r),f=this.parseSkeletons(e.skeletons,u);if(this.bindSkeletons(u,f),t!==void 0){let h=!1;for(const p in o)if(o[p].data instanceof HTMLImageElement){h=!0;break}h===!1&&t(u)}return u}async parseAsync(e){const t=this.parseAnimations(e.animations),r=this.parseShapes(e.shapes),i=this.parseGeometries(e.geometries,r),s=await this.parseImagesAsync(e.images),o=this.parseTextures(e.textures,s),a=this.parseMaterials(e.materials,o),l=this.parseObject(e.object,i,a,o,t),u=this.parseSkeletons(e.skeletons,l);return this.bindSkeletons(l,u),l}parseShapes(e){const t={};if(e!==void 0)for(let r=0,i=e.length;r<i;r++){const s=new Sl().fromJSON(e[r]);t[s.uuid]=s}return t}parseSkeletons(e,t){const r={},i={};if(t.traverse(function(s){s.isBone&&(i[s.uuid]=s)}),e!==void 0)for(let s=0,o=e.length;s<o;s++){const a=new tv().fromJSON(e[s],i);r[a.uuid]=a}return r}parseGeometries(e,t){const r={};if(e!==void 0){const i=new zk;for(let s=0,o=e.length;s<o;s++){let a;const l=e[s];switch(l.type){case"BufferGeometry":case"InstancedBufferGeometry":a=i.parse(l);break;default:l.type in qC?a=qC[l.type].fromJSON(l,t):console.warn(`THREE.ObjectLoader: Unsupported geometry type "${l.type}"`)}a.uuid=l.uuid,l.name!==void 0&&(a.name=l.name),l.userData!==void 0&&(a.userData=l.userData),r[l.uuid]=a}}return r}parseMaterials(e,t){const r={},i={};if(e!==void 0){const s=new yv;s.setTextures(t);for(let o=0,a=e.length;o<a;o++){const l=e[o];r[l.uuid]===void 0&&(r[l.uuid]=s.parse(l)),i[l.uuid]=r[l.uuid]}}return i}parseAnimations(e){const t={};if(e!==void 0)for(let r=0;r<e.length;r++){const i=e[r],s=$f.parse(i);t[s.uuid]=s}return t}parseImages(e,t){const r=this,i={};let s;function o(l){return r.manager.itemStart(l),s.load(l,function(){r.manager.itemEnd(l)},void 0,function(){r.manager.itemError(l),r.manager.itemEnd(l)})}function a(l){if(typeof l=="string"){const u=l,f=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(u)?u:r.resourcePath+u;return o(f)}else return l.data?{data:Jc(l.type,l.data),width:l.width,height:l.height}:null}if(e!==void 0&&e.length>0){const l=new Yb(t);s=new Xf(l),s.setCrossOrigin(this.crossOrigin);for(let u=0,f=e.length;u<f;u++){const h=e[u],p=h.url;if(Array.isArray(p)){const g=[];for(let v=0,x=p.length;v<x;v++){const _=p[v],m=a(_);m!==null&&(m instanceof HTMLImageElement?g.push(m):g.push(new lu(m.data,m.width,m.height)))}i[h.uuid]=new fl(g)}else{const g=a(h.url);i[h.uuid]=new fl(g)}}}return i}async parseImagesAsync(e){const t=this,r={};let i;async function s(o){if(typeof o=="string"){const a=o,l=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(a)?a:t.resourcePath+a;return await i.loadAsync(l)}else return o.data?{data:Jc(o.type,o.data),width:o.width,height:o.height}:null}if(e!==void 0&&e.length>0){i=new Xf(this.manager),i.setCrossOrigin(this.crossOrigin);for(let o=0,a=e.length;o<a;o++){const l=e[o],u=l.url;if(Array.isArray(u)){const f=[];for(let h=0,p=u.length;h<p;h++){const g=u[h],v=await s(g);v!==null&&(v instanceof HTMLImageElement?f.push(v):f.push(new lu(v.data,v.width,v.height)))}r[l.uuid]=new fl(f)}else{const f=await s(l.url);r[l.uuid]=new fl(f)}}}return r}parseTextures(e,t){function r(s,o){return typeof s=="number"?s:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",s),o[s])}const i={};if(e!==void 0)for(let s=0,o=e.length;s<o;s++){const a=e[s];a.image===void 0&&console.warn('THREE.ObjectLoader: No "image" specified for',a.uuid),t[a.image]===void 0&&console.warn("THREE.ObjectLoader: Undefined image",a.image);const l=t[a.image],u=l.data;let f;Array.isArray(u)?(f=new mh,u.length===6&&(f.needsUpdate=!0)):(u&&u.data?f=new lu:f=new Ln,u&&(f.needsUpdate=!0)),f.source=l,f.uuid=a.uuid,a.name!==void 0&&(f.name=a.name),a.mapping!==void 0&&(f.mapping=r(a.mapping,p9)),a.channel!==void 0&&(f.channel=a.channel),a.offset!==void 0&&f.offset.fromArray(a.offset),a.repeat!==void 0&&f.repeat.fromArray(a.repeat),a.center!==void 0&&f.center.fromArray(a.center),a.rotation!==void 0&&(f.rotation=a.rotation),a.wrap!==void 0&&(f.wrapS=r(a.wrap[0],ZC),f.wrapT=r(a.wrap[1],ZC)),a.format!==void 0&&(f.format=a.format),a.internalFormat!==void 0&&(f.internalFormat=a.internalFormat),a.type!==void 0&&(f.type=a.type),a.colorSpace!==void 0&&(f.colorSpace=a.colorSpace),a.encoding!==void 0&&(f.encoding=a.encoding),a.minFilter!==void 0&&(f.minFilter=r(a.minFilter,QC)),a.magFilter!==void 0&&(f.magFilter=r(a.magFilter,QC)),a.anisotropy!==void 0&&(f.anisotropy=a.anisotropy),a.flipY!==void 0&&(f.flipY=a.flipY),a.generateMipmaps!==void 0&&(f.generateMipmaps=a.generateMipmaps),a.premultiplyAlpha!==void 0&&(f.premultiplyAlpha=a.premultiplyAlpha),a.unpackAlignment!==void 0&&(f.unpackAlignment=a.unpackAlignment),a.compareFunction!==void 0&&(f.compareFunction=a.compareFunction),a.userData!==void 0&&(f.userData=a.userData),i[a.uuid]=f}return i}parseObject(e,t,r,i,s){let o;function a(p){return t[p]===void 0&&console.warn("THREE.ObjectLoader: Undefined geometry",p),t[p]}function l(p){if(p!==void 0){if(Array.isArray(p)){const g=[];for(let v=0,x=p.length;v<x;v++){const _=p[v];r[_]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",_),g.push(r[_])}return g}return r[p]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",p),r[p]}}function u(p){return i[p]===void 0&&console.warn("THREE.ObjectLoader: Undefined texture",p),i[p]}let f,h;switch(e.type){case"Scene":o=new kb,e.background!==void 0&&(Number.isInteger(e.background)?o.background=new Ye(e.background):o.background=u(e.background)),e.environment!==void 0&&(o.environment=u(e.environment)),e.fog!==void 0&&(e.fog.type==="Fog"?o.fog=new Q0(e.fog.color,e.fog.near,e.fog.far):e.fog.type==="FogExp2"&&(o.fog=new Z0(e.fog.color,e.fog.density))),e.backgroundBlurriness!==void 0&&(o.backgroundBlurriness=e.backgroundBlurriness),e.backgroundIntensity!==void 0&&(o.backgroundIntensity=e.backgroundIntensity);break;case"PerspectiveCamera":o=new pn(e.fov,e.aspect,e.near,e.far),e.focus!==void 0&&(o.focus=e.focus),e.zoom!==void 0&&(o.zoom=e.zoom),e.filmGauge!==void 0&&(o.filmGauge=e.filmGauge),e.filmOffset!==void 0&&(o.filmOffset=e.filmOffset),e.view!==void 0&&(o.view=Object.assign({},e.view));break;case"OrthographicCamera":o=new va(e.left,e.right,e.top,e.bottom,e.near,e.far),e.zoom!==void 0&&(o.zoom=e.zoom),e.view!==void 0&&(o.view=Object.assign({},e.view));break;case"AmbientLight":o=new Nk(e.color,e.intensity);break;case"DirectionalLight":o=new Ik(e.color,e.intensity);break;case"PointLight":o=new kk(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":o=new Dk(e.color,e.intensity,e.width,e.height);break;case"SpotLight":o=new Ok(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay);break;case"HemisphereLight":o=new Lk(e.color,e.groundColor,e.intensity);break;case"LightProbe":o=new vv().fromJSON(e);break;case"SkinnedMesh":f=a(e.geometry),h=l(e.material),o=new rk(f,h),e.bindMode!==void 0&&(o.bindMode=e.bindMode),e.bindMatrix!==void 0&&o.bindMatrix.fromArray(e.bindMatrix),e.skeleton!==void 0&&(o.skeleton=e.skeleton);break;case"Mesh":f=a(e.geometry),h=l(e.material),o=new ir(f,h);break;case"InstancedMesh":f=a(e.geometry),h=l(e.material);const p=e.count,g=e.instanceMatrix,v=e.instanceColor;o=new ik(f,h,p),o.instanceMatrix=new Su(new Float32Array(g.array),16),v!==void 0&&(o.instanceColor=new Su(new Float32Array(v.array),v.itemSize));break;case"LOD":o=new nk;break;case"Line":o=new ba(a(e.geometry),l(e.material));break;case"LineLoop":o=new sk(a(e.geometry),l(e.material));break;case"LineSegments":o=new $s(a(e.geometry),l(e.material));break;case"PointCloud":case"Points":o=new ok(a(e.geometry),l(e.material));break;case"Sprite":o=new tk(l(e.material));break;case"Group":o=new Qc;break;case"Bone":o=new Nb;break;default:o=new Vt}if(o.uuid=e.uuid,e.name!==void 0&&(o.name=e.name),e.matrix!==void 0?(o.matrix.fromArray(e.matrix),e.matrixAutoUpdate!==void 0&&(o.matrixAutoUpdate=e.matrixAutoUpdate),o.matrixAutoUpdate&&o.matrix.decompose(o.position,o.quaternion,o.scale)):(e.position!==void 0&&o.position.fromArray(e.position),e.rotation!==void 0&&o.rotation.fromArray(e.rotation),e.quaternion!==void 0&&o.quaternion.fromArray(e.quaternion),e.scale!==void 0&&o.scale.fromArray(e.scale)),e.up!==void 0&&o.up.fromArray(e.up),e.castShadow!==void 0&&(o.castShadow=e.castShadow),e.receiveShadow!==void 0&&(o.receiveShadow=e.receiveShadow),e.shadow&&(e.shadow.bias!==void 0&&(o.shadow.bias=e.shadow.bias),e.shadow.normalBias!==void 0&&(o.shadow.normalBias=e.shadow.normalBias),e.shadow.radius!==void 0&&(o.shadow.radius=e.shadow.radius),e.shadow.mapSize!==void 0&&o.shadow.mapSize.fromArray(e.shadow.mapSize),e.shadow.camera!==void 0&&(o.shadow.camera=this.parseObject(e.shadow.camera))),e.visible!==void 0&&(o.visible=e.visible),e.frustumCulled!==void 0&&(o.frustumCulled=e.frustumCulled),e.renderOrder!==void 0&&(o.renderOrder=e.renderOrder),e.userData!==void 0&&(o.userData=e.userData),e.layers!==void 0&&(o.layers.mask=e.layers),e.children!==void 0){const p=e.children;for(let g=0;g<p.length;g++)o.add(this.parseObject(p[g],t,r,i,s))}if(e.animations!==void 0){const p=e.animations;for(let g=0;g<p.length;g++){const v=p[g];o.animations.push(s[v])}}if(e.type==="LOD"){e.autoUpdate!==void 0&&(o.autoUpdate=e.autoUpdate);const p=e.levels;for(let g=0;g<p.length;g++){const v=p[g],x=o.getObjectByProperty("uuid",v.object);x!==void 0&&o.addLevel(x,v.distance,v.hysteresis)}}return o}bindSkeletons(e,t){Object.keys(t).length!==0&&e.traverse(function(r){if(r.isSkinnedMesh===!0&&r.skeleton!==void 0){const i=t[r.skeleton];i===void 0?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",r.skeleton):r.bind(i,r.bindMatrix)}})}}const p9={UVMapping:G0,CubeReflectionMapping:_a,CubeRefractionMapping:wa,EquirectangularReflectionMapping:Pf,EquirectangularRefractionMapping:Lf,CubeUVReflectionMapping:ku},ZC={RepeatWrapping:Of,ClampToEdgeWrapping:Ar,MirroredRepeatWrapping:kf},QC={NearestFilter:In,NearestMipmapNearestFilter:Kg,NearestMipmapLinearFilter:tf,LinearFilter:Dn,LinearMipmapNearestFilter:mb,LinearMipmapLinearFilter:Sa};class m9 extends Lr{constructor(e){super(e),this.isImageBitmapLoader=!0,typeof createImageBitmap>"u"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(e){return this.options=e,this}load(e,t,r,i){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,o=Ol.get(e);if(o!==void 0)return s.manager.itemStart(e),setTimeout(function(){t&&t(o),s.manager.itemEnd(e)},0),o;const a={};a.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",a.headers=this.requestHeader,fetch(e,a).then(function(l){return l.blob()}).then(function(l){return createImageBitmap(l,Object.assign(s.options,{colorSpaceConversion:"none"}))}).then(function(l){Ol.add(e,l),t&&t(l),s.manager.itemEnd(e)}).catch(function(l){i&&i(l),s.manager.itemError(e),s.manager.itemEnd(e)}),s.manager.itemStart(e)}}let Rm;class Jb{static getContext(){return Rm===void 0&&(Rm=new(window.AudioContext||window.webkitAudioContext)),Rm}static setContext(e){Rm=e}}class g9 extends Lr{constructor(e){super(e)}load(e,t,r,i){const s=this,o=new ms(this.manager);o.setResponseType("arraybuffer"),o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(l){try{const u=l.slice(0);Jb.getContext().decodeAudioData(u,function(h){t(h)},a)}catch(u){a(u)}},r,i);function a(l){i?i(l):console.error(l),s.manager.itemError(e)}}}class v9 extends vv{constructor(e,t,r=1){super(void 0,r),this.isHemisphereLightProbe=!0;const i=new Ye().set(e),s=new Ye().set(t),o=new z(i.r,i.g,i.b),a=new z(s.r,s.g,s.b),l=Math.sqrt(Math.PI),u=l*Math.sqrt(.75);this.sh.coefficients[0].copy(o).add(a).multiplyScalar(l),this.sh.coefficients[1].copy(o).sub(a).multiplyScalar(u)}}class y9 extends vv{constructor(e,t=1){super(void 0,t),this.isAmbientLightProbe=!0;const r=new Ye().set(e);this.sh.coefficients[0].set(r.r,r.g,r.b).multiplyScalar(2*Math.sqrt(Math.PI))}}const eA=new pt,tA=new pt,Wa=new pt;class x9{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new pn,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new pn,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(e){const t=this._cache;if(t.focus!==e.focus||t.fov!==e.fov||t.aspect!==e.aspect*this.aspect||t.near!==e.near||t.far!==e.far||t.zoom!==e.zoom||t.eyeSep!==this.eyeSep){t.focus=e.focus,t.fov=e.fov,t.aspect=e.aspect*this.aspect,t.near=e.near,t.far=e.far,t.zoom=e.zoom,t.eyeSep=this.eyeSep,Wa.copy(e.projectionMatrix);const i=t.eyeSep/2,s=i*t.near/t.focus,o=t.near*Math.tan(_l*t.fov*.5)/t.zoom;let a,l;tA.elements[12]=-i,eA.elements[12]=i,a=-o*t.aspect+s,l=o*t.aspect+s,Wa.elements[0]=2*t.near/(l-a),Wa.elements[8]=(l+a)/(l-a),this.cameraL.projectionMatrix.copy(Wa),a=-o*t.aspect-s,l=o*t.aspect-s,Wa.elements[0]=2*t.near/(l-a),Wa.elements[8]=(l+a)/(l-a),this.cameraR.projectionMatrix.copy(Wa)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(tA),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(eA)}}class Zb{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=nA(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const t=nA();e=(t-this.oldTime)/1e3,this.oldTime=t,this.elapsedTime+=e}return e}}function nA(){return(typeof performance>"u"?Date:performance).now()}const Ga=new z,rA=new Rr,_9=new z,$a=new z;class w9 extends Vt{constructor(){super(),this.type="AudioListener",this.context=Jb.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new Zb}getInput(){return this.gain}removeFilter(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(e){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}updateMatrixWorld(e){super.updateMatrixWorld(e);const t=this.context.listener,r=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(Ga,rA,_9),$a.set(0,0,-1).applyQuaternion(rA),t.positionX){const i=this.context.currentTime+this.timeDelta;t.positionX.linearRampToValueAtTime(Ga.x,i),t.positionY.linearRampToValueAtTime(Ga.y,i),t.positionZ.linearRampToValueAtTime(Ga.z,i),t.forwardX.linearRampToValueAtTime($a.x,i),t.forwardY.linearRampToValueAtTime($a.y,i),t.forwardZ.linearRampToValueAtTime($a.z,i),t.upX.linearRampToValueAtTime(r.x,i),t.upY.linearRampToValueAtTime(r.y,i),t.upZ.linearRampToValueAtTime(r.z,i)}else t.setPosition(Ga.x,Ga.y,Ga.z),t.setOrientation($a.x,$a.y,$a.z,r.x,r.y,r.z)}}class Bk extends Vt{constructor(e){super(),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}setMediaElementSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}setMediaStreamSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}setBuffer(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}play(e=0){if(this.isPlaying===!0){console.warn("THREE.Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+e;const t=this.context.createBufferSource();return t.buffer=this.buffer,t.loop=this.loop,t.loopStart=this.loopStart,t.loopEnd=this.loopEnd,t.onended=this.onEnded.bind(this),t.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=t,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this._progress=0,this.source!==null&&(this.source.stop(),this.source.onended=null),this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}getFilters(){return this.filters}setFilters(e){return e||(e=[]),this._connected===!0?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}setDetune(e){if(this.detune=e,this.source.detune!==void 0)return this.isPlaying===!0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(e){return this.setFilters(e?[e]:[])}setPlaybackRate(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.playbackRate=e,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1}getLoop(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.loop=e,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(e){return this.loopStart=e,this}setLoopEnd(e){return this.loopEnd=e,this}getVolume(){return this.gain.gain.value}setVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}}const Xa=new z,iA=new Rr,S9=new z,qa=new z;class b9 extends Bk{constructor(e){super(e),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}connect(){super.connect(),this.panner.connect(this.gain)}disconnect(){super.disconnect(),this.panner.disconnect(this.gain)}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(e){return this.panner.refDistance=e,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(e){return this.panner.rolloffFactor=e,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(e){return this.panner.distanceModel=e,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(e){return this.panner.maxDistance=e,this}setDirectionalCone(e,t,r){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=t,this.panner.coneOuterGain=r,this}updateMatrixWorld(e){if(super.updateMatrixWorld(e),this.hasPlaybackControl===!0&&this.isPlaying===!1)return;this.matrixWorld.decompose(Xa,iA,S9),qa.set(0,0,1).applyQuaternion(iA);const t=this.panner;if(t.positionX){const r=this.context.currentTime+this.listener.timeDelta;t.positionX.linearRampToValueAtTime(Xa.x,r),t.positionY.linearRampToValueAtTime(Xa.y,r),t.positionZ.linearRampToValueAtTime(Xa.z,r),t.orientationX.linearRampToValueAtTime(qa.x,r),t.orientationY.linearRampToValueAtTime(qa.y,r),t.orientationZ.linearRampToValueAtTime(qa.z,r)}else t.setPosition(Xa.x,Xa.y,Xa.z),t.setOrientation(qa.x,qa.y,qa.z)}}class E9{constructor(e,t=2048){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=t,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let e=0;const t=this.getFrequencyData();for(let r=0;r<t.length;r++)e+=t[r];return e/t.length}}class jk{constructor(e,t,r){this.binding=e,this.valueSize=r;let i,s,o;switch(t){case"quaternion":i=this._slerp,s=this._slerpAdditive,o=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(r*6),this._workIndex=5;break;case"string":case"bool":i=this._select,s=this._select,o=this._setAdditiveIdentityOther,this.buffer=new Array(r*5);break;default:i=this._lerp,s=this._lerpAdditive,o=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(r*5)}this._mixBufferRegion=i,this._mixBufferRegionAdditive=s,this._setIdentity=o,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,t){const r=this.buffer,i=this.valueSize,s=e*i+i;let o=this.cumulativeWeight;if(o===0){for(let a=0;a!==i;++a)r[s+a]=r[a];o=t}else{o+=t;const a=t/o;this._mixBufferRegion(r,s,0,a,i)}this.cumulativeWeight=o}accumulateAdditive(e){const t=this.buffer,r=this.valueSize,i=r*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(t,i,0,e,r),this.cumulativeWeightAdditive+=e}apply(e){const t=this.valueSize,r=this.buffer,i=e*t+t,s=this.cumulativeWeight,o=this.cumulativeWeightAdditive,a=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,s<1){const l=t*this._origIndex;this._mixBufferRegion(r,i,l,1-s,t)}o>0&&this._mixBufferRegionAdditive(r,i,this._addIndex*t,1,t);for(let l=t,u=t+t;l!==u;++l)if(r[l]!==r[l+t]){a.setValue(r,i);break}}saveOriginalState(){const e=this.binding,t=this.buffer,r=this.valueSize,i=r*this._origIndex;e.getValue(t,i);for(let s=r,o=i;s!==o;++s)t[s]=t[i+s%r];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const e=this.valueSize*3;this.binding.setValue(this.buffer,e)}_setAdditiveIdentityNumeric(){const e=this._addIndex*this.valueSize,t=e+this.valueSize;for(let r=e;r<t;r++)this.buffer[r]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const e=this._origIndex*this.valueSize,t=this._addIndex*this.valueSize;for(let r=0;r<this.valueSize;r++)this.buffer[t+r]=this.buffer[e+r]}_select(e,t,r,i,s){if(i>=.5)for(let o=0;o!==s;++o)e[t+o]=e[r+o]}_slerp(e,t,r,i){Rr.slerpFlat(e,t,e,t,e,r,i)}_slerpAdditive(e,t,r,i,s){const o=this._workIndex*s;Rr.multiplyQuaternionsFlat(e,o,e,t,e,r),Rr.slerpFlat(e,t,e,t,e,o,i)}_lerp(e,t,r,i,s){const o=1-i;for(let a=0;a!==s;++a){const l=t+a;e[l]=e[l]*o+e[r+a]*i}}_lerpAdditive(e,t,r,i,s){for(let o=0;o!==s;++o){const a=t+o;e[a]=e[a]+e[r+o]*i}}}const Qb="\\[\\]\\.:\\/",M9=new RegExp("["+Qb+"]","g"),eE="[^"+Qb+"]",T9="[^"+Qb.replace("\\.","")+"]",C9=/((?:WC+[\/:])*)/.source.replace("WC",eE),A9=/(WCOD+)?/.source.replace("WCOD",T9),R9=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",eE),P9=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",eE),L9=new RegExp("^"+C9+A9+R9+P9+"$"),O9=["material","materials","bones","map"];class k9{constructor(e,t,r){const i=r||Nt.parseTrackName(t);this._targetGroup=e,this._bindings=e.subscribe_(t,i)}getValue(e,t){this.bind();const r=this._targetGroup.nCachedObjects_,i=this._bindings[r];i!==void 0&&i.getValue(e,t)}setValue(e,t){const r=this._bindings;for(let i=this._targetGroup.nCachedObjects_,s=r.length;i!==s;++i)r[i].setValue(e,t)}bind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,r=e.length;t!==r;++t)e[t].bind()}unbind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,r=e.length;t!==r;++t)e[t].unbind()}}class Nt{constructor(e,t,r){this.path=t,this.parsedPath=r||Nt.parseTrackName(t),this.node=Nt.findNode(e,this.parsedPath.nodeName),this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,t,r){return e&&e.isAnimationObjectGroup?new Nt.Composite(e,t,r):new Nt(e,t,r)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(M9,"")}static parseTrackName(e){const t=L9.exec(e);if(t===null)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const r={nodeName:t[2],objectName:t[3],objectIndex:t[4],propertyName:t[5],propertyIndex:t[6]},i=r.nodeName&&r.nodeName.lastIndexOf(".");if(i!==void 0&&i!==-1){const s=r.nodeName.substring(i+1);O9.indexOf(s)!==-1&&(r.nodeName=r.nodeName.substring(0,i),r.objectName=s)}if(r.propertyName===null||r.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return r}static findNode(e,t){if(t===void 0||t===""||t==="."||t===-1||t===e.name||t===e.uuid)return e;if(e.skeleton){const r=e.skeleton.getBoneByName(t);if(r!==void 0)return r}if(e.children){const r=function(s){for(let o=0;o<s.length;o++){const a=s[o];if(a.name===t||a.uuid===t)return a;const l=r(a.children);if(l)return l}return null},i=r(e.children);if(i)return i}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,t){e[t]=this.targetObject[this.propertyName]}_getValue_array(e,t){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)e[t++]=r[i]}_getValue_arrayElement(e,t){e[t]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,t){this.resolvedProperty.toArray(e,t)}_setValue_direct(e,t){this.targetObject[this.propertyName]=e[t]}_setValue_direct_setNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,t){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)r[i]=e[t++]}_setValue_array_setNeedsUpdate(e,t){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)r[i]=e[t++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,t){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)r[i]=e[t++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,t){this.resolvedProperty[this.propertyIndex]=e[t]}_setValue_arrayElement_setNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,t){this.resolvedProperty.fromArray(e,t)}_setValue_fromArray_setNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,t){this.bind(),this.getValue(e,t)}_setValue_unbound(e,t){this.bind(),this.setValue(e,t)}bind(){let e=this.node;const t=this.parsedPath,r=t.objectName,i=t.propertyName;let s=t.propertyIndex;if(e||(e=Nt.findNode(this.rootNode,t.nodeName),this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e){console.error("THREE.PropertyBinding: Trying to update node for track: "+this.path+" but it wasn't found.");return}if(r){let u=t.objectIndex;switch(r){case"materials":if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}e=e.material.materials;break;case"bones":if(!e.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}e=e.skeleton.bones;for(let f=0;f<e.length;f++)if(e[f].name===u){u=f;break}break;case"map":if("map"in e){e=e.map;break}if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.map){console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);return}e=e.material.map;break;default:if(e[r]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}e=e[r]}if(u!==void 0){if(e[u]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);return}e=e[u]}}const o=e[i];if(o===void 0){const u=t.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+u+"."+i+" but it wasn't found.",e);return}let a=this.Versioning.None;this.targetObject=e,e.needsUpdate!==void 0?a=this.Versioning.NeedsUpdate:e.matrixWorldNeedsUpdate!==void 0&&(a=this.Versioning.MatrixWorldNeedsUpdate);let l=this.BindingType.Direct;if(s!==void 0){if(i==="morphTargetInfluences"){if(!e.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!e.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}e.morphTargetDictionary[s]!==void 0&&(s=e.morphTargetDictionary[s])}l=this.BindingType.ArrayElement,this.resolvedProperty=o,this.propertyIndex=s}else o.fromArray!==void 0&&o.toArray!==void 0?(l=this.BindingType.HasFromToArray,this.resolvedProperty=o):Array.isArray(o)?(l=this.BindingType.EntireArray,this.resolvedProperty=o):this.propertyName=i;this.getValue=this.GetterByBindingType[l],this.setValue=this.SetterByBindingTypeAndVersioning[l][a]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}Nt.Composite=k9;Nt.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};Nt.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};Nt.prototype.GetterByBindingType=[Nt.prototype._getValue_direct,Nt.prototype._getValue_array,Nt.prototype._getValue_arrayElement,Nt.prototype._getValue_toArray];Nt.prototype.SetterByBindingTypeAndVersioning=[[Nt.prototype._setValue_direct,Nt.prototype._setValue_direct_setNeedsUpdate,Nt.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[Nt.prototype._setValue_array,Nt.prototype._setValue_array_setNeedsUpdate,Nt.prototype._setValue_array_setMatrixWorldNeedsUpdate],[Nt.prototype._setValue_arrayElement,Nt.prototype._setValue_arrayElement_setNeedsUpdate,Nt.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[Nt.prototype._setValue_fromArray,Nt.prototype._setValue_fromArray_setNeedsUpdate,Nt.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class I9{constructor(){this.isAnimationObjectGroup=!0,this.uuid=_i(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const e={};this._indicesByUUID=e;for(let r=0,i=arguments.length;r!==i;++r)e[arguments[r].uuid]=r;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const t=this;this.stats={objects:{get total(){return t._objects.length},get inUse(){return this.total-t.nCachedObjects_}},get bindingsPerObject(){return t._bindings.length}}}add(){const e=this._objects,t=this._indicesByUUID,r=this._paths,i=this._parsedPaths,s=this._bindings,o=s.length;let a,l=e.length,u=this.nCachedObjects_;for(let f=0,h=arguments.length;f!==h;++f){const p=arguments[f],g=p.uuid;let v=t[g];if(v===void 0){v=l++,t[g]=v,e.push(p);for(let x=0,_=o;x!==_;++x)s[x].push(new Nt(p,r[x],i[x]))}else if(v<u){a=e[v];const x=--u,_=e[x];t[_.uuid]=v,e[v]=_,t[g]=x,e[x]=p;for(let m=0,w=o;m!==w;++m){const S=s[m],M=S[x];let R=S[v];S[v]=M,R===void 0&&(R=new Nt(p,r[m],i[m])),S[x]=R}}else e[v]!==a&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=u}remove(){const e=this._objects,t=this._indicesByUUID,r=this._bindings,i=r.length;let s=this.nCachedObjects_;for(let o=0,a=arguments.length;o!==a;++o){const l=arguments[o],u=l.uuid,f=t[u];if(f!==void 0&&f>=s){const h=s++,p=e[h];t[p.uuid]=f,e[f]=p,t[u]=h,e[h]=l;for(let g=0,v=i;g!==v;++g){const x=r[g],_=x[h],m=x[f];x[f]=_,x[h]=m}}}this.nCachedObjects_=s}uncache(){const e=this._objects,t=this._indicesByUUID,r=this._bindings,i=r.length;let s=this.nCachedObjects_,o=e.length;for(let a=0,l=arguments.length;a!==l;++a){const u=arguments[a],f=u.uuid,h=t[f];if(h!==void 0)if(delete t[f],h<s){const p=--s,g=e[p],v=--o,x=e[v];t[g.uuid]=h,e[h]=g,t[x.uuid]=p,e[p]=x,e.pop();for(let _=0,m=i;_!==m;++_){const w=r[_],S=w[p],M=w[v];w[h]=S,w[p]=M,w.pop()}}else{const p=--o,g=e[p];p>0&&(t[g.uuid]=h),e[h]=g,e.pop();for(let v=0,x=i;v!==x;++v){const _=r[v];_[h]=_[p],_.pop()}}}this.nCachedObjects_=s}subscribe_(e,t){const r=this._bindingsIndicesByPath;let i=r[e];const s=this._bindings;if(i!==void 0)return s[i];const o=this._paths,a=this._parsedPaths,l=this._objects,u=l.length,f=this.nCachedObjects_,h=new Array(u);i=s.length,r[e]=i,o.push(e),a.push(t),s.push(h);for(let p=f,g=l.length;p!==g;++p){const v=l[p];h[p]=new Nt(v,e,t)}return h}unsubscribe_(e){const t=this._bindingsIndicesByPath,r=t[e];if(r!==void 0){const i=this._paths,s=this._parsedPaths,o=this._bindings,a=o.length-1,l=o[a],u=e[a];t[u]=r,o[r]=l,o.pop(),s[r]=s[a],s.pop(),i[r]=i[a],i.pop()}}}class Hk{constructor(e,t,r=null,i=t.blendMode){this._mixer=e,this._clip=t,this._localRoot=r,this.blendMode=i;const s=t.tracks,o=s.length,a=new Array(o),l={endingStart:ul,endingEnd:ul};for(let u=0;u!==o;++u){const f=s[u].createInterpolant(null);a[u]=f,f.settings=l}this._interpolantSettings=l,this._interpolants=a,this._propertyBindings=new Array(o),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=EO,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,t){return this.loop=e,this.repetitions=t,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,t,r){if(e.fadeOut(t),this.fadeIn(t),r){const i=this._clip.duration,s=e._clip.duration,o=s/i,a=i/s;e.warp(1,o,t),this.warp(a,1,t)}return this}crossFadeTo(e,t,r){return e.crossFadeFrom(this,t,r)}stopFading(){const e=this._weightInterpolant;return e!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,t,r){const i=this._mixer,s=i.time,o=this.timeScale;let a=this._timeScaleInterpolant;a===null&&(a=i._lendControlInterpolant(),this._timeScaleInterpolant=a);const l=a.parameterPositions,u=a.sampleValues;return l[0]=s,l[1]=s+r,u[0]=e/o,u[1]=t/o,this}stopWarping(){const e=this._timeScaleInterpolant;return e!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,t,r,i){if(!this.enabled){this._updateWeight(e);return}const s=this._startTime;if(s!==null){const l=(e-s)*r;l<0||r===0?t=0:(this._startTime=null,t=r*l)}t*=this._updateTimeScale(e);const o=this._updateTime(t),a=this._updateWeight(e);if(a>0){const l=this._interpolants,u=this._propertyBindings;switch(this.blendMode){case Sb:for(let f=0,h=l.length;f!==h;++f)l[f].evaluate(o),u[f].accumulateAdditive(a);break;case X0:default:for(let f=0,h=l.length;f!==h;++f)l[f].evaluate(o),u[f].accumulate(i,a)}}}_updateWeight(e){let t=0;if(this.enabled){t=this.weight;const r=this._weightInterpolant;if(r!==null){const i=r.evaluate(e)[0];t*=i,e>r.parameterPositions[1]&&(this.stopFading(),i===0&&(this.enabled=!1))}}return this._effectiveWeight=t,t}_updateTimeScale(e){let t=0;if(!this.paused){t=this.timeScale;const r=this._timeScaleInterpolant;if(r!==null){const i=r.evaluate(e)[0];t*=i,e>r.parameterPositions[1]&&(this.stopWarping(),t===0?this.paused=!0:this.timeScale=t)}}return this._effectiveTimeScale=t,t}_updateTime(e){const t=this._clip.duration,r=this.loop;let i=this.time+e,s=this._loopCount;const o=r===MO;if(e===0)return s===-1?i:o&&(s&1)===1?t-i:i;if(r===bO){s===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(i>=t)i=t;else if(i<0)i=0;else{this.time=i;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(s===-1&&(e>=0?(s=0,this._setEndings(!0,this.repetitions===0,o)):this._setEndings(this.repetitions===0,!0,o)),i>=t||i<0){const a=Math.floor(i/t);i-=t*a,s+=Math.abs(a);const l=this.repetitions-s;if(l<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,i=e>0?t:0,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(l===1){const u=e<0;this._setEndings(u,!u,o)}else this._setEndings(!1,!1,o);this._loopCount=s,this.time=i,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:a})}}else this.time=i;if(o&&(s&1)===1)return t-i}return i}_setEndings(e,t,r){const i=this._interpolantSettings;r?(i.endingStart=dl,i.endingEnd=dl):(e?i.endingStart=this.zeroSlopeAtStart?dl:ul:i.endingStart=Df,t?i.endingEnd=this.zeroSlopeAtEnd?dl:ul:i.endingEnd=Df)}_scheduleFading(e,t,r){const i=this._mixer,s=i.time;let o=this._weightInterpolant;o===null&&(o=i._lendControlInterpolant(),this._weightInterpolant=o);const a=o.parameterPositions,l=o.sampleValues;return a[0]=s,l[0]=t,a[1]=s+e,l[1]=r,this}}const N9=new Float32Array(1);class D9 extends Gs{constructor(e){super(),this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(e,t){const r=e._localRoot||this._root,i=e._clip.tracks,s=i.length,o=e._propertyBindings,a=e._interpolants,l=r.uuid,u=this._bindingsByRootAndName;let f=u[l];f===void 0&&(f={},u[l]=f);for(let h=0;h!==s;++h){const p=i[h],g=p.name;let v=f[g];if(v!==void 0)++v.referenceCount,o[h]=v;else{if(v=o[h],v!==void 0){v._cacheIndex===null&&(++v.referenceCount,this._addInactiveBinding(v,l,g));continue}const x=t&&t._propertyBindings[h].binding.parsedPath;v=new jk(Nt.create(r,g,x),p.ValueTypeName,p.getValueSize()),++v.referenceCount,this._addInactiveBinding(v,l,g),o[h]=v}a[h].resultBuffer=v.buffer}}_activateAction(e){if(!this._isActiveAction(e)){if(e._cacheIndex===null){const r=(e._localRoot||this._root).uuid,i=e._clip.uuid,s=this._actionsByClip[i];this._bindAction(e,s&&s.knownActions[0]),this._addInactiveAction(e,i,r)}const t=e._propertyBindings;for(let r=0,i=t.length;r!==i;++r){const s=t[r];s.useCount++===0&&(this._lendBinding(s),s.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){const t=e._propertyBindings;for(let r=0,i=t.length;r!==i;++r){const s=t[r];--s.useCount===0&&(s.restoreOriginalState(),this._takeBackBinding(s))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){const t=e._cacheIndex;return t!==null&&t<this._nActiveActions}_addInactiveAction(e,t,r){const i=this._actions,s=this._actionsByClip;let o=s[t];if(o===void 0)o={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,s[t]=o;else{const a=o.knownActions;e._byClipCacheIndex=a.length,a.push(e)}e._cacheIndex=i.length,i.push(e),o.actionByRoot[r]=e}_removeInactiveAction(e){const t=this._actions,r=t[t.length-1],i=e._cacheIndex;r._cacheIndex=i,t[i]=r,t.pop(),e._cacheIndex=null;const s=e._clip.uuid,o=this._actionsByClip,a=o[s],l=a.knownActions,u=l[l.length-1],f=e._byClipCacheIndex;u._byClipCacheIndex=f,l[f]=u,l.pop(),e._byClipCacheIndex=null;const h=a.actionByRoot,p=(e._localRoot||this._root).uuid;delete h[p],l.length===0&&delete o[s],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){const t=e._propertyBindings;for(let r=0,i=t.length;r!==i;++r){const s=t[r];--s.referenceCount===0&&this._removeInactiveBinding(s)}}_lendAction(e){const t=this._actions,r=e._cacheIndex,i=this._nActiveActions++,s=t[i];e._cacheIndex=i,t[i]=e,s._cacheIndex=r,t[r]=s}_takeBackAction(e){const t=this._actions,r=e._cacheIndex,i=--this._nActiveActions,s=t[i];e._cacheIndex=i,t[i]=e,s._cacheIndex=r,t[r]=s}_addInactiveBinding(e,t,r){const i=this._bindingsByRootAndName,s=this._bindings;let o=i[t];o===void 0&&(o={},i[t]=o),o[r]=e,e._cacheIndex=s.length,s.push(e)}_removeInactiveBinding(e){const t=this._bindings,r=e.binding,i=r.rootNode.uuid,s=r.path,o=this._bindingsByRootAndName,a=o[i],l=t[t.length-1],u=e._cacheIndex;l._cacheIndex=u,t[u]=l,t.pop(),delete a[s],Object.keys(a).length===0&&delete o[i]}_lendBinding(e){const t=this._bindings,r=e._cacheIndex,i=this._nActiveBindings++,s=t[i];e._cacheIndex=i,t[i]=e,s._cacheIndex=r,t[r]=s}_takeBackBinding(e){const t=this._bindings,r=e._cacheIndex,i=--this._nActiveBindings,s=t[i];e._cacheIndex=i,t[i]=e,s._cacheIndex=r,t[r]=s}_lendControlInterpolant(){const e=this._controlInterpolants,t=this._nActiveControlInterpolants++;let r=e[t];return r===void 0&&(r=new Xb(new Float32Array(2),new Float32Array(2),1,N9),r.__cacheIndex=t,e[t]=r),r}_takeBackControlInterpolant(e){const t=this._controlInterpolants,r=e.__cacheIndex,i=--this._nActiveControlInterpolants,s=t[i];e.__cacheIndex=i,t[i]=e,s.__cacheIndex=r,t[r]=s}clipAction(e,t,r){const i=t||this._root,s=i.uuid;let o=typeof e=="string"?$f.findByName(i,e):e;const a=o!==null?o.uuid:e,l=this._actionsByClip[a];let u=null;if(r===void 0&&(o!==null?r=o.blendMode:r=X0),l!==void 0){const h=l.actionByRoot[s];if(h!==void 0&&h.blendMode===r)return h;u=l.knownActions[0],o===null&&(o=u._clip)}if(o===null)return null;const f=new Hk(this,o,t,r);return this._bindAction(f,u),this._addInactiveAction(f,a,s),f}existingAction(e,t){const r=t||this._root,i=r.uuid,s=typeof e=="string"?$f.findByName(r,e):e,o=s?s.uuid:e,a=this._actionsByClip[o];return a!==void 0&&a.actionByRoot[i]||null}stopAllAction(){const e=this._actions,t=this._nActiveActions;for(let r=t-1;r>=0;--r)e[r].stop();return this}update(e){e*=this.timeScale;const t=this._actions,r=this._nActiveActions,i=this.time+=e,s=Math.sign(e),o=this._accuIndex^=1;for(let u=0;u!==r;++u)t[u]._update(i,e,s,o);const a=this._bindings,l=this._nActiveBindings;for(let u=0;u!==l;++u)a[u].apply(o);return this}setTime(e){this.time=0;for(let t=0;t<this._actions.length;t++)this._actions[t].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){const t=this._actions,r=e.uuid,i=this._actionsByClip,s=i[r];if(s!==void 0){const o=s.knownActions;for(let a=0,l=o.length;a!==l;++a){const u=o[a];this._deactivateAction(u);const f=u._cacheIndex,h=t[t.length-1];u._cacheIndex=null,u._byClipCacheIndex=null,h._cacheIndex=f,t[f]=h,t.pop(),this._removeInactiveBindingsForAction(u)}delete i[r]}}uncacheRoot(e){const t=e.uuid,r=this._actionsByClip;for(const o in r){const a=r[o].actionByRoot,l=a[t];l!==void 0&&(this._deactivateAction(l),this._removeInactiveAction(l))}const i=this._bindingsByRootAndName,s=i[t];if(s!==void 0)for(const o in s){const a=s[o];a.restoreOriginalState(),this._removeInactiveBinding(a)}}uncacheAction(e,t){const r=this.existingAction(e,t);r!==null&&(this._deactivateAction(r),this._removeInactiveAction(r))}}class tE{constructor(e){this.value=e}clone(){return new tE(this.value.clone===void 0?this.value:this.value.clone())}}let U9=0;class F9 extends Gs{constructor(){super(),this.isUniformsGroup=!0,Object.defineProperty(this,"id",{value:U9++}),this.name="",this.usage=Uf,this.uniforms=[]}add(e){return this.uniforms.push(e),this}remove(e){const t=this.uniforms.indexOf(e);return t!==-1&&this.uniforms.splice(t,1),this}setName(e){return this.name=e,this}setUsage(e){return this.usage=e,this}dispose(){return this.dispatchEvent({type:"dispose"}),this}copy(e){this.name=e.name,this.usage=e.usage;const t=e.uniforms;this.uniforms.length=0;for(let r=0,i=t.length;r<i;r++)this.uniforms.push(t[r].clone());return this}clone(){return new this.constructor().copy(this)}}class z9 extends ev{constructor(e,t,r=1){super(e,t),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=r}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}clone(e){const t=super.clone(e);return t.meshPerAttribute=this.meshPerAttribute,t}toJSON(e){const t=super.toJSON(e);return t.isInstancedInterleavedBuffer=!0,t.meshPerAttribute=this.meshPerAttribute,t}}class B9{constructor(e,t,r,i,s){this.isGLBufferAttribute=!0,this.name="",this.buffer=e,this.type=t,this.itemSize=r,this.elementSize=i,this.count=s,this.version=0}set needsUpdate(e){e===!0&&this.version++}setBuffer(e){return this.buffer=e,this}setType(e,t){return this.type=e,this.elementSize=t,this}setItemSize(e){return this.itemSize=e,this}setCount(e){return this.count=e,this}}class Vk{constructor(e,t,r=0,i=1/0){this.ray=new Iu(e,t),this.near=r,this.far=i,this.camera=null,this.layers=new wl,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,t){this.ray.set(e,t)}setFromCamera(e,t){t.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(t).sub(this.ray.origin).normalize(),this.camera=t):t.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(t.near+t.far)/(t.near-t.far)).unproject(t),this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld),this.camera=t):console.error("THREE.Raycaster: Unsupported camera type: "+t.type)}intersectObject(e,t=!0,r=[]){return Tw(e,this,r,t),r.sort(sA),r}intersectObjects(e,t=!0,r=[]){for(let i=0,s=e.length;i<s;i++)Tw(e[i],this,r,t);return r.sort(sA),r}}function sA(n,e){return n.distance-e.distance}function Tw(n,e,t,r){if(n.layers.test(e.layers)&&n.raycast(e,t),r===!0){const i=n.children;for(let s=0,o=i.length;s<o;s++)Tw(i[s],e,t,!0)}}class Cw{constructor(e=1,t=0,r=0){return this.radius=e,this.phi=t,this.theta=r,this}set(e,t,r){return this.radius=e,this.phi=t,this.theta=r,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,r){return this.radius=Math.sqrt(e*e+t*t+r*r),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,r),this.phi=Math.acos(Pn(t/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}class j9{constructor(e=1,t=0,r=0){return this.radius=e,this.theta=t,this.y=r,this}set(e,t,r){return this.radius=e,this.theta=t,this.y=r,this}copy(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,r){return this.radius=Math.sqrt(e*e+r*r),this.theta=Math.atan2(e,r),this.y=t,this}clone(){return new this.constructor().copy(this)}}const oA=new _e;class H9{constructor(e=new _e(1/0,1/0),t=new _e(-1/0,-1/0)){this.isBox2=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromPoints(e){this.makeEmpty();for(let t=0,r=e.length;t<r;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const r=oA.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y)}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,oA).distanceTo(e)}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const aA=new z,Pm=new z;class V9{constructor(e=new z,t=new z){this.start=e,this.end=t}set(e,t){return this.start.copy(e),this.end.copy(t),this}copy(e){return this.start.copy(e.start),this.end.copy(e.end),this}getCenter(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}delta(e){return e.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(e,t){return this.delta(t).multiplyScalar(e).add(this.start)}closestPointToPointParameter(e,t){aA.subVectors(e,this.start),Pm.subVectors(this.end,this.start);const r=Pm.dot(Pm);let s=Pm.dot(aA)/r;return t&&(s=Pn(s,0,1)),s}closestPointToPoint(e,t,r){const i=this.closestPointToPointParameter(e,t);return this.delta(r).multiplyScalar(i).add(this.start)}applyMatrix4(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}equals(e){return e.start.equals(this.start)&&e.end.equals(this.end)}clone(){return new this.constructor().copy(this)}}const lA=new z;class W9 extends Vt{constructor(e,t){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=t,this.type="SpotLightHelper";const r=new mt,i=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let o=0,a=1,l=32;o<l;o++,a++){const u=o/l*Math.PI*2,f=a/l*Math.PI*2;i.push(Math.cos(u),Math.sin(u),1,Math.cos(f),Math.sin(f),1)}r.setAttribute("position",new et(i,3));const s=new Hr({fog:!1,toneMapped:!1});this.cone=new $s(r,s),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1);const e=this.light.distance?this.light.distance:1e3,t=e*Math.tan(this.light.angle);this.cone.scale.set(t,t,e),lA.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(lA),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const Wo=new z,Lm=new pt,f_=new pt;class G9 extends $s{constructor(e){const t=Wk(e),r=new mt,i=[],s=[],o=new Ye(0,0,1),a=new Ye(0,1,0);for(let u=0;u<t.length;u++){const f=t[u];f.parent&&f.parent.isBone&&(i.push(0,0,0),i.push(0,0,0),s.push(o.r,o.g,o.b),s.push(a.r,a.g,a.b))}r.setAttribute("position",new et(i,3)),r.setAttribute("color",new et(s,3));const l=new Hr({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(r,l),this.isSkeletonHelper=!0,this.type="SkeletonHelper",this.root=e,this.bones=t,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(e){const t=this.bones,r=this.geometry,i=r.getAttribute("position");f_.copy(this.root.matrixWorld).invert();for(let s=0,o=0;s<t.length;s++){const a=t[s];a.parent&&a.parent.isBone&&(Lm.multiplyMatrices(f_,a.matrixWorld),Wo.setFromMatrixPosition(Lm),i.setXYZ(o,Wo.x,Wo.y,Wo.z),Lm.multiplyMatrices(f_,a.parent.matrixWorld),Wo.setFromMatrixPosition(Lm),i.setXYZ(o+1,Wo.x,Wo.y,Wo.z),o+=2)}r.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose()}}function Wk(n){const e=[];n.isBone===!0&&e.push(n);for(let t=0;t<n.children.length;t++)e.push.apply(e,Wk(n.children[t]));return e}class $9 extends ir{constructor(e,t,r){const i=new xh(t,4,2),s=new Aa({wireframe:!0,fog:!1,toneMapped:!1});super(i,s),this.light=e,this.color=r,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const X9=new z,cA=new Ye,uA=new Ye;class q9 extends Vt{constructor(e,t,r){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=r,this.type="HemisphereLightHelper";const i=new yh(t);i.rotateY(Math.PI*.5),this.material=new Aa({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0&&(this.material.vertexColors=!0);const s=i.getAttribute("position"),o=new Float32Array(s.count*3);i.setAttribute("color",new Ut(o,3)),this.add(new ir(i,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const e=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{const t=e.geometry.getAttribute("color");cA.copy(this.light.color),uA.copy(this.light.groundColor);for(let r=0,i=t.count;r<i;r++){const s=r<i/2?cA:uA;t.setXYZ(r,s.r,s.g,s.b)}t.needsUpdate=!0}this.light.updateWorldMatrix(!0,!1),e.lookAt(X9.setFromMatrixPosition(this.light.matrixWorld).negate())}}class Y9 extends $s{constructor(e=10,t=10,r=4473924,i=8947848){r=new Ye(r),i=new Ye(i);const s=t/2,o=e/t,a=e/2,l=[],u=[];for(let p=0,g=0,v=-a;p<=t;p++,v+=o){l.push(-a,0,v,a,0,v),l.push(v,0,-a,v,0,a);const x=p===s?r:i;x.toArray(u,g),g+=3,x.toArray(u,g),g+=3,x.toArray(u,g),g+=3,x.toArray(u,g),g+=3}const f=new mt;f.setAttribute("position",new et(l,3)),f.setAttribute("color",new et(u,3));const h=new Hr({vertexColors:!0,toneMapped:!1});super(f,h),this.type="GridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}class K9 extends $s{constructor(e=10,t=16,r=8,i=64,s=4473924,o=8947848){s=new Ye(s),o=new Ye(o);const a=[],l=[];if(t>1)for(let h=0;h<t;h++){const p=h/t*(Math.PI*2),g=Math.sin(p)*e,v=Math.cos(p)*e;a.push(0,0,0),a.push(g,0,v);const x=h&1?s:o;l.push(x.r,x.g,x.b),l.push(x.r,x.g,x.b)}for(let h=0;h<r;h++){const p=h&1?s:o,g=e-e/r*h;for(let v=0;v<i;v++){let x=v/i*(Math.PI*2),_=Math.sin(x)*g,m=Math.cos(x)*g;a.push(_,0,m),l.push(p.r,p.g,p.b),x=(v+1)/i*(Math.PI*2),_=Math.sin(x)*g,m=Math.cos(x)*g,a.push(_,0,m),l.push(p.r,p.g,p.b)}}const u=new mt;u.setAttribute("position",new et(a,3)),u.setAttribute("color",new et(l,3));const f=new Hr({vertexColors:!0,toneMapped:!1});super(u,f),this.type="PolarGridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}const dA=new z,Om=new z,fA=new z;class J9 extends Vt{constructor(e,t,r){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=r,this.type="DirectionalLightHelper",t===void 0&&(t=1);let i=new mt;i.setAttribute("position",new et([-t,t,0,t,t,0,t,-t,0,-t,-t,0,-t,t,0],3));const s=new Hr({fog:!1,toneMapped:!1});this.lightPlane=new ba(i,s),this.add(this.lightPlane),i=new mt,i.setAttribute("position",new et([0,0,0,0,0,1],3)),this.targetLine=new ba(i,s),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),dA.setFromMatrixPosition(this.light.matrixWorld),Om.setFromMatrixPosition(this.light.target.matrixWorld),fA.subVectors(Om,dA),this.lightPlane.lookAt(Om),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(Om),this.targetLine.scale.z=fA.length()}}const km=new z,Mn=new ph;class Z9 extends $s{constructor(e){const t=new mt,r=new Hr({color:16777215,vertexColors:!0,toneMapped:!1}),i=[],s=[],o={};a("n1","n2"),a("n2","n4"),a("n4","n3"),a("n3","n1"),a("f1","f2"),a("f2","f4"),a("f4","f3"),a("f3","f1"),a("n1","f1"),a("n2","f2"),a("n3","f3"),a("n4","f4"),a("p","n1"),a("p","n2"),a("p","n3"),a("p","n4"),a("u1","u2"),a("u2","u3"),a("u3","u1"),a("c","t"),a("p","c"),a("cn1","cn2"),a("cn3","cn4"),a("cf1","cf2"),a("cf3","cf4");function a(v,x){l(v),l(x)}function l(v){i.push(0,0,0),s.push(0,0,0),o[v]===void 0&&(o[v]=[]),o[v].push(i.length/3-1)}t.setAttribute("position",new et(i,3)),t.setAttribute("color",new et(s,3)),super(t,r),this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=o,this.update();const u=new Ye(16755200),f=new Ye(16711680),h=new Ye(43775),p=new Ye(16777215),g=new Ye(3355443);this.setColors(u,f,h,p,g)}setColors(e,t,r,i,s){const a=this.geometry.getAttribute("color");a.setXYZ(0,e.r,e.g,e.b),a.setXYZ(1,e.r,e.g,e.b),a.setXYZ(2,e.r,e.g,e.b),a.setXYZ(3,e.r,e.g,e.b),a.setXYZ(4,e.r,e.g,e.b),a.setXYZ(5,e.r,e.g,e.b),a.setXYZ(6,e.r,e.g,e.b),a.setXYZ(7,e.r,e.g,e.b),a.setXYZ(8,e.r,e.g,e.b),a.setXYZ(9,e.r,e.g,e.b),a.setXYZ(10,e.r,e.g,e.b),a.setXYZ(11,e.r,e.g,e.b),a.setXYZ(12,e.r,e.g,e.b),a.setXYZ(13,e.r,e.g,e.b),a.setXYZ(14,e.r,e.g,e.b),a.setXYZ(15,e.r,e.g,e.b),a.setXYZ(16,e.r,e.g,e.b),a.setXYZ(17,e.r,e.g,e.b),a.setXYZ(18,e.r,e.g,e.b),a.setXYZ(19,e.r,e.g,e.b),a.setXYZ(20,e.r,e.g,e.b),a.setXYZ(21,e.r,e.g,e.b),a.setXYZ(22,e.r,e.g,e.b),a.setXYZ(23,e.r,e.g,e.b),a.setXYZ(24,t.r,t.g,t.b),a.setXYZ(25,t.r,t.g,t.b),a.setXYZ(26,t.r,t.g,t.b),a.setXYZ(27,t.r,t.g,t.b),a.setXYZ(28,t.r,t.g,t.b),a.setXYZ(29,t.r,t.g,t.b),a.setXYZ(30,t.r,t.g,t.b),a.setXYZ(31,t.r,t.g,t.b),a.setXYZ(32,r.r,r.g,r.b),a.setXYZ(33,r.r,r.g,r.b),a.setXYZ(34,r.r,r.g,r.b),a.setXYZ(35,r.r,r.g,r.b),a.setXYZ(36,r.r,r.g,r.b),a.setXYZ(37,r.r,r.g,r.b),a.setXYZ(38,i.r,i.g,i.b),a.setXYZ(39,i.r,i.g,i.b),a.setXYZ(40,s.r,s.g,s.b),a.setXYZ(41,s.r,s.g,s.b),a.setXYZ(42,s.r,s.g,s.b),a.setXYZ(43,s.r,s.g,s.b),a.setXYZ(44,s.r,s.g,s.b),a.setXYZ(45,s.r,s.g,s.b),a.setXYZ(46,s.r,s.g,s.b),a.setXYZ(47,s.r,s.g,s.b),a.setXYZ(48,s.r,s.g,s.b),a.setXYZ(49,s.r,s.g,s.b),a.needsUpdate=!0}update(){const e=this.geometry,t=this.pointMap,r=1,i=1;Mn.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),kn("c",t,e,Mn,0,0,-1),kn("t",t,e,Mn,0,0,1),kn("n1",t,e,Mn,-r,-i,-1),kn("n2",t,e,Mn,r,-i,-1),kn("n3",t,e,Mn,-r,i,-1),kn("n4",t,e,Mn,r,i,-1),kn("f1",t,e,Mn,-r,-i,1),kn("f2",t,e,Mn,r,-i,1),kn("f3",t,e,Mn,-r,i,1),kn("f4",t,e,Mn,r,i,1),kn("u1",t,e,Mn,r*.7,i*1.1,-1),kn("u2",t,e,Mn,-r*.7,i*1.1,-1),kn("u3",t,e,Mn,0,i*2,-1),kn("cf1",t,e,Mn,-r,0,1),kn("cf2",t,e,Mn,r,0,1),kn("cf3",t,e,Mn,0,-i,1),kn("cf4",t,e,Mn,0,i,1),kn("cn1",t,e,Mn,-r,0,-1),kn("cn2",t,e,Mn,r,0,-1),kn("cn3",t,e,Mn,0,-i,-1),kn("cn4",t,e,Mn,0,i,-1),e.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function kn(n,e,t,r,i,s,o){km.set(i,s,o).unproject(r);const a=e[n];if(a!==void 0){const l=t.getAttribute("position");for(let u=0,f=a.length;u<f;u++)l.setXYZ(a[u],km.x,km.y,km.z)}}const Im=new Mi;class Q9 extends $s{constructor(e,t=16776960){const r=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=new Float32Array(8*3),s=new mt;s.setIndex(new Ut(r,1)),s.setAttribute("position",new Ut(i,3)),super(s,new Hr({color:t,toneMapped:!1})),this.object=e,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(e){if(e!==void 0&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),this.object!==void 0&&Im.setFromObject(this.object),Im.isEmpty())return;const t=Im.min,r=Im.max,i=this.geometry.attributes.position,s=i.array;s[0]=r.x,s[1]=r.y,s[2]=r.z,s[3]=t.x,s[4]=r.y,s[5]=r.z,s[6]=t.x,s[7]=t.y,s[8]=r.z,s[9]=r.x,s[10]=t.y,s[11]=r.z,s[12]=r.x,s[13]=r.y,s[14]=t.z,s[15]=t.x,s[16]=r.y,s[17]=t.z,s[18]=t.x,s[19]=t.y,s[20]=t.z,s[21]=r.x,s[22]=t.y,s[23]=t.z,i.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(e){return this.object=e,this.update(),this}copy(e,t){return super.copy(e,t),this.object=e.object,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class e7 extends $s{constructor(e,t=16776960){const r=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],s=new mt;s.setIndex(new Ut(r,1)),s.setAttribute("position",new et(i,3)),super(s,new Hr({color:t,toneMapped:!1})),this.box=e,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(e){const t=this.box;t.isEmpty()||(t.getCenter(this.position),t.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(e))}dispose(){this.geometry.dispose(),this.material.dispose()}}class t7 extends ba{constructor(e,t=1,r=16776960){const i=r,s=[1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],o=new mt;o.setAttribute("position",new et(s,3)),o.computeBoundingSphere(),super(o,new Hr({color:i,toneMapped:!1})),this.type="PlaneHelper",this.plane=e,this.size=t;const a=[1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],l=new mt;l.setAttribute("position",new et(a,3)),l.computeBoundingSphere(),this.add(new ir(l,new Aa({color:i,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(e){this.position.set(0,0,0),this.scale.set(.5*this.size,.5*this.size,1),this.lookAt(this.plane.normal),this.translateZ(-this.plane.constant),super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}}const hA=new z;let Nm,h_;class n7 extends Vt{constructor(e=new z(0,0,1),t=new z(0,0,0),r=1,i=16776960,s=r*.2,o=s*.2){super(),this.type="ArrowHelper",Nm===void 0&&(Nm=new mt,Nm.setAttribute("position",new et([0,0,0,0,1,0],3)),h_=new Du(0,.5,1,5,1),h_.translate(0,-.5,0)),this.position.copy(t),this.line=new ba(Nm,new Hr({color:i,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new ir(h_,new Aa({color:i,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(r,s,o)}setDirection(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{hA.set(e.z,0,-e.x).normalize();const t=Math.acos(e.y);this.quaternion.setFromAxisAngle(hA,t)}}setLength(e,t=e*.2,r=t*.2){this.line.scale.set(1,Math.max(1e-4,e-t),1),this.line.updateMatrix(),this.cone.scale.set(r,t,r),this.cone.position.y=e,this.cone.updateMatrix()}setColor(e){this.line.material.color.set(e),this.cone.material.color.set(e)}copy(e){return super.copy(e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this}dispose(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}}class r7 extends $s{constructor(e=1){const t=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],r=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],i=new mt;i.setAttribute("position",new et(t,3)),i.setAttribute("color",new et(r,3));const s=new Hr({vertexColors:!0,toneMapped:!1});super(i,s),this.type="AxesHelper"}setColors(e,t,r){const i=new Ye,s=this.geometry.attributes.color.array;return i.set(e),i.toArray(s,0),i.toArray(s,3),i.set(t),i.toArray(s,6),i.toArray(s,9),i.set(r),i.toArray(s,12),i.toArray(s,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class i7{constructor(){this.type="ShapePath",this.color=new Ye,this.subPaths=[],this.currentPath=null}moveTo(e,t){return this.currentPath=new Bf,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,t),this}lineTo(e,t){return this.currentPath.lineTo(e,t),this}quadraticCurveTo(e,t,r,i){return this.currentPath.quadraticCurveTo(e,t,r,i),this}bezierCurveTo(e,t,r,i,s,o){return this.currentPath.bezierCurveTo(e,t,r,i,s,o),this}splineThru(e){return this.currentPath.splineThru(e),this}toShapes(e){function t(m){const w=[];for(let S=0,M=m.length;S<M;S++){const R=m[S],P=new Sl;P.curves=R.curves,w.push(P)}return w}function r(m,w){const S=w.length;let M=!1;for(let R=S-1,P=0;P<S;R=P++){let L=w[R],k=w[P],C=k.x-L.x,A=k.y-L.y;if(Math.abs(A)>Number.EPSILON){if(A<0&&(L=w[P],C=-C,k=w[R],A=-A),m.y<L.y||m.y>k.y)continue;if(m.y===L.y){if(m.x===L.x)return!0}else{const U=A*(m.x-L.x)-C*(m.y-L.y);if(U===0)return!0;if(U<0)continue;M=!M}}else{if(m.y!==L.y)continue;if(k.x<=m.x&&m.x<=L.x||L.x<=m.x&&m.x<=k.x)return!0}}return M}const i=Hs.isClockWise,s=this.subPaths;if(s.length===0)return[];let o,a,l;const u=[];if(s.length===1)return a=s[0],l=new Sl,l.curves=a.curves,u.push(l),u;let f=!i(s[0].getPoints());f=e?!f:f;const h=[],p=[];let g=[],v=0,x;p[v]=void 0,g[v]=[];for(let m=0,w=s.length;m<w;m++)a=s[m],x=a.getPoints(),o=i(x),o=e?!o:o,o?(!f&&p[v]&&v++,p[v]={s:new Sl,p:x},p[v].s.curves=a.curves,f&&v++,g[v]=[]):g[v].push({h:a,p:x[0]});if(!p[0])return t(s);if(p.length>1){let m=!1,w=0;for(let S=0,M=p.length;S<M;S++)h[S]=[];for(let S=0,M=p.length;S<M;S++){const R=g[S];for(let P=0;P<R.length;P++){const L=R[P];let k=!0;for(let C=0;C<p.length;C++)r(L.p,p[C].p)&&(S!==C&&w++,k?(k=!1,h[C].push(L)):m=!0);k&&h[S].push(L)}}w>0&&m===!1&&(g=h)}let _;for(let m=0,w=p.length;m<w;m++){l=p[m].s,u.push(l),_=g[m];for(let S=0,M=_.length;S<M;S++)l.holes.push(_[S].h)}return u}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:V0}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=V0);const e0=Object.freeze(Object.defineProperty({__proto__:null,ACESFilmicToneMapping:pb,AddEquation:rl,AddOperation:cO,AdditiveAnimationBlendMode:Sb,AdditiveBlending:W1,AlphaFormat:gO,AlwaysCompare:UO,AlwaysDepth:nO,AlwaysStencilFunc:RO,AmbientLight:Nk,AmbientLightProbe:y9,AnimationAction:Hk,AnimationClip:$f,AnimationLoader:s9,AnimationMixer:D9,AnimationObjectGroup:I9,AnimationUtils:t9,ArcCurve:ak,ArrayCamera:JO,ArrowHelper:n7,Audio:Bk,AudioAnalyser:E9,AudioContext:Jb,AudioListener:w9,AudioLoader:g9,AxesHelper:r7,BackSide:zr,BasicDepthPacking:TO,BasicShadowMap:yF,Bone:Nb,BooleanKeyframeTrack:zl,Box2:H9,Box3:Mi,Box3Helper:e7,BoxGeometry:Fl,BoxHelper:Q9,BufferAttribute:Ut,BufferGeometry:mt,BufferGeometryLoader:zk,ByteType:pO,Cache:Ol,Camera:ph,CameraHelper:Z9,CanvasTexture:MH,CapsuleGeometry:iv,CatmullRomCurve3:lk,CineonToneMapping:fO,CircleGeometry:sv,ClampToEdgeWrapping:Ar,Clock:Zb,Color:Ye,ColorKeyframeTrack:qb,ColorManagement:Ui,CompressedArrayTexture:EH,CompressedTexture:Ub,CompressedTextureLoader:o9,ConeGeometry:ov,CubeCamera:VO,CubeReflectionMapping:_a,CubeRefractionMapping:wa,CubeTexture:mh,CubeTextureLoader:a9,CubeUVReflectionMapping:ku,CubicBezierCurve:zb,CubicBezierCurve3:ck,CubicInterpolant:Ck,CullFaceBack:V1,CullFaceFront:HL,CullFaceFrontBack:vF,CullFaceNone:jL,Curve:ys,CurvePath:dk,CustomBlending:VL,CustomToneMapping:hO,CylinderGeometry:Du,Cylindrical:j9,Data3DTexture:Tb,DataArrayTexture:Y0,DataTexture:lu,DataTextureLoader:l9,DataUtils:Lz,DecrementStencilOp:PF,DecrementWrapStencilOp:OF,DefaultLoadingManager:Pk,DepthFormat:ma,DepthStencilFormat:Rl,DepthTexture:ZO,DirectionalLight:Ik,DirectionalLightHelper:J9,DiscreteInterpolant:Ak,DisplayP3ColorSpace:bb,DodecahedronGeometry:av,DoubleSide:as,DstAlphaFactor:KL,DstColorFactor:ZL,DynamicCopyUsage:XF,DynamicDrawUsage:jF,DynamicReadUsage:WF,EdgesGeometry:fk,EllipseCurve:nv,EqualCompare:OO,EqualDepth:iO,EqualStencilFunc:DF,EquirectangularReflectionMapping:Pf,EquirectangularRefractionMapping:Lf,Euler:hh,EventDispatcher:Gs,ExtrudeGeometry:cv,FileLoader:ms,Float16BufferAttribute:Uz,Float32BufferAttribute:et,Float64BufferAttribute:Fz,FloatType:Ds,Fog:Q0,FogExp2:Z0,FramebufferTexture:bH,FrontSide:To,Frustum:K0,GLBufferAttribute:B9,GLSL1:YF,GLSL3:yw,GreaterCompare:IO,GreaterDepth:oO,GreaterEqualCompare:DO,GreaterEqualDepth:sO,GreaterEqualStencilFunc:BF,GreaterStencilFunc:FF,GridHelper:Y9,Group:Qc,HalfFloatType:xu,HemisphereLight:Lk,HemisphereLightHelper:q9,HemisphereLightProbe:v9,IcosahedronGeometry:uv,ImageBitmapLoader:m9,ImageLoader:Xf,ImageUtils:Mb,IncrementStencilOp:RF,IncrementWrapStencilOp:LF,InstancedBufferAttribute:Su,InstancedBufferGeometry:Fk,InstancedInterleavedBuffer:z9,InstancedMesh:ik,Int16BufferAttribute:Nz,Int32BufferAttribute:Dz,Int8BufferAttribute:Oz,IntType:gb,InterleavedBuffer:ev,InterleavedBufferAttribute:Pl,Interpolant:_h,InterpolateDiscrete:If,InterpolateLinear:Nf,InterpolateSmooth:ug,InvertStencilOp:kF,KeepStencilOp:dg,KeyframeTrack:xs,LOD:nk,LatheGeometry:vh,Layers:wl,LessCompare:LO,LessDepth:rO,LessEqualCompare:kO,LessEqualDepth:Yg,LessEqualStencilFunc:UF,LessStencilFunc:NF,Light:Pa,LightProbe:vv,Line:ba,Line3:V9,LineBasicMaterial:Hr,LineCurve:rv,LineCurve3:uk,LineDashedMaterial:Mk,LineLoop:sk,LineSegments:$s,LinearEncoding:q0,LinearFilter:Dn,LinearInterpolant:Xb,LinearMipMapLinearFilter:bF,LinearMipMapNearestFilter:SF,LinearMipmapLinearFilter:Sa,LinearMipmapNearestFilter:mb,LinearSRGBColorSpace:hs,LinearToneMapping:uO,Loader:Lr,LoaderUtils:Qg,LoadingManager:Yb,LoopOnce:bO,LoopPingPong:MO,LoopRepeat:EO,LuminanceAlphaFormat:yO,LuminanceFormat:vO,MOUSE:el,Material:pr,MaterialLoader:yv,MathUtils:cz,Matrix3:Et,Matrix4:pt,MaxEquation:q1,Mesh:ir,MeshBasicMaterial:Aa,MeshDepthMaterial:Pb,MeshDistanceMaterial:Lb,MeshLambertMaterial:bk,MeshMatcapMaterial:Ek,MeshNormalMaterial:Sk,MeshPhongMaterial:_k,MeshPhysicalMaterial:xk,MeshStandardMaterial:Wb,MeshToonMaterial:wk,MinEquation:X1,MirroredRepeatWrapping:kf,MixOperation:lO,MultiplyBlending:$1,MultiplyOperation:fh,NearestFilter:In,NearestMipMapLinearFilter:wF,NearestMipMapNearestFilter:_F,NearestMipmapLinearFilter:tf,NearestMipmapNearestFilter:Kg,NeverCompare:PO,NeverDepth:tO,NeverStencilFunc:IF,NoBlending:xo,NoColorSpace:ga,NoToneMapping:us,NormalAnimationBlendMode:X0,NormalBlending:xl,NotEqualCompare:NO,NotEqualDepth:aO,NotEqualStencilFunc:zF,NumberKeyframeTrack:Wf,Object3D:Vt,ObjectLoader:h9,ObjectSpaceNormalMap:AO,OctahedronGeometry:yh,OneFactor:XL,OneMinusDstAlphaFactor:JL,OneMinusDstColorFactor:QL,OneMinusSrcAlphaFactor:hb,OneMinusSrcColorFactor:YL,OrthographicCamera:va,PCFShadowMap:db,PCFSoftShadowMap:W0,PMREMGenerator:_w,Path:Bf,PerspectiveCamera:pn,Plane:Ko,PlaneGeometry:gh,PlaneHelper:t7,PointLight:kk,PointLightHelper:$9,Points:ok,PointsMaterial:Db,PolarGridHelper:K9,PolyhedronGeometry:Ra,PositionalAudio:b9,PropertyBinding:Nt,PropertyMixer:jk,QuadraticBezierCurve:Bb,QuadraticBezierCurve3:jb,Quaternion:Rr,QuaternionKeyframeTrack:Uu,QuaternionLinearInterpolant:Rk,RED_GREEN_RGTC2_Format:gw,RED_RGTC1_Format:SO,REVISION:V0,RGBADepthPacking:CO,RGBAFormat:mi,RGBAIntegerFormat:wb,RGBA_ASTC_10x10_Format:fw,RGBA_ASTC_10x5_Format:cw,RGBA_ASTC_10x6_Format:uw,RGBA_ASTC_10x8_Format:dw,RGBA_ASTC_12x10_Format:hw,RGBA_ASTC_12x12_Format:pw,RGBA_ASTC_4x4_Format:tw,RGBA_ASTC_5x4_Format:nw,RGBA_ASTC_5x5_Format:rw,RGBA_ASTC_6x5_Format:iw,RGBA_ASTC_6x6_Format:sw,RGBA_ASTC_8x5_Format:ow,RGBA_ASTC_8x6_Format:aw,RGBA_ASTC_8x8_Format:lw,RGBA_BPTC_Format:cg,RGBA_ETC2_EAC_Format:ew,RGBA_PVRTC_2BPPV1_Format:Z1,RGBA_PVRTC_4BPPV1_Format:J1,RGBA_S3TC_DXT1_Format:og,RGBA_S3TC_DXT3_Format:ag,RGBA_S3TC_DXT5_Format:lg,RGB_ETC1_Format:wO,RGB_ETC2_Format:Q1,RGB_PVRTC_2BPPV1_Format:K1,RGB_PVRTC_4BPPV1_Format:Y1,RGB_S3TC_DXT1_Format:sg,RGFormat:_O,RGIntegerFormat:_b,RawShaderMaterial:yk,Ray:Iu,Raycaster:Vk,RectAreaLight:Dk,RedFormat:xO,RedIntegerFormat:xb,ReinhardToneMapping:dO,RepeatWrapping:Of,ReplaceStencilOp:AF,ReverseSubtractEquation:GL,RingGeometry:dv,SIGNED_RED_GREEN_RGTC2_Format:vw,SIGNED_RED_RGTC1_Format:mw,SRGBColorSpace:_t,Scene:kb,ShaderChunk:St,ShaderLib:os,ShaderMaterial:Ws,ShadowMaterial:vk,Shape:Sl,ShapeGeometry:fv,ShapePath:i7,ShapeUtils:Hs,ShortType:mO,Skeleton:tv,SkeletonHelper:G9,SkinnedMesh:rk,Source:fl,Sphere:vs,SphereGeometry:xh,Spherical:Cw,SphericalHarmonics3:Uk,SplineCurve:Hb,SpotLight:Ok,SpotLightHelper:W9,Sprite:tk,SpriteMaterial:Ib,SrcAlphaFactor:fb,SrcAlphaSaturateFactor:eO,SrcColorFactor:qL,StaticCopyUsage:$F,StaticDrawUsage:Uf,StaticReadUsage:VF,StereoCamera:x9,StreamCopyUsage:qF,StreamDrawUsage:HF,StreamReadUsage:GF,StringKeyframeTrack:Bl,SubtractEquation:WL,SubtractiveBlending:G1,TOUCH:tl,TangentSpaceNormalMap:Ca,TetrahedronGeometry:hv,Texture:Ln,TextureLoader:c9,TorusGeometry:pv,TorusKnotGeometry:mv,Triangle:Jr,TriangleFanDrawMode:TF,TriangleStripDrawMode:MF,TrianglesDrawMode:EF,TubeGeometry:gv,TwoPassDoubleSide:xF,UVMapping:G0,Uint16BufferAttribute:Cb,Uint32BufferAttribute:Ab,Uint8BufferAttribute:kz,Uint8ClampedBufferAttribute:Iz,Uniform:tE,UniformsGroup:F9,UniformsLib:Ve,UniformsUtils:HO,UnsignedByteType:_o,UnsignedInt248Type:pa,UnsignedIntType:vo,UnsignedShort4444Type:vb,UnsignedShort5551Type:yb,UnsignedShortType:$0,VSMShadowMap:Ls,Vector2:_e,Vector3:z,Vector4:qt,VectorKeyframeTrack:Gf,VideoTexture:SH,WebGL1Renderer:QO,WebGL3DRenderTarget:_z,WebGLArrayRenderTarget:xz,WebGLCoordinateSystem:Us,WebGLCubeRenderTarget:WO,WebGLMultipleRenderTargets:wz,WebGLRenderTarget:ps,WebGLRenderer:Ob,WebGLUtils:KO,WebGPUCoordinateSystem:Ff,WireframeGeometry:gk,WrapAroundEnding:Df,ZeroCurvatureEnding:ul,ZeroFactor:$L,ZeroSlopeEnding:dl,ZeroStencilOp:CF,_SRGBAFormat:Jg,sRGBEncoding:js},Symbol.toStringTag,{value:"Module"}));var Aw=function(n,e){return Aw=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])},Aw(n,e)};function s7(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");Aw(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var Hi=function(){return Hi=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++){t=arguments[r];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},Hi.apply(this,arguments)};function qf(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t}function o7(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var pl={exports:{}},Go={};/**
 * @license React
 * react-reconciler-constants.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pA;function a7(){return pA||(pA=1,Go.ConcurrentRoot=1,Go.ContinuousEventPriority=4,Go.DefaultEventPriority=16,Go.DiscreteEventPriority=1,Go.IdleEventPriority=536870912,Go.LegacyRoot=0),Go}(function(n){n.exports=a7()})(pl);function l7(n){let e;const t=new Set,r=(u,f)=>{const h=typeof u=="function"?u(e):u;if(h!==e){const p=e;e=f?h:Object.assign({},e,h),t.forEach(g=>g(e,p))}},i=()=>e,s=(u,f=i,h=Object.is)=>{console.warn("[DEPRECATED] Please use `subscribeWithSelector` middleware");let p=f(e);function g(){const v=f(e);if(!h(p,v)){const x=p;u(p=v,x)}}return t.add(g),()=>t.delete(g)},l={setState:r,getState:i,subscribe:(u,f,h)=>f||h?s(u,f,h):(t.add(u),()=>t.delete(u)),destroy:()=>t.clear()};return e=n(r,i,l),l}const c7=typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),mA=c7?N.useEffect:N.useLayoutEffect;function u7(n){const e=typeof n=="function"?l7(n):n,t=(r=e.getState,i=Object.is)=>{const[,s]=N.useReducer(_=>_+1,0),o=e.getState(),a=N.useRef(o),l=N.useRef(r),u=N.useRef(i),f=N.useRef(!1),h=N.useRef();h.current===void 0&&(h.current=r(o));let p,g=!1;(a.current!==o||l.current!==r||u.current!==i||f.current)&&(p=r(o),g=!i(h.current,p)),mA(()=>{g&&(h.current=p),a.current=o,l.current=r,u.current=i,f.current=!1});const v=N.useRef(o);mA(()=>{const _=()=>{try{const w=e.getState(),S=l.current(w);u.current(h.current,S)||(a.current=w,h.current=S,s())}catch{f.current=!0,s()}},m=e.subscribe(_);return e.getState()!==v.current&&_(),m},[]);const x=g?p:h.current;return N.useDebugValue(x),x};return Object.assign(t,e),t[Symbol.iterator]=function(){console.warn("[useStore, api] = create() is deprecated and will be removed in v4");const r=[t,e];return{next(){const i=r.length<=0;return{value:r.shift(),done:i}}}},t}var Gk={exports:{}},t0={exports:{}},p_={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gA;function d7(){return gA||(gA=1,function(n){function e(D,$){var q=D.length;D.push($);e:for(;0<q;){var Y=q-1>>>1,Q=D[Y];if(0<i(Q,$))D[Y]=$,D[q]=Q,q=Y;else break e}}function t(D){return D.length===0?null:D[0]}function r(D){if(D.length===0)return null;var $=D[0],q=D.pop();if(q!==$){D[0]=q;e:for(var Y=0,Q=D.length,Ce=Q>>>1;Y<Ce;){var ge=2*(Y+1)-1,ie=D[ge],ce=ge+1,ke=D[ce];if(0>i(ie,q))ce<Q&&0>i(ke,ie)?(D[Y]=ke,D[ce]=q,Y=ce):(D[Y]=ie,D[ge]=q,Y=ge);else if(ce<Q&&0>i(ke,q))D[Y]=ke,D[ce]=q,Y=ce;else break e}}return $}function i(D,$){var q=D.sortIndex-$.sortIndex;return q!==0?q:D.id-$.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();n.unstable_now=function(){return o.now()-a}}var l=[],u=[],f=1,h=null,p=3,g=!1,v=!1,x=!1,_=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(D){for(var $=t(u);$!==null;){if($.callback===null)r(u);else if($.startTime<=D)r(u),$.sortIndex=$.expirationTime,e(l,$);else break;$=t(u)}}function M(D){if(x=!1,S(D),!v)if(t(l)!==null)v=!0,Z(R);else{var $=t(u);$!==null&&J(M,$.startTime-D)}}function R(D,$){v=!1,x&&(x=!1,m(k),k=-1),g=!0;var q=p;try{for(S($),h=t(l);h!==null&&(!(h.expirationTime>$)||D&&!U());){var Y=h.callback;if(typeof Y=="function"){h.callback=null,p=h.priorityLevel;var Q=Y(h.expirationTime<=$);$=n.unstable_now(),typeof Q=="function"?h.callback=Q:h===t(l)&&r(l),S($)}else r(l);h=t(l)}if(h!==null)var Ce=!0;else{var ge=t(u);ge!==null&&J(M,ge.startTime-$),Ce=!1}return Ce}finally{h=null,p=q,g=!1}}var P=!1,L=null,k=-1,C=5,A=-1;function U(){return!(n.unstable_now()-A<C)}function W(){if(L!==null){var D=n.unstable_now();A=D;var $=!0;try{$=L(!0,D)}finally{$?F():(P=!1,L=null)}}else P=!1}var F;if(typeof w=="function")F=function(){w(W)};else if(typeof MessageChannel<"u"){var G=new MessageChannel,X=G.port2;G.port1.onmessage=W,F=function(){X.postMessage(null)}}else F=function(){_(W,0)};function Z(D){L=D,P||(P=!0,F())}function J(D,$){k=_(function(){D(n.unstable_now())},$)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(D){D.callback=null},n.unstable_continueExecution=function(){v||g||(v=!0,Z(R))},n.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<D?Math.floor(1e3/D):5},n.unstable_getCurrentPriorityLevel=function(){return p},n.unstable_getFirstCallbackNode=function(){return t(l)},n.unstable_next=function(D){switch(p){case 1:case 2:case 3:var $=3;break;default:$=p}var q=p;p=$;try{return D()}finally{p=q}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(D,$){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var q=p;p=D;try{return $()}finally{p=q}},n.unstable_scheduleCallback=function(D,$,q){var Y=n.unstable_now();switch(typeof q=="object"&&q!==null?(q=q.delay,q=typeof q=="number"&&0<q?Y+q:Y):q=Y,D){case 1:var Q=-1;break;case 2:Q=250;break;case 5:Q=1073741823;break;case 4:Q=1e4;break;default:Q=5e3}return Q=q+Q,D={id:f++,callback:$,priorityLevel:D,startTime:q,expirationTime:Q,sortIndex:-1},q>Y?(D.sortIndex=q,e(u,D),t(l)===null&&D===t(u)&&(x?(m(k),k=-1):x=!0,J(M,q-Y))):(D.sortIndex=Q,e(l,D),v||g||(v=!0,Z(R))),D},n.unstable_shouldYield=U,n.unstable_wrapCallback=function(D){var $=p;return function(){var q=p;p=$;try{return D.apply(this,arguments)}finally{p=q}}}}(p_)),p_}(function(n){n.exports=d7()})(t0);/**
 * @license React
 * react-reconciler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var m_,vA;function f7(){return vA||(vA=1,m_=function(e){var t={},r=wt,i=t0.exports,s=Object.assign;function o(c){for(var d="https://reactjs.org/docs/error-decoder.html?invariant="+c,y=1;y<arguments.length;y++)d+="&args[]="+encodeURIComponent(arguments[y]);return"Minified React error #"+c+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,l=Symbol.for("react.element"),u=Symbol.for("react.portal"),f=Symbol.for("react.fragment"),h=Symbol.for("react.strict_mode"),p=Symbol.for("react.profiler"),g=Symbol.for("react.provider"),v=Symbol.for("react.context"),x=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),m=Symbol.for("react.suspense_list"),w=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),M=Symbol.for("react.offscreen"),R=Symbol.iterator;function P(c){return c===null||typeof c!="object"?null:(c=R&&c[R]||c["@@iterator"],typeof c=="function"?c:null)}function L(c){if(c==null)return null;if(typeof c=="function")return c.displayName||c.name||null;if(typeof c=="string")return c;switch(c){case f:return"Fragment";case u:return"Portal";case p:return"Profiler";case h:return"StrictMode";case _:return"Suspense";case m:return"SuspenseList"}if(typeof c=="object")switch(c.$$typeof){case v:return(c.displayName||"Context")+".Consumer";case g:return(c._context.displayName||"Context")+".Provider";case x:var d=c.render;return c=c.displayName,c||(c=d.displayName||d.name||"",c=c!==""?"ForwardRef("+c+")":"ForwardRef"),c;case w:return d=c.displayName||null,d!==null?d:L(c.type)||"Memo";case S:d=c._payload,c=c._init;try{return L(c(d))}catch{}}return null}function k(c){var d=c.type;switch(c.tag){case 24:return"Cache";case 9:return(d.displayName||"Context")+".Consumer";case 10:return(d._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return c=d.render,c=c.displayName||c.name||"",d.displayName||(c!==""?"ForwardRef("+c+")":"ForwardRef");case 7:return"Fragment";case 5:return d;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return L(d);case 8:return d===h?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof d=="function")return d.displayName||d.name||null;if(typeof d=="string")return d}return null}function C(c){var d=c,y=c;if(c.alternate)for(;d.return;)d=d.return;else{c=d;do d=c,d.flags&4098&&(y=d.return),c=d.return;while(c)}return d.tag===3?y:null}function A(c){if(C(c)!==c)throw Error(o(188))}function U(c){var d=c.alternate;if(!d){if(d=C(c),d===null)throw Error(o(188));return d!==c?null:c}for(var y=c,b=d;;){var T=y.return;if(T===null)break;var O=T.alternate;if(O===null){if(b=T.return,b!==null){y=b;continue}break}if(T.child===O.child){for(O=T.child;O;){if(O===y)return A(T),c;if(O===b)return A(T),d;O=O.sibling}throw Error(o(188))}if(y.return!==b.return)y=T,b=O;else{for(var V=!1,te=T.child;te;){if(te===y){V=!0,y=T,b=O;break}if(te===b){V=!0,b=T,y=O;break}te=te.sibling}if(!V){for(te=O.child;te;){if(te===y){V=!0,y=O,b=T;break}if(te===b){V=!0,b=O,y=T;break}te=te.sibling}if(!V)throw Error(o(189))}}if(y.alternate!==b)throw Error(o(190))}if(y.tag!==3)throw Error(o(188));return y.stateNode.current===y?c:d}function W(c){return c=U(c),c!==null?F(c):null}function F(c){if(c.tag===5||c.tag===6)return c;for(c=c.child;c!==null;){var d=F(c);if(d!==null)return d;c=c.sibling}return null}function G(c){if(c.tag===5||c.tag===6)return c;for(c=c.child;c!==null;){if(c.tag!==4){var d=G(c);if(d!==null)return d}c=c.sibling}return null}var X=Array.isArray,Z=e.getPublicInstance,J=e.getRootHostContext,D=e.getChildHostContext,$=e.prepareForCommit,q=e.resetAfterCommit,Y=e.createInstance,Q=e.appendInitialChild,Ce=e.finalizeInitialChildren,ge=e.prepareUpdate,ie=e.shouldSetTextContent,ce=e.createTextInstance,ke=e.scheduleTimeout,fe=e.cancelTimeout,Pe=e.noTimeout,Ue=e.isPrimaryRenderer,Ae=e.supportsMutation,j=e.supportsPersistence,Me=e.supportsHydration,ue=e.getInstanceFromNode,Re=e.preparePortalMount,we=e.getCurrentEventPriority,We=e.detachDeletedInstance,ze=e.supportsMicrotasks,He=e.scheduleMicrotask,Ke=e.supportsTestSelectors,rt=e.findFiberRoot,Ft=e.getBoundingRect,H=e.getTextContent,I=e.isHiddenSubtree,ne=e.matchAccessibilityRole,xe=e.setFocusIfFocusable,Se=e.setupIntersectionObserver,be=e.appendChild,Te=e.appendChildToContainer,Ne=e.commitTextUpdate,pe=e.commitMount,K=e.commitUpdate,he=e.insertBefore,Le=e.insertInContainerBefore,Oe=e.removeChild,Be=e.removeChildFromContainer,st=e.resetTextContent,At=e.hideInstance,ee=e.hideTextInstance,Fe=e.unhideInstance,le=e.unhideTextInstance,je=e.clearContainer,$e=e.cloneInstance,Ot=e.createContainerChildSet,tn=e.appendChildToContainerChildSet,Un=e.finalizeContainerChildren,ri=e.replaceContainerChildren,on=e.cloneHiddenInstance,ii=e.cloneHiddenTextInstance,ar=e.canHydrateInstance,Ih=e.canHydrateTextInstance,Nh=e.canHydrateSuspenseInstance,Dh=e.isSuspenseInstancePending,Ro=e.isSuspenseInstanceFallback,Uh=e.registerSuspenseInstanceRetry,_s=e.getNextHydratableSibling,Fh=e.getFirstHydratableChild,ty=e.getFirstHydratableChildWithinContainer,ny=e.getFirstHydratableChildWithinSuspenseInstance,ry=e.hydrateInstance,B=e.hydrateTextInstance,ae=e.hydrateSuspenseInstance,ve=e.getNextHydratableInstanceAfterSuspenseInstance,se=e.commitHydratedContainer,ye=e.commitHydratedSuspenseInstance,Ze=e.clearSuspenseBoundary,ot=e.clearSuspenseBoundaryFromContainer,ct=e.shouldDeleteUnhydratedTailInstances,ut=e.didNotMatchHydratedContainerTextInstance,Tt=e.didNotMatchHydratedTextInstance,dt;function ft(c){if(dt===void 0)try{throw Error()}catch(y){var d=y.stack.trim().match(/\n( *(at )?)/);dt=d&&d[1]||""}return`
`+dt+c}var nn=!1;function an(c,d){if(!c||nn)return"";nn=!0;var y=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(d)if(d=function(){throw Error()},Object.defineProperty(d.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(d,[])}catch(De){var b=De}Reflect.construct(c,[],d)}else{try{d.call()}catch(De){b=De}c.call(d.prototype)}else{try{throw Error()}catch(De){b=De}c()}}catch(De){if(De&&b&&typeof De.stack=="string"){for(var T=De.stack.split(`
`),O=b.stack.split(`
`),V=T.length-1,te=O.length-1;1<=V&&0<=te&&T[V]!==O[te];)te--;for(;1<=V&&0<=te;V--,te--)if(T[V]!==O[te]){if(V!==1||te!==1)do if(V--,te--,0>te||T[V]!==O[te]){var me=`
`+T[V].replace(" at new "," at ");return c.displayName&&me.includes("<anonymous>")&&(me=me.replace("<anonymous>",c.displayName)),me}while(1<=V&&0<=te);break}}}finally{nn=!1,Error.prepareStackTrace=y}return(c=c?c.displayName||c.name:"")?ft(c):""}var si=Object.prototype.hasOwnProperty,oi=[],Zt=-1;function gt(c){return{current:c}}function Xt(c){0>Zt||(c.current=oi[Zt],oi[Zt]=null,Zt--)}function ht(c,d){Zt++,oi[Zt]=c.current,c.current=d}var mr={},Gn=gt(mr),Fn=gt(!1),qi=mr;function Sn(c,d){var y=c.type.contextTypes;if(!y)return mr;var b=c.stateNode;if(b&&b.__reactInternalMemoizedUnmaskedChildContext===d)return b.__reactInternalMemoizedMaskedChildContext;var T={},O;for(O in y)T[O]=d[O];return b&&(c=c.stateNode,c.__reactInternalMemoizedUnmaskedChildContext=d,c.__reactInternalMemoizedMaskedChildContext=T),T}function bn(c){return c=c.childContextTypes,c!=null}function Po(){Xt(Fn),Xt(Gn)}function gr(c,d,y){if(Gn.current!==mr)throw Error(o(168));ht(Gn,d),ht(Fn,y)}function jl(c,d,y){var b=c.stateNode;if(d=d.childContextTypes,typeof b.getChildContext!="function")return y;b=b.getChildContext();for(var T in b)if(!(T in d))throw Error(o(108,k(c)||"Unknown",T));return s({},y,b)}function Hl(c){return c=(c=c.stateNode)&&c.__reactInternalMemoizedMergedChildContext||mr,qi=Gn.current,ht(Gn,c),ht(Fn,Fn.current),!0}function Wu(c,d,y){var b=c.stateNode;if(!b)throw Error(o(169));y?(c=jl(c,d,qi),b.__reactInternalMemoizedMergedChildContext=c,Xt(Fn),Xt(Gn),ht(Gn,c)):Xt(Fn),ht(Fn,y)}var Yi=Math.clz32?Math.clz32:dD,cD=Math.log,uD=Math.LN2;function dD(c){return c>>>=0,c===0?32:31-(cD(c)/uD|0)|0}var zh=64,Bh=4194304;function Gu(c){switch(c&-c){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return c&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return c}}function jh(c,d){var y=c.pendingLanes;if(y===0)return 0;var b=0,T=c.suspendedLanes,O=c.pingedLanes,V=y&268435455;if(V!==0){var te=V&~T;te!==0?b=Gu(te):(O&=V,O!==0&&(b=Gu(O)))}else V=y&~T,V!==0?b=Gu(V):O!==0&&(b=Gu(O));if(b===0)return 0;if(d!==0&&d!==b&&!(d&T)&&(T=b&-b,O=d&-d,T>=O||T===16&&(O&4194240)!==0))return d;if(b&4&&(b|=y&16),d=c.entangledLanes,d!==0)for(c=c.entanglements,d&=b;0<d;)y=31-Yi(d),T=1<<y,b|=c[y],d&=~T;return b}function fD(c,d){switch(c){case 1:case 2:case 4:return d+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return d+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function hD(c,d){for(var y=c.suspendedLanes,b=c.pingedLanes,T=c.expirationTimes,O=c.pendingLanes;0<O;){var V=31-Yi(O),te=1<<V,me=T[V];me===-1?(!(te&y)||te&b)&&(T[V]=fD(te,d)):me<=d&&(c.expiredLanes|=te),O&=~te}}function iy(c){return c=c.pendingLanes&-1073741825,c!==0?c:c&1073741824?1073741824:0}function sy(c){for(var d=[],y=0;31>y;y++)d.push(c);return d}function $u(c,d,y){c.pendingLanes|=d,d!==536870912&&(c.suspendedLanes=0,c.pingedLanes=0),c=c.eventTimes,d=31-Yi(d),c[d]=y}function pD(c,d){var y=c.pendingLanes&~d;c.pendingLanes=d,c.suspendedLanes=0,c.pingedLanes=0,c.expiredLanes&=d,c.mutableReadLanes&=d,c.entangledLanes&=d,d=c.entanglements;var b=c.eventTimes;for(c=c.expirationTimes;0<y;){var T=31-Yi(y),O=1<<T;d[T]=0,b[T]=-1,c[T]=-1,y&=~O}}function oy(c,d){var y=c.entangledLanes|=d;for(c=c.entanglements;y;){var b=31-Yi(y),T=1<<b;T&d|c[b]&d&&(c[b]|=d),y&=~T}}var zt=0;function YE(c){return c&=-c,1<c?4<c?c&268435455?16:536870912:4:1}var ay=i.unstable_scheduleCallback,KE=i.unstable_cancelCallback,mD=i.unstable_shouldYield,gD=i.unstable_requestPaint,Qn=i.unstable_now,ly=i.unstable_ImmediatePriority,vD=i.unstable_UserBlockingPriority,cy=i.unstable_NormalPriority,yD=i.unstable_IdlePriority,Hh=null,ws=null;function xD(c){if(ws&&typeof ws.onCommitFiberRoot=="function")try{ws.onCommitFiberRoot(Hh,c,void 0,(c.current.flags&128)===128)}catch{}}function _D(c,d){return c===d&&(c!==0||1/c===1/d)||c!==c&&d!==d}var Ss=typeof Object.is=="function"?Object.is:_D,Ys=null,Vh=!1,uy=!1;function JE(c){Ys===null?Ys=[c]:Ys.push(c)}function wD(c){Vh=!0,JE(c)}function bs(){if(!uy&&Ys!==null){uy=!0;var c=0,d=zt;try{var y=Ys;for(zt=1;c<y.length;c++){var b=y[c];do b=b(!0);while(b!==null)}Ys=null,Vh=!1}catch(T){throw Ys!==null&&(Ys=Ys.slice(c+1)),ay(ly,bs),T}finally{zt=d,uy=!1}}return null}var SD=a.ReactCurrentBatchConfig;function Wh(c,d){if(Ss(c,d))return!0;if(typeof c!="object"||c===null||typeof d!="object"||d===null)return!1;var y=Object.keys(c),b=Object.keys(d);if(y.length!==b.length)return!1;for(b=0;b<y.length;b++){var T=y[b];if(!si.call(d,T)||!Ss(c[T],d[T]))return!1}return!0}function bD(c){switch(c.tag){case 5:return ft(c.type);case 16:return ft("Lazy");case 13:return ft("Suspense");case 19:return ft("SuspenseList");case 0:case 2:case 15:return c=an(c.type,!1),c;case 11:return c=an(c.type.render,!1),c;case 1:return c=an(c.type,!0),c;default:return""}}function Ki(c,d){if(c&&c.defaultProps){d=s({},d),c=c.defaultProps;for(var y in c)d[y]===void 0&&(d[y]=c[y]);return d}return d}var Gh=gt(null),$h=null,Vl=null,dy=null;function fy(){dy=Vl=$h=null}function ZE(c,d,y){Ue?(ht(Gh,d._currentValue),d._currentValue=y):(ht(Gh,d._currentValue2),d._currentValue2=y)}function hy(c){var d=Gh.current;Xt(Gh),Ue?c._currentValue=d:c._currentValue2=d}function py(c,d,y){for(;c!==null;){var b=c.alternate;if((c.childLanes&d)!==d?(c.childLanes|=d,b!==null&&(b.childLanes|=d)):b!==null&&(b.childLanes&d)!==d&&(b.childLanes|=d),c===y)break;c=c.return}}function Wl(c,d){$h=c,dy=Vl=null,c=c.dependencies,c!==null&&c.firstContext!==null&&(c.lanes&d&&(ci=!0),c.firstContext=null)}function Ci(c){var d=Ue?c._currentValue:c._currentValue2;if(dy!==c)if(c={context:c,memoizedValue:d,next:null},Vl===null){if($h===null)throw Error(o(308));Vl=c,$h.dependencies={lanes:0,firstContext:c}}else Vl=Vl.next=c;return d}var Es=null,Lo=!1;function my(c){c.updateQueue={baseState:c.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function QE(c,d){c=c.updateQueue,d.updateQueue===c&&(d.updateQueue={baseState:c.baseState,firstBaseUpdate:c.firstBaseUpdate,lastBaseUpdate:c.lastBaseUpdate,shared:c.shared,effects:c.effects})}function Ks(c,d){return{eventTime:c,lane:d,tag:0,payload:null,callback:null,next:null}}function Oo(c,d){var y=c.updateQueue;y!==null&&(y=y.shared,zn!==null&&c.mode&1&&!(Ct&2)?(c=y.interleaved,c===null?(d.next=d,Es===null?Es=[y]:Es.push(y)):(d.next=c.next,c.next=d),y.interleaved=d):(c=y.pending,c===null?d.next=d:(d.next=c.next,c.next=d),y.pending=d))}function Xh(c,d,y){if(d=d.updateQueue,d!==null&&(d=d.shared,(y&4194240)!==0)){var b=d.lanes;b&=c.pendingLanes,y|=b,d.lanes=y,oy(c,y)}}function eM(c,d){var y=c.updateQueue,b=c.alternate;if(b!==null&&(b=b.updateQueue,y===b)){var T=null,O=null;if(y=y.firstBaseUpdate,y!==null){do{var V={eventTime:y.eventTime,lane:y.lane,tag:y.tag,payload:y.payload,callback:y.callback,next:null};O===null?T=O=V:O=O.next=V,y=y.next}while(y!==null);O===null?T=O=d:O=O.next=d}else T=O=d;y={baseState:b.baseState,firstBaseUpdate:T,lastBaseUpdate:O,shared:b.shared,effects:b.effects},c.updateQueue=y;return}c=y.lastBaseUpdate,c===null?y.firstBaseUpdate=d:c.next=d,y.lastBaseUpdate=d}function qh(c,d,y,b){var T=c.updateQueue;Lo=!1;var O=T.firstBaseUpdate,V=T.lastBaseUpdate,te=T.shared.pending;if(te!==null){T.shared.pending=null;var me=te,De=me.next;me.next=null,V===null?O=De:V.next=De,V=me;var Qe=c.alternate;Qe!==null&&(Qe=Qe.updateQueue,te=Qe.lastBaseUpdate,te!==V&&(te===null?Qe.firstBaseUpdate=De:te.next=De,Qe.lastBaseUpdate=me))}if(O!==null){var vt=T.baseState;V=0,Qe=De=me=null,te=O;do{var at=te.lane,Qt=te.eventTime;if((b&at)===at){Qe!==null&&(Qe=Qe.next={eventTime:Qt,lane:0,tag:te.tag,payload:te.payload,callback:te.callback,next:null});e:{var it=c,_r=te;switch(at=d,Qt=y,_r.tag){case 1:if(it=_r.payload,typeof it=="function"){vt=it.call(Qt,vt,at);break e}vt=it;break e;case 3:it.flags=it.flags&-65537|128;case 0:if(it=_r.payload,at=typeof it=="function"?it.call(Qt,vt,at):it,at==null)break e;vt=s({},vt,at);break e;case 2:Lo=!0}}te.callback!==null&&te.lane!==0&&(c.flags|=64,at=T.effects,at===null?T.effects=[te]:at.push(te))}else Qt={eventTime:Qt,lane:at,tag:te.tag,payload:te.payload,callback:te.callback,next:null},Qe===null?(De=Qe=Qt,me=vt):Qe=Qe.next=Qt,V|=at;if(te=te.next,te===null){if(te=T.shared.pending,te===null)break;at=te,te=at.next,at.next=null,T.lastBaseUpdate=at,T.shared.pending=null}}while(1);if(Qe===null&&(me=vt),T.baseState=me,T.firstBaseUpdate=De,T.lastBaseUpdate=Qe,d=T.shared.interleaved,d!==null){T=d;do V|=T.lane,T=T.next;while(T!==d)}else O===null&&(T.shared.lanes=0);Ql|=V,c.lanes=V,c.memoizedState=vt}}function tM(c,d,y){if(c=d.effects,d.effects=null,c!==null)for(d=0;d<c.length;d++){var b=c[d],T=b.callback;if(T!==null){if(b.callback=null,b=y,typeof T!="function")throw Error(o(191,T));T.call(b)}}}var nM=new r.Component().refs;function gy(c,d,y,b){d=c.memoizedState,y=y(b,d),y=y==null?d:s({},d,y),c.memoizedState=y,c.lanes===0&&(c.updateQueue.baseState=y)}var Yh={isMounted:function(c){return(c=c._reactInternals)?C(c)===c:!1},enqueueSetState:function(c,d,y){c=c._reactInternals;var b=kr(),T=No(c),O=Ks(b,T);O.payload=d,y!=null&&(O.callback=y),Oo(c,O),d=Oi(c,T,b),d!==null&&Xh(d,c,T)},enqueueReplaceState:function(c,d,y){c=c._reactInternals;var b=kr(),T=No(c),O=Ks(b,T);O.tag=1,O.payload=d,y!=null&&(O.callback=y),Oo(c,O),d=Oi(c,T,b),d!==null&&Xh(d,c,T)},enqueueForceUpdate:function(c,d){c=c._reactInternals;var y=kr(),b=No(c),T=Ks(y,b);T.tag=2,d!=null&&(T.callback=d),Oo(c,T),d=Oi(c,b,y),d!==null&&Xh(d,c,b)}};function rM(c,d,y,b,T,O,V){return c=c.stateNode,typeof c.shouldComponentUpdate=="function"?c.shouldComponentUpdate(b,O,V):d.prototype&&d.prototype.isPureReactComponent?!Wh(y,b)||!Wh(T,O):!0}function iM(c,d,y){var b=!1,T=mr,O=d.contextType;return typeof O=="object"&&O!==null?O=Ci(O):(T=bn(d)?qi:Gn.current,b=d.contextTypes,O=(b=b!=null)?Sn(c,T):mr),d=new d(y,O),c.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Yh,c.stateNode=d,d._reactInternals=c,b&&(c=c.stateNode,c.__reactInternalMemoizedUnmaskedChildContext=T,c.__reactInternalMemoizedMaskedChildContext=O),d}function sM(c,d,y,b){c=d.state,typeof d.componentWillReceiveProps=="function"&&d.componentWillReceiveProps(y,b),typeof d.UNSAFE_componentWillReceiveProps=="function"&&d.UNSAFE_componentWillReceiveProps(y,b),d.state!==c&&Yh.enqueueReplaceState(d,d.state,null)}function vy(c,d,y,b){var T=c.stateNode;T.props=y,T.state=c.memoizedState,T.refs=nM,my(c);var O=d.contextType;typeof O=="object"&&O!==null?T.context=Ci(O):(O=bn(d)?qi:Gn.current,T.context=Sn(c,O)),T.state=c.memoizedState,O=d.getDerivedStateFromProps,typeof O=="function"&&(gy(c,d,O,y),T.state=c.memoizedState),typeof d.getDerivedStateFromProps=="function"||typeof T.getSnapshotBeforeUpdate=="function"||typeof T.UNSAFE_componentWillMount!="function"&&typeof T.componentWillMount!="function"||(d=T.state,typeof T.componentWillMount=="function"&&T.componentWillMount(),typeof T.UNSAFE_componentWillMount=="function"&&T.UNSAFE_componentWillMount(),d!==T.state&&Yh.enqueueReplaceState(T,T.state,null),qh(c,y,T,b),T.state=c.memoizedState),typeof T.componentDidMount=="function"&&(c.flags|=4194308)}var Gl=[],$l=0,Kh=null,Jh=0,Ai=[],Ri=0,La=null,Js=1,Zs="";function Oa(c,d){Gl[$l++]=Jh,Gl[$l++]=Kh,Kh=c,Jh=d}function oM(c,d,y){Ai[Ri++]=Js,Ai[Ri++]=Zs,Ai[Ri++]=La,La=c;var b=Js;c=Zs;var T=32-Yi(b)-1;b&=~(1<<T),y+=1;var O=32-Yi(d)+T;if(30<O){var V=T-T%5;O=(b&(1<<V)-1).toString(32),b>>=V,T-=V,Js=1<<32-Yi(d)+T|y<<T|b,Zs=O+c}else Js=1<<O|y<<T|b,Zs=c}function yy(c){c.return!==null&&(Oa(c,1),oM(c,1,0))}function xy(c){for(;c===Kh;)Kh=Gl[--$l],Gl[$l]=null,Jh=Gl[--$l],Gl[$l]=null;for(;c===La;)La=Ai[--Ri],Ai[Ri]=null,Zs=Ai[--Ri],Ai[Ri]=null,Js=Ai[--Ri],Ai[Ri]=null}var ai=null,li=null,un=!1,Xu=!1,Ji=null;function aM(c,d){var y=ki(5,null,null,0);y.elementType="DELETED",y.stateNode=d,y.return=c,d=c.deletions,d===null?(c.deletions=[y],c.flags|=16):d.push(y)}function lM(c,d){switch(c.tag){case 5:return d=ar(d,c.type,c.pendingProps),d!==null?(c.stateNode=d,ai=c,li=Fh(d),!0):!1;case 6:return d=Ih(d,c.pendingProps),d!==null?(c.stateNode=d,ai=c,li=null,!0):!1;case 13:if(d=Nh(d),d!==null){var y=La!==null?{id:Js,overflow:Zs}:null;return c.memoizedState={dehydrated:d,treeContext:y,retryLane:1073741824},y=ki(18,null,null,0),y.stateNode=d,y.return=c,c.child=y,ai=c,li=null,!0}return!1;default:return!1}}function _y(c){return(c.mode&1)!==0&&(c.flags&128)===0}function wy(c){if(un){var d=li;if(d){var y=d;if(!lM(c,d)){if(_y(c))throw Error(o(418));d=_s(y);var b=ai;d&&lM(c,d)?aM(b,y):(c.flags=c.flags&-4097|2,un=!1,ai=c)}}else{if(_y(c))throw Error(o(418));c.flags=c.flags&-4097|2,un=!1,ai=c}}}function cM(c){for(c=c.return;c!==null&&c.tag!==5&&c.tag!==3&&c.tag!==13;)c=c.return;ai=c}function qu(c){if(!Me||c!==ai)return!1;if(!un)return cM(c),un=!0,!1;if(c.tag!==3&&(c.tag!==5||ct(c.type)&&!ie(c.type,c.memoizedProps))){var d=li;if(d){if(_y(c)){for(c=li;c;)c=_s(c);throw Error(o(418))}for(;d;)aM(c,d),d=_s(d)}}if(cM(c),c.tag===13){if(!Me)throw Error(o(316));if(c=c.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(o(317));li=ve(c)}else li=ai?_s(c.stateNode):null;return!0}function Xl(){Me&&(li=ai=null,Xu=un=!1)}function Sy(c){Ji===null?Ji=[c]:Ji.push(c)}function Yu(c,d,y){if(c=y.ref,c!==null&&typeof c!="function"&&typeof c!="object"){if(y._owner){if(y=y._owner,y){if(y.tag!==1)throw Error(o(309));var b=y.stateNode}if(!b)throw Error(o(147,c));var T=b,O=""+c;return d!==null&&d.ref!==null&&typeof d.ref=="function"&&d.ref._stringRef===O?d.ref:(d=function(V){var te=T.refs;te===nM&&(te=T.refs={}),V===null?delete te[O]:te[O]=V},d._stringRef=O,d)}if(typeof c!="string")throw Error(o(284));if(!y._owner)throw Error(o(290,c))}return c}function Zh(c,d){throw c=Object.prototype.toString.call(d),Error(o(31,c==="[object Object]"?"object with keys {"+Object.keys(d).join(", ")+"}":c))}function uM(c){var d=c._init;return d(c._payload)}function dM(c){function d(oe,re){if(c){var de=oe.deletions;de===null?(oe.deletions=[re],oe.flags|=16):de.push(re)}}function y(oe,re){if(!c)return null;for(;re!==null;)d(oe,re),re=re.sibling;return null}function b(oe,re){for(oe=new Map;re!==null;)re.key!==null?oe.set(re.key,re):oe.set(re.index,re),re=re.sibling;return oe}function T(oe,re){return oe=Uo(oe,re),oe.index=0,oe.sibling=null,oe}function O(oe,re,de){return oe.index=de,c?(de=oe.alternate,de!==null?(de=de.index,de<re?(oe.flags|=2,re):de):(oe.flags|=2,re)):(oe.flags|=1048576,re)}function V(oe){return c&&oe.alternate===null&&(oe.flags|=2),oe}function te(oe,re,de,qe){return re===null||re.tag!==6?(re=sx(de,oe.mode,qe),re.return=oe,re):(re=T(re,de),re.return=oe,re)}function me(oe,re,de,qe){var nt=de.type;return nt===f?Qe(oe,re,de.props.children,qe,de.key):re!==null&&(re.elementType===nt||typeof nt=="object"&&nt!==null&&nt.$$typeof===S&&uM(nt)===re.type)?(qe=T(re,de.props),qe.ref=Yu(oe,re,de),qe.return=oe,qe):(qe=Rp(de.type,de.key,de.props,null,oe.mode,qe),qe.ref=Yu(oe,re,de),qe.return=oe,qe)}function De(oe,re,de,qe){return re===null||re.tag!==4||re.stateNode.containerInfo!==de.containerInfo||re.stateNode.implementation!==de.implementation?(re=ox(de,oe.mode,qe),re.return=oe,re):(re=T(re,de.children||[]),re.return=oe,re)}function Qe(oe,re,de,qe,nt){return re===null||re.tag!==7?(re=za(de,oe.mode,qe,nt),re.return=oe,re):(re=T(re,de),re.return=oe,re)}function vt(oe,re,de){if(typeof re=="string"&&re!==""||typeof re=="number")return re=sx(""+re,oe.mode,de),re.return=oe,re;if(typeof re=="object"&&re!==null){switch(re.$$typeof){case l:return de=Rp(re.type,re.key,re.props,null,oe.mode,de),de.ref=Yu(oe,null,re),de.return=oe,de;case u:return re=ox(re,oe.mode,de),re.return=oe,re;case S:var qe=re._init;return vt(oe,qe(re._payload),de)}if(X(re)||P(re))return re=za(re,oe.mode,de,null),re.return=oe,re;Zh(oe,re)}return null}function at(oe,re,de,qe){var nt=re!==null?re.key:null;if(typeof de=="string"&&de!==""||typeof de=="number")return nt!==null?null:te(oe,re,""+de,qe);if(typeof de=="object"&&de!==null){switch(de.$$typeof){case l:return de.key===nt?me(oe,re,de,qe):null;case u:return de.key===nt?De(oe,re,de,qe):null;case S:return nt=de._init,at(oe,re,nt(de._payload),qe)}if(X(de)||P(de))return nt!==null?null:Qe(oe,re,de,qe,null);Zh(oe,de)}return null}function Qt(oe,re,de,qe,nt){if(typeof qe=="string"&&qe!==""||typeof qe=="number")return oe=oe.get(de)||null,te(re,oe,""+qe,nt);if(typeof qe=="object"&&qe!==null){switch(qe.$$typeof){case l:return oe=oe.get(qe.key===null?de:qe.key)||null,me(re,oe,qe,nt);case u:return oe=oe.get(qe.key===null?de:qe.key)||null,De(re,oe,qe,nt);case S:var bt=qe._init;return Qt(oe,re,de,bt(qe._payload),nt)}if(X(qe)||P(qe))return oe=oe.get(de)||null,Qe(re,oe,qe,nt,null);Zh(re,qe)}return null}function it(oe,re,de,qe){for(var nt=null,bt=null,yt=re,Bt=re=0,tr=null;yt!==null&&Bt<de.length;Bt++){yt.index>Bt?(tr=yt,yt=null):tr=yt.sibling;var jt=at(oe,yt,de[Bt],qe);if(jt===null){yt===null&&(yt=tr);break}c&&yt&&jt.alternate===null&&d(oe,yt),re=O(jt,re,Bt),bt===null?nt=jt:bt.sibling=jt,bt=jt,yt=tr}if(Bt===de.length)return y(oe,yt),un&&Oa(oe,Bt),nt;if(yt===null){for(;Bt<de.length;Bt++)yt=vt(oe,de[Bt],qe),yt!==null&&(re=O(yt,re,Bt),bt===null?nt=yt:bt.sibling=yt,bt=yt);return un&&Oa(oe,Bt),nt}for(yt=b(oe,yt);Bt<de.length;Bt++)tr=Qt(yt,oe,Bt,de[Bt],qe),tr!==null&&(c&&tr.alternate!==null&&yt.delete(tr.key===null?Bt:tr.key),re=O(tr,re,Bt),bt===null?nt=tr:bt.sibling=tr,bt=tr);return c&&yt.forEach(function(Fo){return d(oe,Fo)}),un&&Oa(oe,Bt),nt}function _r(oe,re,de,qe){var nt=P(de);if(typeof nt!="function")throw Error(o(150));if(de=nt.call(de),de==null)throw Error(o(151));for(var bt=nt=null,yt=re,Bt=re=0,tr=null,jt=de.next();yt!==null&&!jt.done;Bt++,jt=de.next()){yt.index>Bt?(tr=yt,yt=null):tr=yt.sibling;var Fo=at(oe,yt,jt.value,qe);if(Fo===null){yt===null&&(yt=tr);break}c&&yt&&Fo.alternate===null&&d(oe,yt),re=O(Fo,re,Bt),bt===null?nt=Fo:bt.sibling=Fo,bt=Fo,yt=tr}if(jt.done)return y(oe,yt),un&&Oa(oe,Bt),nt;if(yt===null){for(;!jt.done;Bt++,jt=de.next())jt=vt(oe,jt.value,qe),jt!==null&&(re=O(jt,re,Bt),bt===null?nt=jt:bt.sibling=jt,bt=jt);return un&&Oa(oe,Bt),nt}for(yt=b(oe,yt);!jt.done;Bt++,jt=de.next())jt=Qt(yt,oe,Bt,jt.value,qe),jt!==null&&(c&&jt.alternate!==null&&yt.delete(jt.key===null?Bt:jt.key),re=O(jt,re,Bt),bt===null?nt=jt:bt.sibling=jt,bt=jt);return c&&yt.forEach(function(QD){return d(oe,QD)}),un&&Oa(oe,Bt),nt}function Ii(oe,re,de,qe){if(typeof de=="object"&&de!==null&&de.type===f&&de.key===null&&(de=de.props.children),typeof de=="object"&&de!==null){switch(de.$$typeof){case l:e:{for(var nt=de.key,bt=re;bt!==null;){if(bt.key===nt){if(nt=de.type,nt===f){if(bt.tag===7){y(oe,bt.sibling),re=T(bt,de.props.children),re.return=oe,oe=re;break e}}else if(bt.elementType===nt||typeof nt=="object"&&nt!==null&&nt.$$typeof===S&&uM(nt)===bt.type){y(oe,bt.sibling),re=T(bt,de.props),re.ref=Yu(oe,bt,de),re.return=oe,oe=re;break e}y(oe,bt);break}else d(oe,bt);bt=bt.sibling}de.type===f?(re=za(de.props.children,oe.mode,qe,de.key),re.return=oe,oe=re):(qe=Rp(de.type,de.key,de.props,null,oe.mode,qe),qe.ref=Yu(oe,re,de),qe.return=oe,oe=qe)}return V(oe);case u:e:{for(bt=de.key;re!==null;){if(re.key===bt)if(re.tag===4&&re.stateNode.containerInfo===de.containerInfo&&re.stateNode.implementation===de.implementation){y(oe,re.sibling),re=T(re,de.children||[]),re.return=oe,oe=re;break e}else{y(oe,re);break}else d(oe,re);re=re.sibling}re=ox(de,oe.mode,qe),re.return=oe,oe=re}return V(oe);case S:return bt=de._init,Ii(oe,re,bt(de._payload),qe)}if(X(de))return it(oe,re,de,qe);if(P(de))return _r(oe,re,de,qe);Zh(oe,de)}return typeof de=="string"&&de!==""||typeof de=="number"?(de=""+de,re!==null&&re.tag===6?(y(oe,re.sibling),re=T(re,de),re.return=oe,oe=re):(y(oe,re),re=sx(de,oe.mode,qe),re.return=oe,oe=re),V(oe)):y(oe,re)}return Ii}var ql=dM(!0),fM=dM(!1),Ku={},Pi=gt(Ku),Ju=gt(Ku),Yl=gt(Ku);function Ms(c){if(c===Ku)throw Error(o(174));return c}function by(c,d){ht(Yl,d),ht(Ju,c),ht(Pi,Ku),c=J(d),Xt(Pi),ht(Pi,c)}function Kl(){Xt(Pi),Xt(Ju),Xt(Yl)}function hM(c){var d=Ms(Yl.current),y=Ms(Pi.current);d=D(y,c.type,d),y!==d&&(ht(Ju,c),ht(Pi,d))}function Ey(c){Ju.current===c&&(Xt(Pi),Xt(Ju))}var mn=gt(0);function Qh(c){for(var d=c;d!==null;){if(d.tag===13){var y=d.memoizedState;if(y!==null&&(y=y.dehydrated,y===null||Dh(y)||Ro(y)))return d}else if(d.tag===19&&d.memoizedProps.revealOrder!==void 0){if(d.flags&128)return d}else if(d.child!==null){d.child.return=d,d=d.child;continue}if(d===c)break;for(;d.sibling===null;){if(d.return===null||d.return===c)return null;d=d.return}d.sibling.return=d.return,d=d.sibling}return null}var My=[];function Ty(){for(var c=0;c<My.length;c++){var d=My[c];Ue?d._workInProgressVersionPrimary=null:d._workInProgressVersionSecondary=null}My.length=0}var ep=a.ReactCurrentDispatcher,Li=a.ReactCurrentBatchConfig,Jl=0,En=null,vr=null,er=null,tp=!1,Zu=!1,Qu=0,ED=0;function yr(){throw Error(o(321))}function Cy(c,d){if(d===null)return!1;for(var y=0;y<d.length&&y<c.length;y++)if(!Ss(c[y],d[y]))return!1;return!0}function Ay(c,d,y,b,T,O){if(Jl=O,En=d,d.memoizedState=null,d.updateQueue=null,d.lanes=0,ep.current=c===null||c.memoizedState===null?AD:RD,c=y(b,T),Zu){O=0;do{if(Zu=!1,Qu=0,25<=O)throw Error(o(301));O+=1,er=vr=null,d.updateQueue=null,ep.current=PD,c=y(b,T)}while(Zu)}if(ep.current=op,d=vr!==null&&vr.next!==null,Jl=0,er=vr=En=null,tp=!1,d)throw Error(o(300));return c}function Ry(){var c=Qu!==0;return Qu=0,c}function Qs(){var c={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return er===null?En.memoizedState=er=c:er=er.next=c,er}function Ts(){if(vr===null){var c=En.alternate;c=c!==null?c.memoizedState:null}else c=vr.next;var d=er===null?En.memoizedState:er.next;if(d!==null)er=d,vr=c;else{if(c===null)throw Error(o(310));vr=c,c={memoizedState:vr.memoizedState,baseState:vr.baseState,baseQueue:vr.baseQueue,queue:vr.queue,next:null},er===null?En.memoizedState=er=c:er=er.next=c}return er}function ka(c,d){return typeof d=="function"?d(c):d}function np(c){var d=Ts(),y=d.queue;if(y===null)throw Error(o(311));y.lastRenderedReducer=c;var b=vr,T=b.baseQueue,O=y.pending;if(O!==null){if(T!==null){var V=T.next;T.next=O.next,O.next=V}b.baseQueue=T=O,y.pending=null}if(T!==null){O=T.next,b=b.baseState;var te=V=null,me=null,De=O;do{var Qe=De.lane;if((Jl&Qe)===Qe)me!==null&&(me=me.next={lane:0,action:De.action,hasEagerState:De.hasEagerState,eagerState:De.eagerState,next:null}),b=De.hasEagerState?De.eagerState:c(b,De.action);else{var vt={lane:Qe,action:De.action,hasEagerState:De.hasEagerState,eagerState:De.eagerState,next:null};me===null?(te=me=vt,V=b):me=me.next=vt,En.lanes|=Qe,Ql|=Qe}De=De.next}while(De!==null&&De!==O);me===null?V=b:me.next=te,Ss(b,d.memoizedState)||(ci=!0),d.memoizedState=b,d.baseState=V,d.baseQueue=me,y.lastRenderedState=b}if(c=y.interleaved,c!==null){T=c;do O=T.lane,En.lanes|=O,Ql|=O,T=T.next;while(T!==c)}else T===null&&(y.lanes=0);return[d.memoizedState,y.dispatch]}function rp(c){var d=Ts(),y=d.queue;if(y===null)throw Error(o(311));y.lastRenderedReducer=c;var b=y.dispatch,T=y.pending,O=d.memoizedState;if(T!==null){y.pending=null;var V=T=T.next;do O=c(O,V.action),V=V.next;while(V!==T);Ss(O,d.memoizedState)||(ci=!0),d.memoizedState=O,d.baseQueue===null&&(d.baseState=O),y.lastRenderedState=O}return[O,b]}function pM(){}function mM(c,d){var y=En,b=Ts(),T=d(),O=!Ss(b.memoizedState,T);if(O&&(b.memoizedState=T,ci=!0),b=b.queue,td(yM.bind(null,y,b,c),[c]),b.getSnapshot!==d||O||er!==null&&er.memoizedState.tag&1){if(y.flags|=2048,ed(9,vM.bind(null,y,b,T,d),void 0,null),zn===null)throw Error(o(349));Jl&30||gM(y,d,T)}return T}function gM(c,d,y){c.flags|=16384,c={getSnapshot:d,value:y},d=En.updateQueue,d===null?(d={lastEffect:null,stores:null},En.updateQueue=d,d.stores=[c]):(y=d.stores,y===null?d.stores=[c]:y.push(c))}function vM(c,d,y,b){d.value=y,d.getSnapshot=b,xM(d)&&Oi(c,1,-1)}function yM(c,d,y){return y(function(){xM(d)&&Oi(c,1,-1)})}function xM(c){var d=c.getSnapshot;c=c.value;try{var y=d();return!Ss(c,y)}catch{return!0}}function Py(c){var d=Qs();return typeof c=="function"&&(c=c()),d.memoizedState=d.baseState=c,c={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ka,lastRenderedState:c},d.queue=c,c=c.dispatch=CD.bind(null,En,c),[d.memoizedState,c]}function ed(c,d,y,b){return c={tag:c,create:d,destroy:y,deps:b,next:null},d=En.updateQueue,d===null?(d={lastEffect:null,stores:null},En.updateQueue=d,d.lastEffect=c.next=c):(y=d.lastEffect,y===null?d.lastEffect=c.next=c:(b=y.next,y.next=c,c.next=b,d.lastEffect=c)),c}function _M(){return Ts().memoizedState}function ip(c,d,y,b){var T=Qs();En.flags|=c,T.memoizedState=ed(1|d,y,void 0,b===void 0?null:b)}function sp(c,d,y,b){var T=Ts();b=b===void 0?null:b;var O=void 0;if(vr!==null){var V=vr.memoizedState;if(O=V.destroy,b!==null&&Cy(b,V.deps)){T.memoizedState=ed(d,y,O,b);return}}En.flags|=c,T.memoizedState=ed(1|d,y,O,b)}function Ly(c,d){return ip(8390656,8,c,d)}function td(c,d){return sp(2048,8,c,d)}function wM(c,d){return sp(4,2,c,d)}function SM(c,d){return sp(4,4,c,d)}function bM(c,d){if(typeof d=="function")return c=c(),d(c),function(){d(null)};if(d!=null)return c=c(),d.current=c,function(){d.current=null}}function EM(c,d,y){return y=y!=null?y.concat([c]):null,sp(4,4,bM.bind(null,d,c),y)}function Oy(){}function MM(c,d){var y=Ts();d=d===void 0?null:d;var b=y.memoizedState;return b!==null&&d!==null&&Cy(d,b[1])?b[0]:(y.memoizedState=[c,d],c)}function TM(c,d){var y=Ts();d=d===void 0?null:d;var b=y.memoizedState;return b!==null&&d!==null&&Cy(d,b[1])?b[0]:(c=c(),y.memoizedState=[c,d],c)}function MD(c,d){var y=zt;zt=y!==0&&4>y?y:4,c(!0);var b=Li.transition;Li.transition={};try{c(!1),d()}finally{zt=y,Li.transition=b}}function CM(){return Ts().memoizedState}function TD(c,d,y){var b=No(c);y={lane:b,action:y,hasEagerState:!1,eagerState:null,next:null},AM(c)?RM(d,y):(PM(c,d,y),y=kr(),c=Oi(c,b,y),c!==null&&LM(c,d,b))}function CD(c,d,y){var b=No(c),T={lane:b,action:y,hasEagerState:!1,eagerState:null,next:null};if(AM(c))RM(d,T);else{PM(c,d,T);var O=c.alternate;if(c.lanes===0&&(O===null||O.lanes===0)&&(O=d.lastRenderedReducer,O!==null))try{var V=d.lastRenderedState,te=O(V,y);if(T.hasEagerState=!0,T.eagerState=te,Ss(te,V))return}catch{}finally{}y=kr(),c=Oi(c,b,y),c!==null&&LM(c,d,b)}}function AM(c){var d=c.alternate;return c===En||d!==null&&d===En}function RM(c,d){Zu=tp=!0;var y=c.pending;y===null?d.next=d:(d.next=y.next,y.next=d),c.pending=d}function PM(c,d,y){zn!==null&&c.mode&1&&!(Ct&2)?(c=d.interleaved,c===null?(y.next=y,Es===null?Es=[d]:Es.push(d)):(y.next=c.next,c.next=y),d.interleaved=y):(c=d.pending,c===null?y.next=y:(y.next=c.next,c.next=y),d.pending=y)}function LM(c,d,y){if(y&4194240){var b=d.lanes;b&=c.pendingLanes,y|=b,d.lanes=y,oy(c,y)}}var op={readContext:Ci,useCallback:yr,useContext:yr,useEffect:yr,useImperativeHandle:yr,useInsertionEffect:yr,useLayoutEffect:yr,useMemo:yr,useReducer:yr,useRef:yr,useState:yr,useDebugValue:yr,useDeferredValue:yr,useTransition:yr,useMutableSource:yr,useSyncExternalStore:yr,useId:yr,unstable_isNewReconciler:!1},AD={readContext:Ci,useCallback:function(c,d){return Qs().memoizedState=[c,d===void 0?null:d],c},useContext:Ci,useEffect:Ly,useImperativeHandle:function(c,d,y){return y=y!=null?y.concat([c]):null,ip(4194308,4,bM.bind(null,d,c),y)},useLayoutEffect:function(c,d){return ip(4194308,4,c,d)},useInsertionEffect:function(c,d){return ip(4,2,c,d)},useMemo:function(c,d){var y=Qs();return d=d===void 0?null:d,c=c(),y.memoizedState=[c,d],c},useReducer:function(c,d,y){var b=Qs();return d=y!==void 0?y(d):d,b.memoizedState=b.baseState=d,c={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:c,lastRenderedState:d},b.queue=c,c=c.dispatch=TD.bind(null,En,c),[b.memoizedState,c]},useRef:function(c){var d=Qs();return c={current:c},d.memoizedState=c},useState:Py,useDebugValue:Oy,useDeferredValue:function(c){var d=Py(c),y=d[0],b=d[1];return Ly(function(){var T=Li.transition;Li.transition={};try{b(c)}finally{Li.transition=T}},[c]),y},useTransition:function(){var c=Py(!1),d=c[0];return c=MD.bind(null,c[1]),Qs().memoizedState=c,[d,c]},useMutableSource:function(){},useSyncExternalStore:function(c,d,y){var b=En,T=Qs();if(un){if(y===void 0)throw Error(o(407));y=y()}else{if(y=d(),zn===null)throw Error(o(349));Jl&30||gM(b,d,y)}T.memoizedState=y;var O={value:y,getSnapshot:d};return T.queue=O,Ly(yM.bind(null,b,O,c),[c]),b.flags|=2048,ed(9,vM.bind(null,b,O,y,d),void 0,null),y},useId:function(){var c=Qs(),d=zn.identifierPrefix;if(un){var y=Zs,b=Js;y=(b&~(1<<32-Yi(b)-1)).toString(32)+y,d=":"+d+"R"+y,y=Qu++,0<y&&(d+="H"+y.toString(32)),d+=":"}else y=ED++,d=":"+d+"r"+y.toString(32)+":";return c.memoizedState=d},unstable_isNewReconciler:!1},RD={readContext:Ci,useCallback:MM,useContext:Ci,useEffect:td,useImperativeHandle:EM,useInsertionEffect:wM,useLayoutEffect:SM,useMemo:TM,useReducer:np,useRef:_M,useState:function(){return np(ka)},useDebugValue:Oy,useDeferredValue:function(c){var d=np(ka),y=d[0],b=d[1];return td(function(){var T=Li.transition;Li.transition={};try{b(c)}finally{Li.transition=T}},[c]),y},useTransition:function(){var c=np(ka)[0],d=Ts().memoizedState;return[c,d]},useMutableSource:pM,useSyncExternalStore:mM,useId:CM,unstable_isNewReconciler:!1},PD={readContext:Ci,useCallback:MM,useContext:Ci,useEffect:td,useImperativeHandle:EM,useInsertionEffect:wM,useLayoutEffect:SM,useMemo:TM,useReducer:rp,useRef:_M,useState:function(){return rp(ka)},useDebugValue:Oy,useDeferredValue:function(c){var d=rp(ka),y=d[0],b=d[1];return td(function(){var T=Li.transition;Li.transition={};try{b(c)}finally{Li.transition=T}},[c]),y},useTransition:function(){var c=rp(ka)[0],d=Ts().memoizedState;return[c,d]},useMutableSource:pM,useSyncExternalStore:mM,useId:CM,unstable_isNewReconciler:!1};function ky(c,d){try{var y="",b=d;do y+=bD(b),b=b.return;while(b);var T=y}catch(O){T=`
Error generating stack: `+O.message+`
`+O.stack}return{value:c,source:d,stack:T}}function Iy(c,d){try{console.error(d.value)}catch(y){setTimeout(function(){throw y})}}var LD=typeof WeakMap=="function"?WeakMap:Map;function OM(c,d,y){y=Ks(-1,y),y.tag=3,y.payload={element:null};var b=d.value;return y.callback=function(){Sp||(Sp=!0,Zy=b),Iy(c,d)},y}function kM(c,d,y){y=Ks(-1,y),y.tag=3;var b=c.type.getDerivedStateFromError;if(typeof b=="function"){var T=d.value;y.payload=function(){return b(T)},y.callback=function(){Iy(c,d)}}var O=c.stateNode;return O!==null&&typeof O.componentDidCatch=="function"&&(y.callback=function(){Iy(c,d),typeof b!="function"&&(ko===null?ko=new Set([this]):ko.add(this));var V=d.stack;this.componentDidCatch(d.value,{componentStack:V!==null?V:""})}),y}function IM(c,d,y){var b=c.pingCache;if(b===null){b=c.pingCache=new LD;var T=new Set;b.set(d,T)}else T=b.get(d),T===void 0&&(T=new Set,b.set(d,T));T.has(y)||(T.add(y),c=GD.bind(null,c,d,y),d.then(c,c))}function NM(c){do{var d;if((d=c.tag===13)&&(d=c.memoizedState,d=d!==null?d.dehydrated!==null:!0),d)return c;c=c.return}while(c!==null);return null}function DM(c,d,y,b,T){return c.mode&1?(c.flags|=65536,c.lanes=T,c):(c===d?c.flags|=65536:(c.flags|=128,y.flags|=131072,y.flags&=-52805,y.tag===1&&(y.alternate===null?y.tag=17:(d=Ks(-1,1),d.tag=2,Oo(y,d))),y.lanes|=1),c)}function Cs(c){c.flags|=4}function UM(c,d){if(c!==null&&c.child===d.child)return!0;if(d.flags&16)return!1;for(c=d.child;c!==null;){if(c.flags&12854||c.subtreeFlags&12854)return!1;c=c.sibling}return!0}var nd,rd,ap,lp;if(Ae)nd=function(c,d){for(var y=d.child;y!==null;){if(y.tag===5||y.tag===6)Q(c,y.stateNode);else if(y.tag!==4&&y.child!==null){y.child.return=y,y=y.child;continue}if(y===d)break;for(;y.sibling===null;){if(y.return===null||y.return===d)return;y=y.return}y.sibling.return=y.return,y=y.sibling}},rd=function(){},ap=function(c,d,y,b,T){if(c=c.memoizedProps,c!==b){var O=d.stateNode,V=Ms(Pi.current);y=ge(O,y,c,b,T,V),(d.updateQueue=y)&&Cs(d)}},lp=function(c,d,y,b){y!==b&&Cs(d)};else if(j){nd=function(c,d,y,b){for(var T=d.child;T!==null;){if(T.tag===5){var O=T.stateNode;y&&b&&(O=on(O,T.type,T.memoizedProps,T)),Q(c,O)}else if(T.tag===6)O=T.stateNode,y&&b&&(O=ii(O,T.memoizedProps,T)),Q(c,O);else if(T.tag!==4){if(T.tag===22&&T.memoizedState!==null)O=T.child,O!==null&&(O.return=T),nd(c,T,!0,!0);else if(T.child!==null){T.child.return=T,T=T.child;continue}}if(T===d)break;for(;T.sibling===null;){if(T.return===null||T.return===d)return;T=T.return}T.sibling.return=T.return,T=T.sibling}};var FM=function(c,d,y,b){for(var T=d.child;T!==null;){if(T.tag===5){var O=T.stateNode;y&&b&&(O=on(O,T.type,T.memoizedProps,T)),tn(c,O)}else if(T.tag===6)O=T.stateNode,y&&b&&(O=ii(O,T.memoizedProps,T)),tn(c,O);else if(T.tag!==4){if(T.tag===22&&T.memoizedState!==null)O=T.child,O!==null&&(O.return=T),FM(c,T,!0,!0);else if(T.child!==null){T.child.return=T,T=T.child;continue}}if(T===d)break;for(;T.sibling===null;){if(T.return===null||T.return===d)return;T=T.return}T.sibling.return=T.return,T=T.sibling}};rd=function(c,d){var y=d.stateNode;if(!UM(c,d)){c=y.containerInfo;var b=Ot(c);FM(b,d,!1,!1),y.pendingChildren=b,Cs(d),Un(c,b)}},ap=function(c,d,y,b,T){var O=c.stateNode,V=c.memoizedProps;if((c=UM(c,d))&&V===b)d.stateNode=O;else{var te=d.stateNode,me=Ms(Pi.current),De=null;V!==b&&(De=ge(te,y,V,b,T,me)),c&&De===null?d.stateNode=O:(O=$e(O,De,y,V,b,d,c,te),Ce(O,y,b,T,me)&&Cs(d),d.stateNode=O,c?Cs(d):nd(O,d,!1,!1))}},lp=function(c,d,y,b){y!==b?(c=Ms(Yl.current),y=Ms(Pi.current),d.stateNode=ce(b,c,y,d),Cs(d)):d.stateNode=c.stateNode}}else rd=function(){},ap=function(){},lp=function(){};function id(c,d){if(!un)switch(c.tailMode){case"hidden":d=c.tail;for(var y=null;d!==null;)d.alternate!==null&&(y=d),d=d.sibling;y===null?c.tail=null:y.sibling=null;break;case"collapsed":y=c.tail;for(var b=null;y!==null;)y.alternate!==null&&(b=y),y=y.sibling;b===null?d||c.tail===null?c.tail=null:c.tail.sibling=null:b.sibling=null}}function xr(c){var d=c.alternate!==null&&c.alternate.child===c.child,y=0,b=0;if(d)for(var T=c.child;T!==null;)y|=T.lanes|T.childLanes,b|=T.subtreeFlags&14680064,b|=T.flags&14680064,T.return=c,T=T.sibling;else for(T=c.child;T!==null;)y|=T.lanes|T.childLanes,b|=T.subtreeFlags,b|=T.flags,T.return=c,T=T.sibling;return c.subtreeFlags|=b,c.childLanes=y,d}function OD(c,d,y){var b=d.pendingProps;switch(xy(d),d.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return xr(d),null;case 1:return bn(d.type)&&Po(),xr(d),null;case 3:return b=d.stateNode,Kl(),Xt(Fn),Xt(Gn),Ty(),b.pendingContext&&(b.context=b.pendingContext,b.pendingContext=null),(c===null||c.child===null)&&(qu(d)?Cs(d):c===null||c.memoizedState.isDehydrated&&!(d.flags&256)||(d.flags|=1024,Ji!==null&&(tx(Ji),Ji=null))),rd(c,d),xr(d),null;case 5:Ey(d),y=Ms(Yl.current);var T=d.type;if(c!==null&&d.stateNode!=null)ap(c,d,T,b,y),c.ref!==d.ref&&(d.flags|=512,d.flags|=2097152);else{if(!b){if(d.stateNode===null)throw Error(o(166));return xr(d),null}if(c=Ms(Pi.current),qu(d)){if(!Me)throw Error(o(175));c=ry(d.stateNode,d.type,d.memoizedProps,y,c,d,!Xu),d.updateQueue=c,c!==null&&Cs(d)}else{var O=Y(T,b,y,c,d);nd(O,d,!1,!1),d.stateNode=O,Ce(O,T,b,y,c)&&Cs(d)}d.ref!==null&&(d.flags|=512,d.flags|=2097152)}return xr(d),null;case 6:if(c&&d.stateNode!=null)lp(c,d,c.memoizedProps,b);else{if(typeof b!="string"&&d.stateNode===null)throw Error(o(166));if(c=Ms(Yl.current),y=Ms(Pi.current),qu(d)){if(!Me)throw Error(o(176));if(c=d.stateNode,b=d.memoizedProps,(y=B(c,b,d,!Xu))&&(T=ai,T!==null))switch(O=(T.mode&1)!==0,T.tag){case 3:ut(T.stateNode.containerInfo,c,b,O);break;case 5:Tt(T.type,T.memoizedProps,T.stateNode,c,b,O)}y&&Cs(d)}else d.stateNode=ce(b,c,y,d)}return xr(d),null;case 13:if(Xt(mn),b=d.memoizedState,un&&li!==null&&d.mode&1&&!(d.flags&128)){for(c=li;c;)c=_s(c);return Xl(),d.flags|=98560,d}if(b!==null&&b.dehydrated!==null){if(b=qu(d),c===null){if(!b)throw Error(o(318));if(!Me)throw Error(o(344));if(c=d.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(o(317));ae(c,d)}else Xl(),!(d.flags&128)&&(d.memoizedState=null),d.flags|=4;return xr(d),null}return Ji!==null&&(tx(Ji),Ji=null),d.flags&128?(d.lanes=y,d):(b=b!==null,y=!1,c===null?qu(d):y=c.memoizedState!==null,b&&!y&&(d.child.flags|=8192,d.mode&1&&(c===null||mn.current&1?$n===0&&($n=3):rx())),d.updateQueue!==null&&(d.flags|=4),xr(d),null);case 4:return Kl(),rd(c,d),c===null&&Re(d.stateNode.containerInfo),xr(d),null;case 10:return hy(d.type._context),xr(d),null;case 17:return bn(d.type)&&Po(),xr(d),null;case 19:if(Xt(mn),T=d.memoizedState,T===null)return xr(d),null;if(b=(d.flags&128)!==0,O=T.rendering,O===null)if(b)id(T,!1);else{if($n!==0||c!==null&&c.flags&128)for(c=d.child;c!==null;){if(O=Qh(c),O!==null){for(d.flags|=128,id(T,!1),c=O.updateQueue,c!==null&&(d.updateQueue=c,d.flags|=4),d.subtreeFlags=0,c=y,b=d.child;b!==null;)y=b,T=c,y.flags&=14680066,O=y.alternate,O===null?(y.childLanes=0,y.lanes=T,y.child=null,y.subtreeFlags=0,y.memoizedProps=null,y.memoizedState=null,y.updateQueue=null,y.dependencies=null,y.stateNode=null):(y.childLanes=O.childLanes,y.lanes=O.lanes,y.child=O.child,y.subtreeFlags=0,y.deletions=null,y.memoizedProps=O.memoizedProps,y.memoizedState=O.memoizedState,y.updateQueue=O.updateQueue,y.type=O.type,T=O.dependencies,y.dependencies=T===null?null:{lanes:T.lanes,firstContext:T.firstContext}),b=b.sibling;return ht(mn,mn.current&1|2),d.child}c=c.sibling}T.tail!==null&&Qn()>Jy&&(d.flags|=128,b=!0,id(T,!1),d.lanes=4194304)}else{if(!b)if(c=Qh(O),c!==null){if(d.flags|=128,b=!0,c=c.updateQueue,c!==null&&(d.updateQueue=c,d.flags|=4),id(T,!0),T.tail===null&&T.tailMode==="hidden"&&!O.alternate&&!un)return xr(d),null}else 2*Qn()-T.renderingStartTime>Jy&&y!==1073741824&&(d.flags|=128,b=!0,id(T,!1),d.lanes=4194304);T.isBackwards?(O.sibling=d.child,d.child=O):(c=T.last,c!==null?c.sibling=O:d.child=O,T.last=O)}return T.tail!==null?(d=T.tail,T.rendering=d,T.tail=d.sibling,T.renderingStartTime=Qn(),d.sibling=null,c=mn.current,ht(mn,b?c&1|2:c&1),d):(xr(d),null);case 22:case 23:return nx(),b=d.memoizedState!==null,c!==null&&c.memoizedState!==null!==b&&(d.flags|=8192),b&&d.mode&1?ui&1073741824&&(xr(d),Ae&&d.subtreeFlags&6&&(d.flags|=8192)):xr(d),null;case 24:return null;case 25:return null}throw Error(o(156,d.tag))}var kD=a.ReactCurrentOwner,ci=!1;function Or(c,d,y,b){d.child=c===null?fM(d,null,y,b):ql(d,c.child,y,b)}function zM(c,d,y,b,T){y=y.render;var O=d.ref;return Wl(d,T),b=Ay(c,d,y,b,O,T),y=Ry(),c!==null&&!ci?(d.updateQueue=c.updateQueue,d.flags&=-2053,c.lanes&=~T,eo(c,d,T)):(un&&y&&yy(d),d.flags|=1,Or(c,d,b,T),d.child)}function BM(c,d,y,b,T){if(c===null){var O=y.type;return typeof O=="function"&&!ix(O)&&O.defaultProps===void 0&&y.compare===null&&y.defaultProps===void 0?(d.tag=15,d.type=O,jM(c,d,O,b,T)):(c=Rp(y.type,null,b,d,d.mode,T),c.ref=d.ref,c.return=d,d.child=c)}if(O=c.child,!(c.lanes&T)){var V=O.memoizedProps;if(y=y.compare,y=y!==null?y:Wh,y(V,b)&&c.ref===d.ref)return eo(c,d,T)}return d.flags|=1,c=Uo(O,b),c.ref=d.ref,c.return=d,d.child=c}function jM(c,d,y,b,T){if(c!==null&&Wh(c.memoizedProps,b)&&c.ref===d.ref)if(ci=!1,(c.lanes&T)!==0)c.flags&131072&&(ci=!0);else return d.lanes=c.lanes,eo(c,d,T);return Ny(c,d,y,b,T)}function HM(c,d,y){var b=d.pendingProps,T=b.children,O=c!==null?c.memoizedState:null;if(b.mode==="hidden")if(!(d.mode&1))d.memoizedState={baseLanes:0,cachePool:null},ht(Zl,ui),ui|=y;else if(y&1073741824)d.memoizedState={baseLanes:0,cachePool:null},b=O!==null?O.baseLanes:y,ht(Zl,ui),ui|=b;else return c=O!==null?O.baseLanes|y:y,d.lanes=d.childLanes=1073741824,d.memoizedState={baseLanes:c,cachePool:null},d.updateQueue=null,ht(Zl,ui),ui|=c,null;else O!==null?(b=O.baseLanes|y,d.memoizedState=null):b=y,ht(Zl,ui),ui|=b;return Or(c,d,T,y),d.child}function VM(c,d){var y=d.ref;(c===null&&y!==null||c!==null&&c.ref!==y)&&(d.flags|=512,d.flags|=2097152)}function Ny(c,d,y,b,T){var O=bn(y)?qi:Gn.current;return O=Sn(d,O),Wl(d,T),y=Ay(c,d,y,b,O,T),b=Ry(),c!==null&&!ci?(d.updateQueue=c.updateQueue,d.flags&=-2053,c.lanes&=~T,eo(c,d,T)):(un&&b&&yy(d),d.flags|=1,Or(c,d,y,T),d.child)}function WM(c,d,y,b,T){if(bn(y)){var O=!0;Hl(d)}else O=!1;if(Wl(d,T),d.stateNode===null)c!==null&&(c.alternate=null,d.alternate=null,d.flags|=2),iM(d,y,b),vy(d,y,b,T),b=!0;else if(c===null){var V=d.stateNode,te=d.memoizedProps;V.props=te;var me=V.context,De=y.contextType;typeof De=="object"&&De!==null?De=Ci(De):(De=bn(y)?qi:Gn.current,De=Sn(d,De));var Qe=y.getDerivedStateFromProps,vt=typeof Qe=="function"||typeof V.getSnapshotBeforeUpdate=="function";vt||typeof V.UNSAFE_componentWillReceiveProps!="function"&&typeof V.componentWillReceiveProps!="function"||(te!==b||me!==De)&&sM(d,V,b,De),Lo=!1;var at=d.memoizedState;V.state=at,qh(d,b,V,T),me=d.memoizedState,te!==b||at!==me||Fn.current||Lo?(typeof Qe=="function"&&(gy(d,y,Qe,b),me=d.memoizedState),(te=Lo||rM(d,y,te,b,at,me,De))?(vt||typeof V.UNSAFE_componentWillMount!="function"&&typeof V.componentWillMount!="function"||(typeof V.componentWillMount=="function"&&V.componentWillMount(),typeof V.UNSAFE_componentWillMount=="function"&&V.UNSAFE_componentWillMount()),typeof V.componentDidMount=="function"&&(d.flags|=4194308)):(typeof V.componentDidMount=="function"&&(d.flags|=4194308),d.memoizedProps=b,d.memoizedState=me),V.props=b,V.state=me,V.context=De,b=te):(typeof V.componentDidMount=="function"&&(d.flags|=4194308),b=!1)}else{V=d.stateNode,QE(c,d),te=d.memoizedProps,De=d.type===d.elementType?te:Ki(d.type,te),V.props=De,vt=d.pendingProps,at=V.context,me=y.contextType,typeof me=="object"&&me!==null?me=Ci(me):(me=bn(y)?qi:Gn.current,me=Sn(d,me));var Qt=y.getDerivedStateFromProps;(Qe=typeof Qt=="function"||typeof V.getSnapshotBeforeUpdate=="function")||typeof V.UNSAFE_componentWillReceiveProps!="function"&&typeof V.componentWillReceiveProps!="function"||(te!==vt||at!==me)&&sM(d,V,b,me),Lo=!1,at=d.memoizedState,V.state=at,qh(d,b,V,T);var it=d.memoizedState;te!==vt||at!==it||Fn.current||Lo?(typeof Qt=="function"&&(gy(d,y,Qt,b),it=d.memoizedState),(De=Lo||rM(d,y,De,b,at,it,me)||!1)?(Qe||typeof V.UNSAFE_componentWillUpdate!="function"&&typeof V.componentWillUpdate!="function"||(typeof V.componentWillUpdate=="function"&&V.componentWillUpdate(b,it,me),typeof V.UNSAFE_componentWillUpdate=="function"&&V.UNSAFE_componentWillUpdate(b,it,me)),typeof V.componentDidUpdate=="function"&&(d.flags|=4),typeof V.getSnapshotBeforeUpdate=="function"&&(d.flags|=1024)):(typeof V.componentDidUpdate!="function"||te===c.memoizedProps&&at===c.memoizedState||(d.flags|=4),typeof V.getSnapshotBeforeUpdate!="function"||te===c.memoizedProps&&at===c.memoizedState||(d.flags|=1024),d.memoizedProps=b,d.memoizedState=it),V.props=b,V.state=it,V.context=me,b=De):(typeof V.componentDidUpdate!="function"||te===c.memoizedProps&&at===c.memoizedState||(d.flags|=4),typeof V.getSnapshotBeforeUpdate!="function"||te===c.memoizedProps&&at===c.memoizedState||(d.flags|=1024),b=!1)}return Dy(c,d,y,b,O,T)}function Dy(c,d,y,b,T,O){VM(c,d);var V=(d.flags&128)!==0;if(!b&&!V)return T&&Wu(d,y,!1),eo(c,d,O);b=d.stateNode,kD.current=d;var te=V&&typeof y.getDerivedStateFromError!="function"?null:b.render();return d.flags|=1,c!==null&&V?(d.child=ql(d,c.child,null,O),d.child=ql(d,null,te,O)):Or(c,d,te,O),d.memoizedState=b.state,T&&Wu(d,y,!0),d.child}function GM(c){var d=c.stateNode;d.pendingContext?gr(c,d.pendingContext,d.pendingContext!==d.context):d.context&&gr(c,d.context,!1),by(c,d.containerInfo)}function $M(c,d,y,b,T){return Xl(),Sy(T),d.flags|=256,Or(c,d,y,b),d.child}var cp={dehydrated:null,treeContext:null,retryLane:0};function up(c){return{baseLanes:c,cachePool:null}}function XM(c,d,y){var b=d.pendingProps,T=mn.current,O=!1,V=(d.flags&128)!==0,te;if((te=V)||(te=c!==null&&c.memoizedState===null?!1:(T&2)!==0),te?(O=!0,d.flags&=-129):(c===null||c.memoizedState!==null)&&(T|=1),ht(mn,T&1),c===null)return wy(d),c=d.memoizedState,c!==null&&(c=c.dehydrated,c!==null)?(d.mode&1?Ro(c)?d.lanes=8:d.lanes=1073741824:d.lanes=1,null):(T=b.children,c=b.fallback,O?(b=d.mode,O=d.child,T={mode:"hidden",children:T},!(b&1)&&O!==null?(O.childLanes=0,O.pendingProps=T):O=Pp(T,b,0,null),c=za(c,b,y,null),O.return=d,c.return=d,O.sibling=c,d.child=O,d.child.memoizedState=up(y),d.memoizedState=cp,c):Uy(d,T));if(T=c.memoizedState,T!==null){if(te=T.dehydrated,te!==null){if(V)return d.flags&256?(d.flags&=-257,dp(c,d,y,Error(o(422)))):d.memoizedState!==null?(d.child=c.child,d.flags|=128,null):(O=b.fallback,T=d.mode,b=Pp({mode:"visible",children:b.children},T,0,null),O=za(O,T,y,null),O.flags|=2,b.return=d,O.return=d,b.sibling=O,d.child=b,d.mode&1&&ql(d,c.child,null,y),d.child.memoizedState=up(y),d.memoizedState=cp,O);if(!(d.mode&1))d=dp(c,d,y,null);else if(Ro(te))d=dp(c,d,y,Error(o(419)));else if(b=(y&c.childLanes)!==0,ci||b){if(b=zn,b!==null){switch(y&-y){case 4:O=2;break;case 16:O=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:O=32;break;case 536870912:O=268435456;break;default:O=0}b=O&(b.suspendedLanes|y)?0:O,b!==0&&b!==T.retryLane&&(T.retryLane=b,Oi(c,b,-1))}rx(),d=dp(c,d,y,Error(o(421)))}else Dh(te)?(d.flags|=128,d.child=c.child,d=$D.bind(null,c),Uh(te,d),d=null):(y=T.treeContext,Me&&(li=ny(te),ai=d,un=!0,Ji=null,Xu=!1,y!==null&&(Ai[Ri++]=Js,Ai[Ri++]=Zs,Ai[Ri++]=La,Js=y.id,Zs=y.overflow,La=d)),d=Uy(d,d.pendingProps.children),d.flags|=4096);return d}return O?(b=YM(c,d,b.children,b.fallback,y),O=d.child,T=c.child.memoizedState,O.memoizedState=T===null?up(y):{baseLanes:T.baseLanes|y,cachePool:null},O.childLanes=c.childLanes&~y,d.memoizedState=cp,b):(y=qM(c,d,b.children,y),d.memoizedState=null,y)}return O?(b=YM(c,d,b.children,b.fallback,y),O=d.child,T=c.child.memoizedState,O.memoizedState=T===null?up(y):{baseLanes:T.baseLanes|y,cachePool:null},O.childLanes=c.childLanes&~y,d.memoizedState=cp,b):(y=qM(c,d,b.children,y),d.memoizedState=null,y)}function Uy(c,d){return d=Pp({mode:"visible",children:d},c.mode,0,null),d.return=c,c.child=d}function qM(c,d,y,b){var T=c.child;return c=T.sibling,y=Uo(T,{mode:"visible",children:y}),!(d.mode&1)&&(y.lanes=b),y.return=d,y.sibling=null,c!==null&&(b=d.deletions,b===null?(d.deletions=[c],d.flags|=16):b.push(c)),d.child=y}function YM(c,d,y,b,T){var O=d.mode;c=c.child;var V=c.sibling,te={mode:"hidden",children:y};return!(O&1)&&d.child!==c?(y=d.child,y.childLanes=0,y.pendingProps=te,d.deletions=null):(y=Uo(c,te),y.subtreeFlags=c.subtreeFlags&14680064),V!==null?b=Uo(V,b):(b=za(b,O,T,null),b.flags|=2),b.return=d,y.return=d,y.sibling=b,d.child=y,b}function dp(c,d,y,b){return b!==null&&Sy(b),ql(d,c.child,null,y),c=Uy(d,d.pendingProps.children),c.flags|=2,d.memoizedState=null,c}function KM(c,d,y){c.lanes|=d;var b=c.alternate;b!==null&&(b.lanes|=d),py(c.return,d,y)}function Fy(c,d,y,b,T){var O=c.memoizedState;O===null?c.memoizedState={isBackwards:d,rendering:null,renderingStartTime:0,last:b,tail:y,tailMode:T}:(O.isBackwards=d,O.rendering=null,O.renderingStartTime=0,O.last=b,O.tail=y,O.tailMode=T)}function JM(c,d,y){var b=d.pendingProps,T=b.revealOrder,O=b.tail;if(Or(c,d,b.children,y),b=mn.current,b&2)b=b&1|2,d.flags|=128;else{if(c!==null&&c.flags&128)e:for(c=d.child;c!==null;){if(c.tag===13)c.memoizedState!==null&&KM(c,y,d);else if(c.tag===19)KM(c,y,d);else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===d)break e;for(;c.sibling===null;){if(c.return===null||c.return===d)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}b&=1}if(ht(mn,b),!(d.mode&1))d.memoizedState=null;else switch(T){case"forwards":for(y=d.child,T=null;y!==null;)c=y.alternate,c!==null&&Qh(c)===null&&(T=y),y=y.sibling;y=T,y===null?(T=d.child,d.child=null):(T=y.sibling,y.sibling=null),Fy(d,!1,T,y,O);break;case"backwards":for(y=null,T=d.child,d.child=null;T!==null;){if(c=T.alternate,c!==null&&Qh(c)===null){d.child=T;break}c=T.sibling,T.sibling=y,y=T,T=c}Fy(d,!0,y,null,O);break;case"together":Fy(d,!1,null,null,void 0);break;default:d.memoizedState=null}return d.child}function eo(c,d,y){if(c!==null&&(d.dependencies=c.dependencies),Ql|=d.lanes,!(y&d.childLanes))return null;if(c!==null&&d.child!==c.child)throw Error(o(153));if(d.child!==null){for(c=d.child,y=Uo(c,c.pendingProps),d.child=y,y.return=d;c.sibling!==null;)c=c.sibling,y=y.sibling=Uo(c,c.pendingProps),y.return=d;y.sibling=null}return d.child}function ID(c,d,y){switch(d.tag){case 3:GM(d),Xl();break;case 5:hM(d);break;case 1:bn(d.type)&&Hl(d);break;case 4:by(d,d.stateNode.containerInfo);break;case 10:ZE(d,d.type._context,d.memoizedProps.value);break;case 13:var b=d.memoizedState;if(b!==null)return b.dehydrated!==null?(ht(mn,mn.current&1),d.flags|=128,null):y&d.child.childLanes?XM(c,d,y):(ht(mn,mn.current&1),c=eo(c,d,y),c!==null?c.sibling:null);ht(mn,mn.current&1);break;case 19:if(b=(y&d.childLanes)!==0,c.flags&128){if(b)return JM(c,d,y);d.flags|=128}var T=d.memoizedState;if(T!==null&&(T.rendering=null,T.tail=null,T.lastEffect=null),ht(mn,mn.current),b)break;return null;case 22:case 23:return d.lanes=0,HM(c,d,y)}return eo(c,d,y)}function ND(c,d){switch(xy(d),d.tag){case 1:return bn(d.type)&&Po(),c=d.flags,c&65536?(d.flags=c&-65537|128,d):null;case 3:return Kl(),Xt(Fn),Xt(Gn),Ty(),c=d.flags,c&65536&&!(c&128)?(d.flags=c&-65537|128,d):null;case 5:return Ey(d),null;case 13:if(Xt(mn),c=d.memoizedState,c!==null&&c.dehydrated!==null){if(d.alternate===null)throw Error(o(340));Xl()}return c=d.flags,c&65536?(d.flags=c&-65537|128,d):null;case 19:return Xt(mn),null;case 4:return Kl(),null;case 10:return hy(d.type._context),null;case 22:case 23:return nx(),null;case 24:return null;default:return null}}var fp=!1,Ia=!1,DD=typeof WeakSet=="function"?WeakSet:Set,Ge=null;function hp(c,d){var y=c.ref;if(y!==null)if(typeof y=="function")try{y(null)}catch(b){$r(c,d,b)}else y.current=null}function zy(c,d,y){try{y()}catch(b){$r(c,d,b)}}var ZM=!1;function UD(c,d){for($(c.containerInfo),Ge=d;Ge!==null;)if(c=Ge,d=c.child,(c.subtreeFlags&1028)!==0&&d!==null)d.return=c,Ge=d;else for(;Ge!==null;){c=Ge;try{var y=c.alternate;if(c.flags&1024)switch(c.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var b=y.memoizedProps,T=y.memoizedState,O=c.stateNode,V=O.getSnapshotBeforeUpdate(c.elementType===c.type?b:Ki(c.type,b),T);O.__reactInternalSnapshotBeforeUpdate=V}break;case 3:Ae&&je(c.stateNode.containerInfo);break;case 5:case 6:case 4:case 17:break;default:throw Error(o(163))}}catch(te){$r(c,c.return,te)}if(d=c.sibling,d!==null){d.return=c.return,Ge=d;break}Ge=c.return}return y=ZM,ZM=!1,y}function Na(c,d,y){var b=d.updateQueue;if(b=b!==null?b.lastEffect:null,b!==null){var T=b=b.next;do{if((T.tag&c)===c){var O=T.destroy;T.destroy=void 0,O!==void 0&&zy(d,y,O)}T=T.next}while(T!==b)}}function sd(c,d){if(d=d.updateQueue,d=d!==null?d.lastEffect:null,d!==null){var y=d=d.next;do{if((y.tag&c)===c){var b=y.create;y.destroy=b()}y=y.next}while(y!==d)}}function By(c){var d=c.ref;if(d!==null){var y=c.stateNode;switch(c.tag){case 5:c=Z(y);break;default:c=y}typeof d=="function"?d(c):d.current=c}}function QM(c,d,y){if(ws&&typeof ws.onCommitFiberUnmount=="function")try{ws.onCommitFiberUnmount(Hh,d)}catch{}switch(d.tag){case 0:case 11:case 14:case 15:if(c=d.updateQueue,c!==null&&(c=c.lastEffect,c!==null)){var b=c=c.next;do{var T=b,O=T.destroy;T=T.tag,O!==void 0&&(T&2||T&4)&&zy(d,y,O),b=b.next}while(b!==c)}break;case 1:if(hp(d,y),c=d.stateNode,typeof c.componentWillUnmount=="function")try{c.props=d.memoizedProps,c.state=d.memoizedState,c.componentWillUnmount()}catch(V){$r(d,y,V)}break;case 5:hp(d,y);break;case 4:Ae?sT(c,d,y):j&&j&&(d=d.stateNode.containerInfo,y=Ot(d),ri(d,y))}}function eT(c,d,y){for(var b=d;;)if(QM(c,b,y),b.child===null||Ae&&b.tag===4){if(b===d)break;for(;b.sibling===null;){if(b.return===null||b.return===d)return;b=b.return}b.sibling.return=b.return,b=b.sibling}else b.child.return=b,b=b.child}function tT(c){var d=c.alternate;d!==null&&(c.alternate=null,tT(d)),c.child=null,c.deletions=null,c.sibling=null,c.tag===5&&(d=c.stateNode,d!==null&&We(d)),c.stateNode=null,c.return=null,c.dependencies=null,c.memoizedProps=null,c.memoizedState=null,c.pendingProps=null,c.stateNode=null,c.updateQueue=null}function nT(c){return c.tag===5||c.tag===3||c.tag===4}function rT(c){e:for(;;){for(;c.sibling===null;){if(c.return===null||nT(c.return))return null;c=c.return}for(c.sibling.return=c.return,c=c.sibling;c.tag!==5&&c.tag!==6&&c.tag!==18;){if(c.flags&2||c.child===null||c.tag===4)continue e;c.child.return=c,c=c.child}if(!(c.flags&2))return c.stateNode}}function iT(c){if(Ae){e:{for(var d=c.return;d!==null;){if(nT(d))break e;d=d.return}throw Error(o(160))}var y=d;switch(y.tag){case 5:d=y.stateNode,y.flags&32&&(st(d),y.flags&=-33),y=rT(c),Hy(c,y,d);break;case 3:case 4:d=y.stateNode.containerInfo,y=rT(c),jy(c,y,d);break;default:throw Error(o(161))}}}function jy(c,d,y){var b=c.tag;if(b===5||b===6)c=c.stateNode,d?Le(y,c,d):Te(y,c);else if(b!==4&&(c=c.child,c!==null))for(jy(c,d,y),c=c.sibling;c!==null;)jy(c,d,y),c=c.sibling}function Hy(c,d,y){var b=c.tag;if(b===5||b===6)c=c.stateNode,d?he(y,c,d):be(y,c);else if(b!==4&&(c=c.child,c!==null))for(Hy(c,d,y),c=c.sibling;c!==null;)Hy(c,d,y),c=c.sibling}function sT(c,d,y){for(var b=d,T=!1,O,V;;){if(!T){T=b.return;e:for(;;){if(T===null)throw Error(o(160));switch(O=T.stateNode,T.tag){case 5:V=!1;break e;case 3:O=O.containerInfo,V=!0;break e;case 4:O=O.containerInfo,V=!0;break e}T=T.return}T=!0}if(b.tag===5||b.tag===6)eT(c,b,y),V?Be(O,b.stateNode):Oe(O,b.stateNode);else if(b.tag===18)V?ot(O,b.stateNode):Ze(O,b.stateNode);else if(b.tag===4){if(b.child!==null){O=b.stateNode.containerInfo,V=!0,b.child.return=b,b=b.child;continue}}else if(QM(c,b,y),b.child!==null){b.child.return=b,b=b.child;continue}if(b===d)break;for(;b.sibling===null;){if(b.return===null||b.return===d)return;b=b.return,b.tag===4&&(T=!1)}b.sibling.return=b.return,b=b.sibling}}function Vy(c,d){if(Ae){switch(d.tag){case 0:case 11:case 14:case 15:Na(3,d,d.return),sd(3,d),Na(5,d,d.return);return;case 1:return;case 5:var y=d.stateNode;if(y!=null){var b=d.memoizedProps;c=c!==null?c.memoizedProps:b;var T=d.type,O=d.updateQueue;d.updateQueue=null,O!==null&&K(y,O,T,c,b,d)}return;case 6:if(d.stateNode===null)throw Error(o(162));y=d.memoizedProps,Ne(d.stateNode,c!==null?c.memoizedProps:y,y);return;case 3:Me&&c!==null&&c.memoizedState.isDehydrated&&se(d.stateNode.containerInfo);return;case 12:return;case 13:pp(d);return;case 19:pp(d);return;case 17:return}throw Error(o(163))}switch(d.tag){case 0:case 11:case 14:case 15:Na(3,d,d.return),sd(3,d),Na(5,d,d.return);return;case 12:return;case 13:pp(d);return;case 19:pp(d);return;case 3:Me&&c!==null&&c.memoizedState.isDehydrated&&se(d.stateNode.containerInfo);break;case 22:case 23:return}e:if(j){switch(d.tag){case 1:case 5:case 6:break e;case 3:case 4:d=d.stateNode,ri(d.containerInfo,d.pendingChildren);break e}throw Error(o(163))}}function pp(c){var d=c.updateQueue;if(d!==null){c.updateQueue=null;var y=c.stateNode;y===null&&(y=c.stateNode=new DD),d.forEach(function(b){var T=XD.bind(null,c,b);y.has(b)||(y.add(b),b.then(T,T))})}}function FD(c,d){for(Ge=d;Ge!==null;){d=Ge;var y=d.deletions;if(y!==null)for(var b=0;b<y.length;b++){var T=y[b];try{var O=c;Ae?sT(O,T,d):eT(O,T,d);var V=T.alternate;V!==null&&(V.return=null),T.return=null}catch(nt){$r(T,d,nt)}}if(y=d.child,d.subtreeFlags&12854&&y!==null)y.return=d,Ge=y;else for(;Ge!==null;){d=Ge;try{var te=d.flags;if(te&32&&Ae&&st(d.stateNode),te&512){var me=d.alternate;if(me!==null){var De=me.ref;De!==null&&(typeof De=="function"?De(null):De.current=null)}}if(te&8192)switch(d.tag){case 13:if(d.memoizedState!==null){var Qe=d.alternate;(Qe===null||Qe.memoizedState===null)&&(Ky=Qn())}break;case 22:var vt=d.memoizedState!==null,at=d.alternate,Qt=at!==null&&at.memoizedState!==null;if(y=d,Ae){e:if(b=y,T=vt,O=null,Ae)for(var it=b;;){if(it.tag===5){if(O===null){O=it;var _r=it.stateNode;T?At(_r):Fe(it.stateNode,it.memoizedProps)}}else if(it.tag===6){if(O===null){var Ii=it.stateNode;T?ee(Ii):le(Ii,it.memoizedProps)}}else if((it.tag!==22&&it.tag!==23||it.memoizedState===null||it===b)&&it.child!==null){it.child.return=it,it=it.child;continue}if(it===b)break;for(;it.sibling===null;){if(it.return===null||it.return===b)break e;O===it&&(O=null),it=it.return}O===it&&(O=null),it.sibling.return=it.return,it=it.sibling}}if(vt&&!Qt&&y.mode&1){Ge=y;for(var oe=y.child;oe!==null;){for(y=Ge=oe;Ge!==null;){b=Ge;var re=b.child;switch(b.tag){case 0:case 11:case 14:case 15:Na(4,b,b.return);break;case 1:hp(b,b.return);var de=b.stateNode;if(typeof de.componentWillUnmount=="function"){var qe=b.return;try{de.props=b.memoizedProps,de.state=b.memoizedState,de.componentWillUnmount()}catch(nt){$r(b,qe,nt)}}break;case 5:hp(b,b.return);break;case 22:if(b.memoizedState!==null){lT(y);continue}}re!==null?(re.return=b,Ge=re):lT(y)}oe=oe.sibling}}}switch(te&4102){case 2:iT(d),d.flags&=-3;break;case 6:iT(d),d.flags&=-3,Vy(d.alternate,d);break;case 4096:d.flags&=-4097;break;case 4100:d.flags&=-4097,Vy(d.alternate,d);break;case 4:Vy(d.alternate,d)}}catch(nt){$r(d,d.return,nt)}if(y=d.sibling,y!==null){y.return=d.return,Ge=y;break}Ge=d.return}}}function zD(c,d,y){Ge=c,oT(c)}function oT(c,d,y){for(var b=(c.mode&1)!==0;Ge!==null;){var T=Ge,O=T.child;if(T.tag===22&&b){var V=T.memoizedState!==null||fp;if(!V){var te=T.alternate,me=te!==null&&te.memoizedState!==null||Ia;te=fp;var De=Ia;if(fp=V,(Ia=me)&&!De)for(Ge=T;Ge!==null;)V=Ge,me=V.child,V.tag===22&&V.memoizedState!==null?cT(T):me!==null?(me.return=V,Ge=me):cT(T);for(;O!==null;)Ge=O,oT(O),O=O.sibling;Ge=T,fp=te,Ia=De}aT(c)}else T.subtreeFlags&8772&&O!==null?(O.return=T,Ge=O):aT(c)}}function aT(c){for(;Ge!==null;){var d=Ge;if(d.flags&8772){var y=d.alternate;try{if(d.flags&8772)switch(d.tag){case 0:case 11:case 15:Ia||sd(5,d);break;case 1:var b=d.stateNode;if(d.flags&4&&!Ia)if(y===null)b.componentDidMount();else{var T=d.elementType===d.type?y.memoizedProps:Ki(d.type,y.memoizedProps);b.componentDidUpdate(T,y.memoizedState,b.__reactInternalSnapshotBeforeUpdate)}var O=d.updateQueue;O!==null&&tM(d,O,b);break;case 3:var V=d.updateQueue;if(V!==null){if(y=null,d.child!==null)switch(d.child.tag){case 5:y=Z(d.child.stateNode);break;case 1:y=d.child.stateNode}tM(d,V,y)}break;case 5:var te=d.stateNode;y===null&&d.flags&4&&pe(te,d.type,d.memoizedProps,d);break;case 6:break;case 4:break;case 12:break;case 13:if(Me&&d.memoizedState===null){var me=d.alternate;if(me!==null){var De=me.memoizedState;if(De!==null){var Qe=De.dehydrated;Qe!==null&&ye(Qe)}}}break;case 19:case 17:case 21:case 22:case 23:break;default:throw Error(o(163))}Ia||d.flags&512&&By(d)}catch(vt){$r(d,d.return,vt)}}if(d===c){Ge=null;break}if(y=d.sibling,y!==null){y.return=d.return,Ge=y;break}Ge=d.return}}function lT(c){for(;Ge!==null;){var d=Ge;if(d===c){Ge=null;break}var y=d.sibling;if(y!==null){y.return=d.return,Ge=y;break}Ge=d.return}}function cT(c){for(;Ge!==null;){var d=Ge;try{switch(d.tag){case 0:case 11:case 15:var y=d.return;try{sd(4,d)}catch(me){$r(d,y,me)}break;case 1:var b=d.stateNode;if(typeof b.componentDidMount=="function"){var T=d.return;try{b.componentDidMount()}catch(me){$r(d,T,me)}}var O=d.return;try{By(d)}catch(me){$r(d,O,me)}break;case 5:var V=d.return;try{By(d)}catch(me){$r(d,V,me)}}}catch(me){$r(d,d.return,me)}if(d===c){Ge=null;break}var te=d.sibling;if(te!==null){te.return=d.return,Ge=te;break}Ge=d.return}}var mp=0,gp=1,vp=2,yp=3,xp=4;if(typeof Symbol=="function"&&Symbol.for){var od=Symbol.for;mp=od("selector.component"),gp=od("selector.has_pseudo_class"),vp=od("selector.role"),yp=od("selector.test_id"),xp=od("selector.text")}function Wy(c){var d=ue(c);if(d!=null){if(typeof d.memoizedProps["data-testname"]!="string")throw Error(o(364));return d}if(c=rt(c),c===null)throw Error(o(362));return c.stateNode.current}function Gy(c,d){switch(d.$$typeof){case mp:if(c.type===d.value)return!0;break;case gp:e:{d=d.value,c=[c,0];for(var y=0;y<c.length;){var b=c[y++],T=c[y++],O=d[T];if(b.tag!==5||!I(b)){for(;O!=null&&Gy(b,O);)T++,O=d[T];if(T===d.length){d=!0;break e}else for(b=b.child;b!==null;)c.push(b,T),b=b.sibling}}d=!1}return d;case vp:if(c.tag===5&&ne(c.stateNode,d.value))return!0;break;case xp:if((c.tag===5||c.tag===6)&&(c=H(c),c!==null&&0<=c.indexOf(d.value)))return!0;break;case yp:if(c.tag===5&&(c=c.memoizedProps["data-testname"],typeof c=="string"&&c.toLowerCase()===d.value.toLowerCase()))return!0;break;default:throw Error(o(365))}return!1}function $y(c){switch(c.$$typeof){case mp:return"<"+(L(c.value)||"Unknown")+">";case gp:return":has("+($y(c)||"")+")";case vp:return'[role="'+c.value+'"]';case xp:return'"'+c.value+'"';case yp:return'[data-testname="'+c.value+'"]';default:throw Error(o(365))}}function uT(c,d){var y=[];c=[c,0];for(var b=0;b<c.length;){var T=c[b++],O=c[b++],V=d[O];if(T.tag!==5||!I(T)){for(;V!=null&&Gy(T,V);)O++,V=d[O];if(O===d.length)y.push(T);else for(T=T.child;T!==null;)c.push(T,O),T=T.sibling}}return y}function Xy(c,d){if(!Ke)throw Error(o(363));c=Wy(c),c=uT(c,d),d=[],c=Array.from(c);for(var y=0;y<c.length;){var b=c[y++];if(b.tag===5)I(b)||d.push(b.stateNode);else for(b=b.child;b!==null;)c.push(b),b=b.sibling}return d}var BD=Math.ceil,_p=a.ReactCurrentDispatcher,qy=a.ReactCurrentOwner,On=a.ReactCurrentBatchConfig,Ct=0,zn=null,Bn=null,lr=0,ui=0,Zl=gt(0),$n=0,ad=null,Ql=0,wp=0,Yy=0,ld=null,Wr=null,Ky=0,Jy=1/0;function ec(){Jy=Qn()+500}var Sp=!1,Zy=null,ko=null,bp=!1,Io=null,Ep=0,cd=0,Qy=null,Mp=-1,Tp=0;function kr(){return Ct&6?Qn():Mp!==-1?Mp:Mp=Qn()}function No(c){return c.mode&1?Ct&2&&lr!==0?lr&-lr:SD.transition!==null?(Tp===0&&(c=zh,zh<<=1,!(zh&4194240)&&(zh=64),Tp=c),Tp):(c=zt,c!==0?c:we()):1}function Oi(c,d,y){if(50<cd)throw cd=0,Qy=null,Error(o(185));var b=Cp(c,d);return b===null?null:($u(b,d,y),(!(Ct&2)||b!==zn)&&(b===zn&&(!(Ct&2)&&(wp|=d),$n===4&&Do(b,lr)),Gr(b,y),d===1&&Ct===0&&!(c.mode&1)&&(ec(),Vh&&bs())),b)}function Cp(c,d){c.lanes|=d;var y=c.alternate;for(y!==null&&(y.lanes|=d),y=c,c=c.return;c!==null;)c.childLanes|=d,y=c.alternate,y!==null&&(y.childLanes|=d),y=c,c=c.return;return y.tag===3?y.stateNode:null}function Gr(c,d){var y=c.callbackNode;hD(c,d);var b=jh(c,c===zn?lr:0);if(b===0)y!==null&&KE(y),c.callbackNode=null,c.callbackPriority=0;else if(d=b&-b,c.callbackPriority!==d){if(y!=null&&KE(y),d===1)c.tag===0?wD(fT.bind(null,c)):JE(fT.bind(null,c)),ze?He(function(){Ct===0&&bs()}):ay(ly,bs),y=null;else{switch(YE(b)){case 1:y=ly;break;case 4:y=vD;break;case 16:y=cy;break;case 536870912:y=yD;break;default:y=cy}y=wT(y,dT.bind(null,c))}c.callbackPriority=d,c.callbackNode=y}}function dT(c,d){if(Mp=-1,Tp=0,Ct&6)throw Error(o(327));var y=c.callbackNode;if(Fa()&&c.callbackNode!==y)return null;var b=jh(c,c===zn?lr:0);if(b===0)return null;if(b&30||b&c.expiredLanes||d)d=Ap(c,b);else{d=b;var T=Ct;Ct|=2;var O=mT();(zn!==c||lr!==d)&&(ec(),Da(c,d));do try{VD();break}catch(te){pT(c,te)}while(1);fy(),_p.current=O,Ct=T,Bn!==null?d=0:(zn=null,lr=0,d=$n)}if(d!==0){if(d===2&&(T=iy(c),T!==0&&(b=T,d=ex(c,T))),d===1)throw y=ad,Da(c,0),Do(c,b),Gr(c,Qn()),y;if(d===6)Do(c,b);else{if(T=c.current.alternate,!(b&30)&&!jD(T)&&(d=Ap(c,b),d===2&&(O=iy(c),O!==0&&(b=O,d=ex(c,O))),d===1))throw y=ad,Da(c,0),Do(c,b),Gr(c,Qn()),y;switch(c.finishedWork=T,c.finishedLanes=b,d){case 0:case 1:throw Error(o(345));case 2:Ua(c,Wr);break;case 3:if(Do(c,b),(b&130023424)===b&&(d=Ky+500-Qn(),10<d)){if(jh(c,0)!==0)break;if(T=c.suspendedLanes,(T&b)!==b){kr(),c.pingedLanes|=c.suspendedLanes&T;break}c.timeoutHandle=ke(Ua.bind(null,c,Wr),d);break}Ua(c,Wr);break;case 4:if(Do(c,b),(b&4194240)===b)break;for(d=c.eventTimes,T=-1;0<b;){var V=31-Yi(b);O=1<<V,V=d[V],V>T&&(T=V),b&=~O}if(b=T,b=Qn()-b,b=(120>b?120:480>b?480:1080>b?1080:1920>b?1920:3e3>b?3e3:4320>b?4320:1960*BD(b/1960))-b,10<b){c.timeoutHandle=ke(Ua.bind(null,c,Wr),b);break}Ua(c,Wr);break;case 5:Ua(c,Wr);break;default:throw Error(o(329))}}}return Gr(c,Qn()),c.callbackNode===y?dT.bind(null,c):null}function ex(c,d){var y=ld;return c.current.memoizedState.isDehydrated&&(Da(c,d).flags|=256),c=Ap(c,d),c!==2&&(d=Wr,Wr=y,d!==null&&tx(d)),c}function tx(c){Wr===null?Wr=c:Wr.push.apply(Wr,c)}function jD(c){for(var d=c;;){if(d.flags&16384){var y=d.updateQueue;if(y!==null&&(y=y.stores,y!==null))for(var b=0;b<y.length;b++){var T=y[b],O=T.getSnapshot;T=T.value;try{if(!Ss(O(),T))return!1}catch{return!1}}}if(y=d.child,d.subtreeFlags&16384&&y!==null)y.return=d,d=y;else{if(d===c)break;for(;d.sibling===null;){if(d.return===null||d.return===c)return!0;d=d.return}d.sibling.return=d.return,d=d.sibling}}return!0}function Do(c,d){for(d&=~Yy,d&=~wp,c.suspendedLanes|=d,c.pingedLanes&=~d,c=c.expirationTimes;0<d;){var y=31-Yi(d),b=1<<y;c[y]=-1,d&=~b}}function fT(c){if(Ct&6)throw Error(o(327));Fa();var d=jh(c,0);if(!(d&1))return Gr(c,Qn()),null;var y=Ap(c,d);if(c.tag!==0&&y===2){var b=iy(c);b!==0&&(d=b,y=ex(c,b))}if(y===1)throw y=ad,Da(c,0),Do(c,d),Gr(c,Qn()),y;if(y===6)throw Error(o(345));return c.finishedWork=c.current.alternate,c.finishedLanes=d,Ua(c,Wr),Gr(c,Qn()),null}function hT(c){Io!==null&&Io.tag===0&&!(Ct&6)&&Fa();var d=Ct;Ct|=1;var y=On.transition,b=zt;try{if(On.transition=null,zt=1,c)return c()}finally{zt=b,On.transition=y,Ct=d,!(Ct&6)&&bs()}}function nx(){ui=Zl.current,Xt(Zl)}function Da(c,d){c.finishedWork=null,c.finishedLanes=0;var y=c.timeoutHandle;if(y!==Pe&&(c.timeoutHandle=Pe,fe(y)),Bn!==null)for(y=Bn.return;y!==null;){var b=y;switch(xy(b),b.tag){case 1:b=b.type.childContextTypes,b!=null&&Po();break;case 3:Kl(),Xt(Fn),Xt(Gn),Ty();break;case 5:Ey(b);break;case 4:Kl();break;case 13:Xt(mn);break;case 19:Xt(mn);break;case 10:hy(b.type._context);break;case 22:case 23:nx()}y=y.return}if(zn=c,Bn=c=Uo(c.current,null),lr=ui=d,$n=0,ad=null,Yy=wp=Ql=0,Wr=ld=null,Es!==null){for(d=0;d<Es.length;d++)if(y=Es[d],b=y.interleaved,b!==null){y.interleaved=null;var T=b.next,O=y.pending;if(O!==null){var V=O.next;O.next=T,b.next=V}y.pending=b}Es=null}return c}function pT(c,d){do{var y=Bn;try{if(fy(),ep.current=op,tp){for(var b=En.memoizedState;b!==null;){var T=b.queue;T!==null&&(T.pending=null),b=b.next}tp=!1}if(Jl=0,er=vr=En=null,Zu=!1,Qu=0,qy.current=null,y===null||y.return===null){$n=1,ad=d,Bn=null;break}e:{var O=c,V=y.return,te=y,me=d;if(d=lr,te.flags|=32768,me!==null&&typeof me=="object"&&typeof me.then=="function"){var De=me,Qe=te,vt=Qe.tag;if(!(Qe.mode&1)&&(vt===0||vt===11||vt===15)){var at=Qe.alternate;at?(Qe.updateQueue=at.updateQueue,Qe.memoizedState=at.memoizedState,Qe.lanes=at.lanes):(Qe.updateQueue=null,Qe.memoizedState=null)}var Qt=NM(V);if(Qt!==null){Qt.flags&=-257,DM(Qt,V,te,O,d),Qt.mode&1&&IM(O,De,d),d=Qt,me=De;var it=d.updateQueue;if(it===null){var _r=new Set;_r.add(me),d.updateQueue=_r}else it.add(me);break e}else{if(!(d&1)){IM(O,De,d),rx();break e}me=Error(o(426))}}else if(un&&te.mode&1){var Ii=NM(V);if(Ii!==null){!(Ii.flags&65536)&&(Ii.flags|=256),DM(Ii,V,te,O,d),Sy(me);break e}}O=me,$n!==4&&($n=2),ld===null?ld=[O]:ld.push(O),me=ky(me,te),te=V;do{switch(te.tag){case 3:te.flags|=65536,d&=-d,te.lanes|=d;var oe=OM(te,me,d);eM(te,oe);break e;case 1:O=me;var re=te.type,de=te.stateNode;if(!(te.flags&128)&&(typeof re.getDerivedStateFromError=="function"||de!==null&&typeof de.componentDidCatch=="function"&&(ko===null||!ko.has(de)))){te.flags|=65536,d&=-d,te.lanes|=d;var qe=kM(te,O,d);eM(te,qe);break e}}te=te.return}while(te!==null)}vT(y)}catch(nt){d=nt,Bn===y&&y!==null&&(Bn=y=y.return);continue}break}while(1)}function mT(){var c=_p.current;return _p.current=op,c===null?op:c}function rx(){($n===0||$n===3||$n===2)&&($n=4),zn===null||!(Ql&268435455)&&!(wp&268435455)||Do(zn,lr)}function Ap(c,d){var y=Ct;Ct|=2;var b=mT();zn===c&&lr===d||Da(c,d);do try{HD();break}catch(T){pT(c,T)}while(1);if(fy(),Ct=y,_p.current=b,Bn!==null)throw Error(o(261));return zn=null,lr=0,$n}function HD(){for(;Bn!==null;)gT(Bn)}function VD(){for(;Bn!==null&&!mD();)gT(Bn)}function gT(c){var d=_T(c.alternate,c,ui);c.memoizedProps=c.pendingProps,d===null?vT(c):Bn=d,qy.current=null}function vT(c){var d=c;do{var y=d.alternate;if(c=d.return,d.flags&32768){if(y=ND(y,d),y!==null){y.flags&=32767,Bn=y;return}if(c!==null)c.flags|=32768,c.subtreeFlags=0,c.deletions=null;else{$n=6,Bn=null;return}}else if(y=OD(y,d,ui),y!==null){Bn=y;return}if(d=d.sibling,d!==null){Bn=d;return}Bn=d=c}while(d!==null);$n===0&&($n=5)}function Ua(c,d){var y=zt,b=On.transition;try{On.transition=null,zt=1,WD(c,d,y)}finally{On.transition=b,zt=y}return null}function WD(c,d,y){do Fa();while(Io!==null);if(Ct&6)throw Error(o(327));var b=c.finishedWork,T=c.finishedLanes;if(b===null)return null;if(c.finishedWork=null,c.finishedLanes=0,b===c.current)throw Error(o(177));c.callbackNode=null,c.callbackPriority=0;var O=b.lanes|b.childLanes;if(pD(c,O),c===zn&&(Bn=zn=null,lr=0),!(b.subtreeFlags&2064)&&!(b.flags&2064)||bp||(bp=!0,wT(cy,function(){return Fa(),null})),O=(b.flags&15990)!==0,b.subtreeFlags&15990||O){O=On.transition,On.transition=null;var V=zt;zt=1;var te=Ct;Ct|=4,qy.current=null,UD(c,b),FD(c,b),q(c.containerInfo),c.current=b,zD(b),gD(),Ct=te,zt=V,On.transition=O}else c.current=b;if(bp&&(bp=!1,Io=c,Ep=T),O=c.pendingLanes,O===0&&(ko=null),xD(b.stateNode),Gr(c,Qn()),d!==null)for(y=c.onRecoverableError,b=0;b<d.length;b++)y(d[b]);if(Sp)throw Sp=!1,c=Zy,Zy=null,c;return Ep&1&&c.tag!==0&&Fa(),O=c.pendingLanes,O&1?c===Qy?cd++:(cd=0,Qy=c):cd=0,bs(),null}function Fa(){if(Io!==null){var c=YE(Ep),d=On.transition,y=zt;try{if(On.transition=null,zt=16>c?16:c,Io===null)var b=!1;else{if(c=Io,Io=null,Ep=0,Ct&6)throw Error(o(331));var T=Ct;for(Ct|=4,Ge=c.current;Ge!==null;){var O=Ge,V=O.child;if(Ge.flags&16){var te=O.deletions;if(te!==null){for(var me=0;me<te.length;me++){var De=te[me];for(Ge=De;Ge!==null;){var Qe=Ge;switch(Qe.tag){case 0:case 11:case 15:Na(8,Qe,O)}var vt=Qe.child;if(vt!==null)vt.return=Qe,Ge=vt;else for(;Ge!==null;){Qe=Ge;var at=Qe.sibling,Qt=Qe.return;if(tT(Qe),Qe===De){Ge=null;break}if(at!==null){at.return=Qt,Ge=at;break}Ge=Qt}}}var it=O.alternate;if(it!==null){var _r=it.child;if(_r!==null){it.child=null;do{var Ii=_r.sibling;_r.sibling=null,_r=Ii}while(_r!==null)}}Ge=O}}if(O.subtreeFlags&2064&&V!==null)V.return=O,Ge=V;else e:for(;Ge!==null;){if(O=Ge,O.flags&2048)switch(O.tag){case 0:case 11:case 15:Na(9,O,O.return)}var oe=O.sibling;if(oe!==null){oe.return=O.return,Ge=oe;break e}Ge=O.return}}var re=c.current;for(Ge=re;Ge!==null;){V=Ge;var de=V.child;if(V.subtreeFlags&2064&&de!==null)de.return=V,Ge=de;else e:for(V=re;Ge!==null;){if(te=Ge,te.flags&2048)try{switch(te.tag){case 0:case 11:case 15:sd(9,te)}}catch(nt){$r(te,te.return,nt)}if(te===V){Ge=null;break e}var qe=te.sibling;if(qe!==null){qe.return=te.return,Ge=qe;break e}Ge=te.return}}if(Ct=T,bs(),ws&&typeof ws.onPostCommitFiberRoot=="function")try{ws.onPostCommitFiberRoot(Hh,c)}catch{}b=!0}return b}finally{zt=y,On.transition=d}}return!1}function yT(c,d,y){d=ky(y,d),d=OM(c,d,1),Oo(c,d),d=kr(),c=Cp(c,1),c!==null&&($u(c,1,d),Gr(c,d))}function $r(c,d,y){if(c.tag===3)yT(c,c,y);else for(;d!==null;){if(d.tag===3){yT(d,c,y);break}else if(d.tag===1){var b=d.stateNode;if(typeof d.type.getDerivedStateFromError=="function"||typeof b.componentDidCatch=="function"&&(ko===null||!ko.has(b))){c=ky(y,c),c=kM(d,c,1),Oo(d,c),c=kr(),d=Cp(d,1),d!==null&&($u(d,1,c),Gr(d,c));break}}d=d.return}}function GD(c,d,y){var b=c.pingCache;b!==null&&b.delete(d),d=kr(),c.pingedLanes|=c.suspendedLanes&y,zn===c&&(lr&y)===y&&($n===4||$n===3&&(lr&130023424)===lr&&500>Qn()-Ky?Da(c,0):Yy|=y),Gr(c,d)}function xT(c,d){d===0&&(c.mode&1?(d=Bh,Bh<<=1,!(Bh&130023424)&&(Bh=4194304)):d=1);var y=kr();c=Cp(c,d),c!==null&&($u(c,d,y),Gr(c,y))}function $D(c){var d=c.memoizedState,y=0;d!==null&&(y=d.retryLane),xT(c,y)}function XD(c,d){var y=0;switch(c.tag){case 13:var b=c.stateNode,T=c.memoizedState;T!==null&&(y=T.retryLane);break;case 19:b=c.stateNode;break;default:throw Error(o(314))}b!==null&&b.delete(d),xT(c,y)}var _T;_T=function(c,d,y){if(c!==null)if(c.memoizedProps!==d.pendingProps||Fn.current)ci=!0;else{if(!(c.lanes&y)&&!(d.flags&128))return ci=!1,ID(c,d,y);ci=!!(c.flags&131072)}else ci=!1,un&&d.flags&1048576&&oM(d,Jh,d.index);switch(d.lanes=0,d.tag){case 2:var b=d.type;c!==null&&(c.alternate=null,d.alternate=null,d.flags|=2),c=d.pendingProps;var T=Sn(d,Gn.current);Wl(d,y),T=Ay(null,d,b,c,T,y);var O=Ry();return d.flags|=1,typeof T=="object"&&T!==null&&typeof T.render=="function"&&T.$$typeof===void 0?(d.tag=1,d.memoizedState=null,d.updateQueue=null,bn(b)?(O=!0,Hl(d)):O=!1,d.memoizedState=T.state!==null&&T.state!==void 0?T.state:null,my(d),T.updater=Yh,d.stateNode=T,T._reactInternals=d,vy(d,b,c,y),d=Dy(null,d,b,!0,O,y)):(d.tag=0,un&&O&&yy(d),Or(null,d,T,y),d=d.child),d;case 16:b=d.elementType;e:{switch(c!==null&&(c.alternate=null,d.alternate=null,d.flags|=2),c=d.pendingProps,T=b._init,b=T(b._payload),d.type=b,T=d.tag=YD(b),c=Ki(b,c),T){case 0:d=Ny(null,d,b,c,y);break e;case 1:d=WM(null,d,b,c,y);break e;case 11:d=zM(null,d,b,c,y);break e;case 14:d=BM(null,d,b,Ki(b.type,c),y);break e}throw Error(o(306,b,""))}return d;case 0:return b=d.type,T=d.pendingProps,T=d.elementType===b?T:Ki(b,T),Ny(c,d,b,T,y);case 1:return b=d.type,T=d.pendingProps,T=d.elementType===b?T:Ki(b,T),WM(c,d,b,T,y);case 3:e:{if(GM(d),c===null)throw Error(o(387));b=d.pendingProps,O=d.memoizedState,T=O.element,QE(c,d),qh(d,b,null,y);var V=d.memoizedState;if(b=V.element,Me&&O.isDehydrated)if(O={element:b,isDehydrated:!1,cache:V.cache,transitions:V.transitions},d.updateQueue.baseState=O,d.memoizedState=O,d.flags&256){T=Error(o(423)),d=$M(c,d,b,y,T);break e}else if(b!==T){T=Error(o(424)),d=$M(c,d,b,y,T);break e}else for(Me&&(li=ty(d.stateNode.containerInfo),ai=d,un=!0,Ji=null,Xu=!1),y=fM(d,null,b,y),d.child=y;y;)y.flags=y.flags&-3|4096,y=y.sibling;else{if(Xl(),b===T){d=eo(c,d,y);break e}Or(c,d,b,y)}d=d.child}return d;case 5:return hM(d),c===null&&wy(d),b=d.type,T=d.pendingProps,O=c!==null?c.memoizedProps:null,V=T.children,ie(b,T)?V=null:O!==null&&ie(b,O)&&(d.flags|=32),VM(c,d),Or(c,d,V,y),d.child;case 6:return c===null&&wy(d),null;case 13:return XM(c,d,y);case 4:return by(d,d.stateNode.containerInfo),b=d.pendingProps,c===null?d.child=ql(d,null,b,y):Or(c,d,b,y),d.child;case 11:return b=d.type,T=d.pendingProps,T=d.elementType===b?T:Ki(b,T),zM(c,d,b,T,y);case 7:return Or(c,d,d.pendingProps,y),d.child;case 8:return Or(c,d,d.pendingProps.children,y),d.child;case 12:return Or(c,d,d.pendingProps.children,y),d.child;case 10:e:{if(b=d.type._context,T=d.pendingProps,O=d.memoizedProps,V=T.value,ZE(d,b,V),O!==null)if(Ss(O.value,V)){if(O.children===T.children&&!Fn.current){d=eo(c,d,y);break e}}else for(O=d.child,O!==null&&(O.return=d);O!==null;){var te=O.dependencies;if(te!==null){V=O.child;for(var me=te.firstContext;me!==null;){if(me.context===b){if(O.tag===1){me=Ks(-1,y&-y),me.tag=2;var De=O.updateQueue;if(De!==null){De=De.shared;var Qe=De.pending;Qe===null?me.next=me:(me.next=Qe.next,Qe.next=me),De.pending=me}}O.lanes|=y,me=O.alternate,me!==null&&(me.lanes|=y),py(O.return,y,d),te.lanes|=y;break}me=me.next}}else if(O.tag===10)V=O.type===d.type?null:O.child;else if(O.tag===18){if(V=O.return,V===null)throw Error(o(341));V.lanes|=y,te=V.alternate,te!==null&&(te.lanes|=y),py(V,y,d),V=O.sibling}else V=O.child;if(V!==null)V.return=O;else for(V=O;V!==null;){if(V===d){V=null;break}if(O=V.sibling,O!==null){O.return=V.return,V=O;break}V=V.return}O=V}Or(c,d,T.children,y),d=d.child}return d;case 9:return T=d.type,b=d.pendingProps.children,Wl(d,y),T=Ci(T),b=b(T),d.flags|=1,Or(c,d,b,y),d.child;case 14:return b=d.type,T=Ki(b,d.pendingProps),T=Ki(b.type,T),BM(c,d,b,T,y);case 15:return jM(c,d,d.type,d.pendingProps,y);case 17:return b=d.type,T=d.pendingProps,T=d.elementType===b?T:Ki(b,T),c!==null&&(c.alternate=null,d.alternate=null,d.flags|=2),d.tag=1,bn(b)?(c=!0,Hl(d)):c=!1,Wl(d,y),iM(d,b,T),vy(d,b,T,y),Dy(null,d,b,!0,c,y);case 19:return JM(c,d,y);case 22:return HM(c,d,y)}throw Error(o(156,d.tag))};function wT(c,d){return ay(c,d)}function qD(c,d,y,b){this.tag=c,this.key=y,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=d,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=b,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ki(c,d,y,b){return new qD(c,d,y,b)}function ix(c){return c=c.prototype,!(!c||!c.isReactComponent)}function YD(c){if(typeof c=="function")return ix(c)?1:0;if(c!=null){if(c=c.$$typeof,c===x)return 11;if(c===w)return 14}return 2}function Uo(c,d){var y=c.alternate;return y===null?(y=ki(c.tag,d,c.key,c.mode),y.elementType=c.elementType,y.type=c.type,y.stateNode=c.stateNode,y.alternate=c,c.alternate=y):(y.pendingProps=d,y.type=c.type,y.flags=0,y.subtreeFlags=0,y.deletions=null),y.flags=c.flags&14680064,y.childLanes=c.childLanes,y.lanes=c.lanes,y.child=c.child,y.memoizedProps=c.memoizedProps,y.memoizedState=c.memoizedState,y.updateQueue=c.updateQueue,d=c.dependencies,y.dependencies=d===null?null:{lanes:d.lanes,firstContext:d.firstContext},y.sibling=c.sibling,y.index=c.index,y.ref=c.ref,y}function Rp(c,d,y,b,T,O){var V=2;if(b=c,typeof c=="function")ix(c)&&(V=1);else if(typeof c=="string")V=5;else e:switch(c){case f:return za(y.children,T,O,d);case h:V=8,T|=8;break;case p:return c=ki(12,y,d,T|2),c.elementType=p,c.lanes=O,c;case _:return c=ki(13,y,d,T),c.elementType=_,c.lanes=O,c;case m:return c=ki(19,y,d,T),c.elementType=m,c.lanes=O,c;case M:return Pp(y,T,O,d);default:if(typeof c=="object"&&c!==null)switch(c.$$typeof){case g:V=10;break e;case v:V=9;break e;case x:V=11;break e;case w:V=14;break e;case S:V=16,b=null;break e}throw Error(o(130,c==null?c:typeof c,""))}return d=ki(V,y,d,T),d.elementType=c,d.type=b,d.lanes=O,d}function za(c,d,y,b){return c=ki(7,c,b,d),c.lanes=y,c}function Pp(c,d,y,b){return c=ki(22,c,b,d),c.elementType=M,c.lanes=y,c.stateNode={},c}function sx(c,d,y){return c=ki(6,c,null,d),c.lanes=y,c}function ox(c,d,y){return d=ki(4,c.children!==null?c.children:[],c.key,d),d.lanes=y,d.stateNode={containerInfo:c.containerInfo,pendingChildren:null,implementation:c.implementation},d}function KD(c,d,y,b,T){this.tag=d,this.containerInfo=c,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=Pe,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=sy(0),this.expirationTimes=sy(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=sy(0),this.identifierPrefix=b,this.onRecoverableError=T,Me&&(this.mutableSourceEagerHydrationData=null)}function ST(c,d,y,b,T,O,V,te,me){return c=new KD(c,d,y,te,me),d===1?(d=1,O===!0&&(d|=8)):d=0,O=ki(3,null,null,d),c.current=O,O.stateNode=c,O.memoizedState={element:b,isDehydrated:y,cache:null,transitions:null},my(O),c}function bT(c){if(!c)return mr;c=c._reactInternals;e:{if(C(c)!==c||c.tag!==1)throw Error(o(170));var d=c;do{switch(d.tag){case 3:d=d.stateNode.context;break e;case 1:if(bn(d.type)){d=d.stateNode.__reactInternalMemoizedMergedChildContext;break e}}d=d.return}while(d!==null);throw Error(o(171))}if(c.tag===1){var y=c.type;if(bn(y))return jl(c,y,d)}return d}function ET(c){var d=c._reactInternals;if(d===void 0)throw typeof c.render=="function"?Error(o(188)):(c=Object.keys(c).join(","),Error(o(268,c)));return c=W(d),c===null?null:c.stateNode}function MT(c,d){if(c=c.memoizedState,c!==null&&c.dehydrated!==null){var y=c.retryLane;c.retryLane=y!==0&&y<d?y:d}}function ax(c,d){MT(c,d),(c=c.alternate)&&MT(c,d)}function JD(c){return c=W(c),c===null?null:c.stateNode}function ZD(){return null}return t.attemptContinuousHydration=function(c){if(c.tag===13){var d=kr();Oi(c,134217728,d),ax(c,134217728)}},t.attemptHydrationAtCurrentPriority=function(c){if(c.tag===13){var d=kr(),y=No(c);Oi(c,y,d),ax(c,y)}},t.attemptSynchronousHydration=function(c){switch(c.tag){case 3:var d=c.stateNode;if(d.current.memoizedState.isDehydrated){var y=Gu(d.pendingLanes);y!==0&&(oy(d,y|1),Gr(d,Qn()),!(Ct&6)&&(ec(),bs()))}break;case 13:var b=kr();hT(function(){return Oi(c,1,b)}),ax(c,1)}},t.batchedUpdates=function(c,d){var y=Ct;Ct|=1;try{return c(d)}finally{Ct=y,Ct===0&&(ec(),Vh&&bs())}},t.createComponentSelector=function(c){return{$$typeof:mp,value:c}},t.createContainer=function(c,d,y,b,T,O,V){return ST(c,d,!1,null,y,b,T,O,V)},t.createHasPseudoClassSelector=function(c){return{$$typeof:gp,value:c}},t.createHydrationContainer=function(c,d,y,b,T,O,V,te,me){return c=ST(y,b,!0,c,T,O,V,te,me),c.context=bT(null),y=c.current,b=kr(),T=No(y),O=Ks(b,T),O.callback=d??null,Oo(y,O),c.current.lanes=T,$u(c,T,b),Gr(c,b),c},t.createPortal=function(c,d,y){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:u,key:b==null?null:""+b,children:c,containerInfo:d,implementation:y}},t.createRoleSelector=function(c){return{$$typeof:vp,value:c}},t.createTestNameSelector=function(c){return{$$typeof:yp,value:c}},t.createTextSelector=function(c){return{$$typeof:xp,value:c}},t.deferredUpdates=function(c){var d=zt,y=On.transition;try{return On.transition=null,zt=16,c()}finally{zt=d,On.transition=y}},t.discreteUpdates=function(c,d,y,b,T){var O=zt,V=On.transition;try{return On.transition=null,zt=1,c(d,y,b,T)}finally{zt=O,On.transition=V,Ct===0&&ec()}},t.findAllNodes=Xy,t.findBoundingRects=function(c,d){if(!Ke)throw Error(o(363));d=Xy(c,d),c=[];for(var y=0;y<d.length;y++)c.push(Ft(d[y]));for(d=c.length-1;0<d;d--){y=c[d];for(var b=y.x,T=b+y.width,O=y.y,V=O+y.height,te=d-1;0<=te;te--)if(d!==te){var me=c[te],De=me.x,Qe=De+me.width,vt=me.y,at=vt+me.height;if(b>=De&&O>=vt&&T<=Qe&&V<=at){c.splice(d,1);break}else if(b!==De||y.width!==me.width||at<O||vt>V){if(!(O!==vt||y.height!==me.height||Qe<b||De>T)){De>b&&(me.width+=De-b,me.x=b),Qe<T&&(me.width=T-De),c.splice(d,1);break}}else{vt>O&&(me.height+=vt-O,me.y=O),at<V&&(me.height=V-vt),c.splice(d,1);break}}}return c},t.findHostInstance=ET,t.findHostInstanceWithNoPortals=function(c){return c=U(c),c=c!==null?G(c):null,c===null?null:c.stateNode},t.findHostInstanceWithWarning=function(c){return ET(c)},t.flushControlled=function(c){var d=Ct;Ct|=1;var y=On.transition,b=zt;try{On.transition=null,zt=1,c()}finally{zt=b,On.transition=y,Ct=d,Ct===0&&(ec(),bs())}},t.flushPassiveEffects=Fa,t.flushSync=hT,t.focusWithin=function(c,d){if(!Ke)throw Error(o(363));for(c=Wy(c),d=uT(c,d),d=Array.from(d),c=0;c<d.length;){var y=d[c++];if(!I(y)){if(y.tag===5&&xe(y.stateNode))return!0;for(y=y.child;y!==null;)d.push(y),y=y.sibling}}return!1},t.getCurrentUpdatePriority=function(){return zt},t.getFindAllNodesFailureDescription=function(c,d){if(!Ke)throw Error(o(363));var y=0,b=[];c=[Wy(c),0];for(var T=0;T<c.length;){var O=c[T++],V=c[T++],te=d[V];if((O.tag!==5||!I(O))&&(Gy(O,te)&&(b.push($y(te)),V++,V>y&&(y=V)),V<d.length))for(O=O.child;O!==null;)c.push(O,V),O=O.sibling}if(y<d.length){for(c=[];y<d.length;y++)c.push($y(d[y]));return`findAllNodes was able to match part of the selector:
  `+(b.join(" > ")+`

No matching component was found for:
  `)+c.join(" > ")}return null},t.getPublicRootInstance=function(c){if(c=c.current,!c.child)return null;switch(c.child.tag){case 5:return Z(c.child.stateNode);default:return c.child.stateNode}},t.injectIntoDevTools=function(c){if(c={bundleType:c.bundleType,version:c.version,rendererPackageName:c.rendererPackageName,rendererConfig:c.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:a.ReactCurrentDispatcher,findHostInstanceByFiber:JD,findFiberByHostInstance:c.findFiberByHostInstance||ZD,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.0.0-fc46dba67-20220329"},typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")c=!1;else{var d=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(d.isDisabled||!d.supportsFiber)c=!0;else{try{Hh=d.inject(c),ws=d}catch{}c=!!d.checkDCE}}return c},t.isAlreadyRendering=function(){return!1},t.observeVisibleRects=function(c,d,y,b){if(!Ke)throw Error(o(363));c=Xy(c,d);var T=Se(c,y,b).disconnect;return{disconnect:function(){T()}}},t.registerMutableSourceForHydration=function(c,d){var y=d._getVersion;y=y(d._source),c.mutableSourceEagerHydrationData==null?c.mutableSourceEagerHydrationData=[d,y]:c.mutableSourceEagerHydrationData.push(d,y)},t.runWithPriority=function(c,d){var y=zt;try{return zt=c,d()}finally{zt=y}},t.shouldError=function(){return null},t.shouldSuspend=function(){return!1},t.updateContainer=function(c,d,y,b){var T=d.current,O=kr(),V=No(T);return y=bT(y),d.context===null?d.context=y:d.pendingContext=y,d=Ks(O,V),d.payload={element:c},b=b===void 0?null:b,b!==null&&(d.callback=b),Oo(T,d),c=Oi(T,V,O),c!==null&&Xh(c,T,V),V},t}),m_}(function(n){n.exports=f7()})(Gk);var h7=o7(Gk.exports);function $k(n,e,t=(r,i)=>r===i){if(n===e)return!0;if(!n||!e)return!1;const r=n.length;if(e.length!==r)return!1;for(let i=0;i<r;i++)if(!t(n[i],e[i]))return!1;return!0}const po=[];function Xk(n,e,t=!1,r={}){for(const s of po)if($k(e,s.keys,s.equal)){if(t)return;if(Object.prototype.hasOwnProperty.call(s,"error"))throw s.error;if(Object.prototype.hasOwnProperty.call(s,"response"))return s.response;if(!t)throw s.promise}const i={keys:e,equal:r.equal,promise:n(...e).then(s=>i.response=s).then(()=>{r.lifespan&&r.lifespan>0&&setTimeout(()=>{const s=po.indexOf(i);s!==-1&&po.splice(s,1)},r.lifespan)}).catch(s=>i.error=s)};if(po.push(i),!t)throw i.promise}const p7=(n,e,t)=>Xk(n,e,!1,t),m7=(n,e,t)=>void Xk(n,e,!0,t),g7=n=>{if(n===void 0||n.length===0)po.splice(0,po.length);else{const e=po.find(t=>$k(n,t.keys,t.equal));if(e){const t=po.indexOf(e);t!==-1&&po.splice(t,1)}}};var yA,xA;const qk=n=>n&&n.isOrthographicCamera,v7=n=>n&&n.hasOwnProperty("current"),wh=typeof window<"u"&&((yA=window.document)!=null&&yA.createElement||((xA=window.navigator)==null?void 0:xA.product)==="ReactNative")?N.useLayoutEffect:N.useEffect;function Yk(n){const e=N.useRef(n);return wh(()=>void(e.current=n),[n]),e}function y7({set:n}){return wh(()=>(n(new Promise(()=>null)),()=>n(!1)),[n]),null}let Kk=class extends N.Component{constructor(...e){super(...e),this.state={error:!1}}componentDidCatch(e){this.props.set(e)}render(){return this.state.error?null:this.props.children}};Kk.getDerivedStateFromError=()=>({error:!0});const Jk="__default",x7=n=>n&&!!n.memoized&&!!n.changes;function Zk(n){const e=typeof window<"u"?window.devicePixelRatio:1;return Array.isArray(n)?Math.min(Math.max(n[0],e),n[1]):n}const Ad=n=>{var e;return(e=n.__r3f)==null?void 0:e.root.getState()},Rn={obj:n=>n===Object(n)&&!Rn.arr(n)&&typeof n!="function",fun:n=>typeof n=="function",str:n=>typeof n=="string",num:n=>typeof n=="number",boo:n=>typeof n=="boolean",und:n=>n===void 0,arr:n=>Array.isArray(n),equ(n,e,{arrays:t="shallow",objects:r="reference",strict:i=!0}={}){if(typeof n!=typeof e||!!n!=!!e)return!1;if(Rn.str(n)||Rn.num(n))return n===e;const s=Rn.obj(n);if(s&&r==="reference")return n===e;const o=Rn.arr(n);if(o&&t==="reference")return n===e;if((o||s)&&n===e)return!0;let a;for(a in n)if(!(a in e))return!1;for(a in i?e:n)if(n[a]!==e[a])return!1;if(Rn.und(a)){if(o&&n.length===0&&e.length===0||s&&Object.keys(n).length===0&&Object.keys(e).length===0)return!0;if(n!==e)return!1}return!0}};function _7(n){const e={nodes:{},materials:{}};return n&&n.traverse(t=>{t.name&&(e.nodes[t.name]=t),t.material&&!e.materials[t.material.name]&&(e.materials[t.material.name]=t.material)}),e}function w7(n){n.dispose&&n.type!=="Scene"&&n.dispose();for(const e in n)e.dispose==null||e.dispose(),delete n[e]}function Dc(n,e){const t=n;return(e!=null&&e.primitive||!t.__r3f)&&(t.__r3f={type:"",root:null,previousAttach:null,memoizedProps:{},eventCount:0,handlers:{},objects:[],parent:null,...e}),n}function Rw(n,e){let t=n;if(e.includes("-")){const r=e.split("-"),i=r.pop();return t=r.reduce((s,o)=>s[o],n),{target:t,key:i}}else return{target:t,key:e}}const _A=/-\d+$/;function g_(n,e,t){if(Rn.str(t)){if(_A.test(t)){const s=t.replace(_A,""),{target:o,key:a}=Rw(n,s);Array.isArray(o[a])||(o[a]=[])}const{target:r,key:i}=Rw(n,t);e.__r3f.previousAttach=r[i],r[i]=e}else e.__r3f.previousAttach=t(n,e)}function wA(n,e,t){var r,i;if(Rn.str(t)){const{target:s,key:o}=Rw(n,t),a=e.__r3f.previousAttach;a===void 0?delete s[o]:s[o]=a}else(r=e.__r3f)==null||r.previousAttach==null||r.previousAttach(n,e);(i=e.__r3f)==null||delete i.previousAttach}function Qk(n,{children:e,key:t,ref:r,...i},{children:s,key:o,ref:a,...l}={},u=!1){var f;const h=(f=n==null?void 0:n.__r3f)!=null?f:{},p=Object.entries(i),g=[];if(u){const x=Object.keys(l);for(let _=0;_<x.length;_++)i.hasOwnProperty(x[_])||p.unshift([x[_],Jk+"remove"])}p.forEach(([x,_])=>{var m;if((m=n.__r3f)!=null&&m.primitive&&x==="object"||Rn.equ(_,l[x]))return;if(/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/.test(x))return g.push([x,_,!0,[]]);let w=[];x.includes("-")&&(w=x.split("-")),g.push([x,_,!1,w]);for(const S in i){const M=i[S];S.startsWith(`${x}-`)&&g.push([S,M,!1,S.split("-")])}});const v={...i};return h.memoizedProps&&h.memoizedProps.args&&(v.args=h.memoizedProps.args),h.memoizedProps&&h.memoizedProps.attach&&(v.attach=h.memoizedProps.attach),{memoized:v,changes:g}}function v_(n,e){var t,r,i;const s=(t=n.__r3f)!=null?t:{},o=s.root,a=(r=o==null||o.getState==null?void 0:o.getState())!=null?r:{},{memoized:l,changes:u}=x7(e)?e:Qk(n,e),f=s.eventCount;n.__r3f&&(n.__r3f.memoizedProps=l);for(let g=0;g<u.length;g++){let[v,x,_,m]=u[g],w=n,S=w[v];if(m.length&&(S=m.reduce((M,R)=>M[R],n),!(S&&S.set))){const[M,...R]=m.reverse();w=R.reverse().reduce((P,L)=>P[L],n),v=M}if(x===Jk+"remove")if(S&&S.constructor){var h;x=new S.constructor(...(h=l.args)!=null?h:[])}else if(w.constructor){var p;const M=new w.constructor(...(p=w.__r3f.memoizedProps.args)!=null?p:[]);x=M[S],M.dispose&&M.dispose()}else x=0;if(_)x?s.handlers[v]=x:delete s.handlers[v],s.eventCount=Object.keys(s.handlers).length;else if(S&&S.set&&(S.copy||S instanceof wl)){if(Array.isArray(x))S.fromArray?S.fromArray(x):S.set(...x);else if(S.copy&&x&&x.constructor&&S.constructor.name===x.constructor.name)S.copy(x);else if(x!==void 0){const M=S instanceof Ye;!M&&S.setScalar?S.setScalar(x):S instanceof wl&&x instanceof wl?S.mask=x.mask:S.set(x),!("ColorManagement"in e0)&&!a.linear&&M&&S.convertSRGBToLinear()}}else w[v]=x,!a.linear&&w[v]instanceof Ln&&(w[v].encoding=js);Uc(n)}if(s.parent&&a.internal&&n.raycast&&f!==s.eventCount){const g=a.internal.interaction.indexOf(n);g>-1&&a.internal.interaction.splice(g,1),s.eventCount&&a.internal.interaction.push(n)}return u.length&&(i=n.__r3f)!=null&&i.parent&&Pw(n),n}function Uc(n){var e,t;const r=(e=n.__r3f)==null||(t=e.root)==null||t.getState==null?void 0:t.getState();r&&r.internal.frames===0&&r.invalidate()}function Pw(n){n.onUpdate==null||n.onUpdate(n)}function S7(n,e){n.manual||(qk(n)?(n.left=e.width/-2,n.right=e.width/2,n.top=e.height/2,n.bottom=e.height/-2):n.aspect=e.width/e.height,n.updateProjectionMatrix(),n.updateMatrixWorld())}function b7(n,e,t){const r=t.pop(),i=t.reduce((s,o)=>s[o],n);return i[r]=e}function Dm(n){return(n.eventObject||n.object).uuid+"/"+n.index+n.instanceId}function E7(){var n;const e=typeof self<"u"&&self||typeof window<"u"&&window;if(!e)return pl.exports.DefaultEventPriority;switch((n=e.event)==null?void 0:n.type){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return pl.exports.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return pl.exports.ContinuousEventPriority;default:return pl.exports.DefaultEventPriority}}function eI(n,e,t,r){const i=t.get(e);i&&(t.delete(e),t.size===0&&(n.delete(r),i.target.releasePointerCapture(r)))}function M7(n,e){const{internal:t}=n.getState();t.interaction=t.interaction.filter(r=>r!==e),t.initialHits=t.initialHits.filter(r=>r!==e),t.hovered.forEach((r,i)=>{(r.eventObject===e||r.object===e)&&t.hovered.delete(i)}),t.capturedMap.forEach((r,i)=>{eI(t.capturedMap,e,r,i)})}function T7(n){function e(l){const{internal:u}=n.getState(),f=l.offsetX-u.initialClick[0],h=l.offsetY-u.initialClick[1];return Math.round(Math.sqrt(f*f+h*h))}function t(l){return l.filter(u=>["Move","Over","Enter","Out","Leave"].some(f=>{var h;return(h=u.__r3f)==null?void 0:h.handlers["onPointer"+f]}))}function r(l,u){const f=n.getState(),h=new Set,p=[],g=u?u(f.internal.interaction):f.internal.interaction;for(let m=0;m<g.length;m++){const w=Ad(g[m]);w&&(w.raycaster.camera=void 0)}f.previousRoot||f.events.compute==null||f.events.compute(l,f);function v(m){const w=Ad(m);if(!w||!w.events.enabled||w.raycaster.camera===null)return[];if(w.raycaster.camera===void 0){var S;w.events.compute==null||w.events.compute(l,w,(S=w.previousRoot)==null?void 0:S.getState()),w.raycaster.camera===void 0&&(w.raycaster.camera=null)}return w.raycaster.camera?w.raycaster.intersectObject(m,!0):[]}let x=g.flatMap(v).sort((m,w)=>{const S=Ad(m.object),M=Ad(w.object);return!S||!M?m.distance-w.distance:M.events.priority-S.events.priority||m.distance-w.distance}).filter(m=>{const w=Dm(m);return h.has(w)?!1:(h.add(w),!0)});f.events.filter&&(x=f.events.filter(x,f));for(const m of x){let w=m.object;for(;w;){var _;(_=w.__r3f)!=null&&_.eventCount&&p.push({...m,eventObject:w}),w=w.parent}}if("pointerId"in l&&f.internal.capturedMap.has(l.pointerId))for(let m of f.internal.capturedMap.get(l.pointerId).values())h.has(Dm(m.intersection))||p.push(m.intersection);return p}function i(l,u,f,h){const p=n.getState();if(l.length){const g={stopped:!1};for(const v of l){const x=Ad(v.object)||p,{raycaster:_,pointer:m,camera:w,internal:S}=x,M=new z(m.x,m.y,0).unproject(w),R=A=>{var U,W;return(U=(W=S.capturedMap.get(A))==null?void 0:W.has(v.eventObject))!=null?U:!1},P=A=>{const U={intersection:v,target:u.target};S.capturedMap.has(A)?S.capturedMap.get(A).set(v.eventObject,U):S.capturedMap.set(A,new Map([[v.eventObject,U]])),u.target.setPointerCapture(A)},L=A=>{const U=S.capturedMap.get(A);U&&eI(S.capturedMap,v.eventObject,U,A)};let k={};for(let A in u){let U=u[A];typeof U!="function"&&(k[A]=U)}let C={...v,...k,pointer:m,intersections:l,stopped:g.stopped,delta:f,unprojectedPoint:M,ray:_.ray,camera:w,stopPropagation(){const A="pointerId"in u&&S.capturedMap.get(u.pointerId);if((!A||A.has(v.eventObject))&&(C.stopped=g.stopped=!0,S.hovered.size&&Array.from(S.hovered.values()).find(U=>U.eventObject===v.eventObject))){const U=l.slice(0,l.indexOf(v));s([...U,v])}},target:{hasPointerCapture:R,setPointerCapture:P,releasePointerCapture:L},currentTarget:{hasPointerCapture:R,setPointerCapture:P,releasePointerCapture:L},nativeEvent:u};if(h(C),g.stopped===!0)break}}return l}function s(l){const{internal:u}=n.getState();for(const f of u.hovered.values())if(!l.length||!l.find(h=>h.object===f.object&&h.index===f.index&&h.instanceId===f.instanceId)){const p=f.eventObject.__r3f,g=p==null?void 0:p.handlers;if(u.hovered.delete(Dm(f)),p!=null&&p.eventCount){const v={...f,intersections:l};g.onPointerOut==null||g.onPointerOut(v),g.onPointerLeave==null||g.onPointerLeave(v)}}}function o(l,u){for(let f=0;f<u.length;f++){const h=u[f].__r3f;h==null||h.handlers.onPointerMissed==null||h.handlers.onPointerMissed(l)}}function a(l){switch(l){case"onPointerLeave":case"onPointerCancel":return()=>s([]);case"onLostPointerCapture":return u=>{const{internal:f}=n.getState();"pointerId"in u&&f.capturedMap.has(u.pointerId)&&(f.capturedMap.delete(u.pointerId),s([]))}}return function(f){const{onPointerMissed:h,internal:p}=n.getState();p.lastEvent.current=f;const g=l==="onPointerMove",v=l==="onClick"||l==="onContextMenu"||l==="onDoubleClick",_=r(f,g?t:void 0),m=v?e(f):0;l==="onPointerDown"&&(p.initialClick=[f.offsetX,f.offsetY],p.initialHits=_.map(S=>S.eventObject)),v&&!_.length&&m<=2&&(o(f,p.interaction),h&&h(f)),g&&s(_);function w(S){const M=S.eventObject,R=M.__r3f,P=R==null?void 0:R.handlers;if(R!=null&&R.eventCount)if(g){if(P.onPointerOver||P.onPointerEnter||P.onPointerOut||P.onPointerLeave){const L=Dm(S),k=p.hovered.get(L);k?k.stopped&&S.stopPropagation():(p.hovered.set(L,S),P.onPointerOver==null||P.onPointerOver(S),P.onPointerEnter==null||P.onPointerEnter(S))}P.onPointerMove==null||P.onPointerMove(S)}else{const L=P[l];L?(!v||p.initialHits.includes(M))&&(o(f,p.interaction.filter(k=>!p.initialHits.includes(k))),L(S)):v&&p.initialHits.includes(M)&&o(f,p.interaction.filter(k=>!p.initialHits.includes(k)))}}i(_,f,m,w)}}return{handlePointer:a}}let Lw={},C7=n=>void(Lw={...Lw,...n});function A7(n,e){function t(f,{args:h=[],attach:p,...g},v){let x=`${f[0].toUpperCase()}${f.slice(1)}`,_;if(f==="primitive"){if(g.object===void 0)throw new Error("R3F: Primitives without 'object' are invalid!");const m=g.object;_=Dc(m,{type:f,root:v,attach:p,primitive:!0})}else{const m=Lw[x];if(!m)throw new Error(`R3F: ${x} is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively`);if(!Array.isArray(h))throw new Error("R3F: The args prop must be an array!");_=Dc(new m(...h),{type:f,root:v,attach:p,memoizedProps:{args:h}})}return _.__r3f.attach===void 0&&(_ instanceof mt?_.__r3f.attach="geometry":_ instanceof pr&&(_.__r3f.attach="material")),x!=="inject"&&v_(_,g),_}function r(f,h){let p=!1;if(h){var g,v;(g=h.__r3f)!=null&&g.attach?g_(f,h,h.__r3f.attach):h.isObject3D&&f.isObject3D&&(f.add(h),p=!0),p||(v=f.__r3f)==null||v.objects.push(h),h.__r3f||Dc(h,{}),h.__r3f.parent=f,Pw(h),Uc(h)}}function i(f,h,p){let g=!1;if(h){var v,x;if((v=h.__r3f)!=null&&v.attach)g_(f,h,h.__r3f.attach);else if(h.isObject3D&&f.isObject3D){h.parent=f,h.dispatchEvent({type:"added"});const _=f.children.filter(w=>w!==h),m=_.indexOf(p);f.children=[..._.slice(0,m),h,..._.slice(m)],g=!0}g||(x=f.__r3f)==null||x.objects.push(h),h.__r3f||Dc(h,{}),h.__r3f.parent=f,Pw(h),Uc(h)}}function s(f,h,p=!1){f&&[...f].forEach(g=>o(h,g,p))}function o(f,h,p){if(h){var g,v,x;if(h.__r3f&&(h.__r3f.parent=null),(g=f.__r3f)!=null&&g.objects&&(f.__r3f.objects=f.__r3f.objects.filter(M=>M!==h)),(v=h.__r3f)!=null&&v.attach)wA(f,h,h.__r3f.attach);else if(h.isObject3D&&f.isObject3D){var _;f.remove(h),(_=h.__r3f)!=null&&_.root&&M7(h.__r3f.root,h)}const w=(x=h.__r3f)==null?void 0:x.primitive,S=p===void 0?h.dispose!==null&&!w:p;if(!w){var m;s((m=h.__r3f)==null?void 0:m.objects,h,S),s(h.children,h,S)}h.__r3f&&(delete h.__r3f.root,delete h.__r3f.objects,delete h.__r3f.handlers,delete h.__r3f.memoizedProps,w||delete h.__r3f),S&&h.dispose&&h.type!=="Scene"&&t0.exports.unstable_scheduleCallback(t0.exports.unstable_IdlePriority,()=>{try{h.dispose()}catch{}}),Uc(f)}}function a(f,h,p,g){var v;const x=(v=f.__r3f)==null?void 0:v.parent;if(!x)return;const _=t(h,p,f.__r3f.root);if(f.children){for(const m of f.children)m.__r3f&&r(_,m);f.children=f.children.filter(m=>!m.__r3f)}f.__r3f.objects.forEach(m=>r(_,m)),f.__r3f.objects=[],o(x,f),r(x,_),_.raycast&&_.__r3f.eventCount&&_.__r3f.root.getState().internal.interaction.push(_),[g,g.alternate].forEach(m=>{m!==null&&(m.stateNode=_,m.ref&&(typeof m.ref=="function"?m.ref(_):m.ref.current=_))})}const l=()=>console.warn("Text is not allowed in the R3F tree! This could be stray whitespace or characters.");return{reconciler:h7({createInstance:t,removeChild:o,appendChild:r,appendInitialChild:r,insertBefore:i,supportsMutation:!0,isPrimaryRenderer:!1,supportsPersistence:!1,supportsHydration:!1,noTimeout:-1,appendChildToContainer:(f,h)=>{if(!h)return;const p=f.getState().scene;p.__r3f&&(p.__r3f.root=f,r(p,h))},removeChildFromContainer:(f,h)=>{h&&o(f.getState().scene,h)},insertInContainerBefore:(f,h,p)=>{if(!h||!p)return;const g=f.getState().scene;g.__r3f&&i(g,h,p)},getRootHostContext:()=>null,getChildHostContext:f=>f,finalizeInitialChildren(f){var h;return!!((h=f==null?void 0:f.__r3f)!=null?h:{}).handlers},prepareUpdate(f,h,p,g){if(f.__r3f.primitive&&g.object&&g.object!==f)return[!0];{const{args:v=[],children:x,..._}=g,{args:m=[],children:w,...S}=p;if(!Array.isArray(v))throw new Error("R3F: the args prop must be an array!");if(v.some((R,P)=>R!==m[P]))return[!0];const M=Qk(f,_,S,!0);return M.changes.length?[!1,M]:null}},commitUpdate(f,[h,p],g,v,x,_){h?a(f,g,x,_):v_(f,p)},commitMount(f,h,p,g){var v;const x=(v=f.__r3f)!=null?v:{};f.raycast&&x.handlers&&x.eventCount&&f.__r3f.root.getState().internal.interaction.push(f)},getPublicInstance:f=>f,prepareForCommit:()=>null,preparePortalMount:f=>Dc(f.getState().scene),resetAfterCommit:()=>{},shouldSetTextContent:()=>!1,clearContainer:()=>!1,hideInstance(f){var h;const{attach:p,parent:g}=(h=f.__r3f)!=null?h:{};p&&g&&wA(g,f,p),f.isObject3D&&(f.visible=!1),Uc(f)},unhideInstance(f,h){var p;const{attach:g,parent:v}=(p=f.__r3f)!=null?p:{};g&&v&&g_(v,f,g),(f.isObject3D&&h.visible==null||h.visible)&&(f.visible=!0),Uc(f)},createTextInstance:l,hideTextInstance:l,unhideTextInstance:l,getCurrentEventPriority:()=>e?e():pl.exports.DefaultEventPriority,beforeActiveInstanceBlur:()=>{},afterActiveInstanceBlur:()=>{},detachDeletedInstance:()=>{},now:typeof performance<"u"&&Rn.fun(performance.now)?performance.now:Rn.fun(Date.now)?Date.now:()=>0,scheduleTimeout:Rn.fun(setTimeout)?setTimeout:void 0,cancelTimeout:Rn.fun(clearTimeout)?clearTimeout:void 0}),applyProps:v_}}const tI=n=>!!(n!=null&&n.render),nI=N.createContext(null),R7=(n,e)=>{const t=u7((a,l)=>{const u=new z,f=new z,h=new z;function p(m=l().camera,w=f,S=l().size){const{width:M,height:R,top:P,left:L}=S,k=M/R;w instanceof z?h.copy(w):h.set(...w);const C=m.getWorldPosition(u).distanceTo(h);if(qk(m))return{width:M/m.zoom,height:R/m.zoom,top:P,left:L,factor:1,distance:C,aspect:k};{const A=m.fov*Math.PI/180,U=2*Math.tan(A/2)*C,W=U*(M/R);return{width:W,height:U,top:P,left:L,factor:M/W,distance:C,aspect:k}}}let g;const v=m=>a(w=>({performance:{...w.performance,current:m}})),x=new _e;return{set:a,get:l,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},xr:null,invalidate:(m=1)=>n(l(),m),advance:(m,w)=>e(m,w,l()),legacy:!1,linear:!1,flat:!1,scene:Dc(new kb),controls:null,clock:new Zb,pointer:x,mouse:x,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:()=>{const m=l();g&&clearTimeout(g),m.performance.current!==m.performance.min&&v(m.performance.min),g=setTimeout(()=>v(l().performance.max),m.performance.debounce)}},size:{width:0,height:0,top:0,left:0,updateStyle:!1},viewport:{initialDpr:0,dpr:0,width:0,height:0,top:0,left:0,aspect:0,distance:0,factor:0,getCurrentViewport:p},setEvents:m=>a(w=>({...w,events:{...w.events,...m}})),setSize:(m,w,S,M,R)=>{const P=l().camera,L={width:m,height:w,top:M||0,left:R||0,updateStyle:S};a(k=>({size:L,viewport:{...k.viewport,...p(P,f,L)}}))},setDpr:m=>a(w=>{const S=Zk(m);return{viewport:{...w.viewport,dpr:S,initialDpr:w.viewport.initialDpr||S}}}),setFrameloop:(m="always")=>{const w=l().clock;w.stop(),w.elapsedTime=0,m!=="never"&&(w.start(),w.elapsedTime=0),a(()=>({frameloop:m}))},previousRoot:void 0,internal:{active:!1,priority:0,frames:0,lastEvent:N.createRef(),interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,subscribe:(m,w,S)=>{const M=l().internal;return M.priority=M.priority+(w>0?1:0),M.subscribers.push({ref:m,priority:w,store:S}),M.subscribers=M.subscribers.sort((R,P)=>R.priority-P.priority),()=>{const R=l().internal;R!=null&&R.subscribers&&(R.priority=R.priority-(w>0?1:0),R.subscribers=R.subscribers.filter(P=>P.ref!==m))}}}}}),r=t.getState();let i=r.size,s=r.viewport.dpr,o=r.camera;return t.subscribe(()=>{const{camera:a,size:l,viewport:u,gl:f,set:h}=t.getState();(l!==i||u.dpr!==s)&&(i=l,s=u.dpr,S7(a,l),f.setPixelRatio(u.dpr),f.setSize(l.width,l.height,l.updateStyle)),a!==o&&(o=a,h(p=>({viewport:{...p.viewport,...p.viewport.getCurrentViewport(a)}})))}),t.subscribe(a=>n(a)),t};let Um,P7=new Set,L7=new Set,O7=new Set;function y_(n,e){if(n.size)for(const{callback:t}of n.values())t(e)}function Rd(n,e){switch(n){case"before":return y_(P7,e);case"after":return y_(L7,e);case"tail":return y_(O7,e)}}let x_,__;function w_(n,e,t){let r=e.clock.getDelta();for(e.frameloop==="never"&&typeof n=="number"&&(r=n-e.clock.elapsedTime,e.clock.oldTime=e.clock.elapsedTime,e.clock.elapsedTime=n),x_=e.internal.subscribers,Um=0;Um<x_.length;Um++)__=x_[Um],__.ref.current(__.store.getState(),r,t);return!e.internal.priority&&e.gl.render&&e.gl.render(e.scene,e.camera),e.internal.frames=Math.max(0,e.internal.frames-1),e.frameloop==="always"?1:e.internal.frames}function k7(n){let e=!1,t,r,i;function s(l){r=requestAnimationFrame(s),e=!0,t=0,Rd("before",l);for(const f of n.values()){var u;i=f.store.getState(),i.internal.active&&(i.frameloop==="always"||i.internal.frames>0)&&!((u=i.gl.xr)!=null&&u.isPresenting)&&(t+=w_(l,i))}if(Rd("after",l),t===0)return Rd("tail",l),e=!1,cancelAnimationFrame(r)}function o(l,u=1){var f;if(!l)return n.forEach(h=>o(h.store.getState()),u);(f=l.gl.xr)!=null&&f.isPresenting||!l.internal.active||l.frameloop==="never"||(l.internal.frames=Math.min(60,l.internal.frames+u),e||(e=!0,requestAnimationFrame(s)))}function a(l,u=!0,f,h){if(u&&Rd("before",l),f)w_(l,f,h);else for(const p of n.values())w_(l,p.store.getState());u&&Rd("after",l)}return{loop:s,invalidate:o,advance:a}}function rI(){const n=N.useContext(nI);if(!n)throw new Error("R3F: Hooks can only be used within the Canvas component!");return n}function hg(n=t=>t,e){return rI()(n,e)}function nE(n,e=0){const t=rI(),r=t.getState().internal.subscribe,i=Yk(n);return wh(()=>r(i,e,t),[e,r,t]),null}function iI(n,e){return function(t,...r){const i=new t;return n&&n(i),Promise.all(r.map(s=>new Promise((o,a)=>i.load(s,l=>{l.scene&&Object.assign(l,_7(l.scene)),o(l)},e,l=>a(new Error(`Could not load ${s}: ${l.message})`))))))}}function rE(n,e,t,r){const i=Array.isArray(e)?e:[e],s=p7(iI(t,r),[n,...i],{equal:Rn.equ});return Array.isArray(e)?s:s[0]}rE.preload=function(n,e,t){const r=Array.isArray(e)?e:[e];return m7(iI(t),[n,...r])};rE.clear=function(n,e){const t=Array.isArray(e)?e:[e];return g7([n,...t])};const bu=new Map,{invalidate:SA,advance:bA}=k7(bu),{reconciler:n0,applyProps:Fm}=A7(bu,E7),Ec={objects:"shallow",strict:!1},I7=(n,e)=>{const t=typeof n=="function"?n(e):n;return tI(t)?t:new Ob({powerPreference:"high-performance",canvas:e,antialias:!0,alpha:!0,...n})};function N7(n){return n instanceof HTMLCanvasElement}function D7(n,e){if(e)return e;if(N7(n)&&n.parentElement){const{width:t,height:r,top:i,left:s}=n.parentElement.getBoundingClientRect();return{width:t,height:r,top:i,left:s}}return{width:0,height:0,top:0,left:0}}function U7(n){const e=bu.get(n),t=e==null?void 0:e.fiber,r=e==null?void 0:e.store;e&&console.warn("R3F.createRoot should only be called once!");const i=typeof reportError=="function"?reportError:console.error,s=r||R7(SA,bA),o=t||n0.createContainer(s,pl.exports.ConcurrentRoot,null,!1,null,"",i,null);e||bu.set(n,{fiber:o,store:s});let a,l=!1;return{configure(u={}){let{gl:f,size:h,events:p,onCreated:g,shadows:v=!1,linear:x=!1,flat:_=!1,legacy:m=!1,orthographic:w=!1,frameloop:S="always",dpr:M=[1,2],performance:R,raycaster:P,camera:L,onPointerMissed:k}=u,C=s.getState(),A=C.gl;C.gl||C.set({gl:A=I7(f,n)});let U=C.raycaster;U||C.set({raycaster:U=new Vk});const{params:W,...F}=P||{};if(Rn.equ(F,U,Ec)||Fm(U,{...F}),Rn.equ(W,U.params,Ec)||Fm(U,{params:{...U.params,...W}}),!C.camera){const J=L instanceof ph,D=J?L:w?new va(0,0,0,0,.1,1e3):new pn(75,0,.1,1e3);J||(D.position.z=5,L&&Fm(D,L),L!=null&&L.rotation||D.lookAt(0,0,0)),C.set({camera:D})}if(!C.xr){const J=(q,Y)=>{const Q=s.getState();Q.frameloop!=="never"&&bA(q,!0,Q,Y)},D=()=>{const q=s.getState();q.gl.xr.enabled=q.gl.xr.isPresenting,q.gl.xr.setAnimationLoop(q.gl.xr.isPresenting?J:null),q.gl.xr.isPresenting||SA(q)},$={connect(){const q=s.getState().gl;q.xr.addEventListener("sessionstart",D),q.xr.addEventListener("sessionend",D)},disconnect(){const q=s.getState().gl;q.xr.removeEventListener("sessionstart",D),q.xr.removeEventListener("sessionend",D)}};A.xr&&$.connect(),C.set({xr:$})}if(A.shadowMap){const J=Rn.boo(v);if(J&&A.shadowMap.enabled!==v||!Rn.equ(v,A.shadowMap,Ec)){const D=A.shadowMap.enabled;A.shadowMap.enabled=!!v,J?A.shadowMap.type=W0:Object.assign(A.shadowMap,v),D!==A.shadowMap.enabled&&(A.shadowMap.needsUpdate=!0)}}"ColorManagement"in e0&&b7(e0,m,["ColorManagement","legacyMode"]);const G=x?q0:js,X=_?us:pb;A.outputEncoding!==G&&(A.outputEncoding=G),A.toneMapping!==X&&(A.toneMapping=X),C.legacy!==m&&C.set(()=>({legacy:m})),C.linear!==x&&C.set(()=>({linear:x})),C.flat!==_&&C.set(()=>({flat:_})),f&&!Rn.fun(f)&&!tI(f)&&!Rn.equ(f,A,Ec)&&Fm(A,f),p&&!C.events.handlers&&C.set({events:p(s)}),M&&C.viewport.dpr!==Zk(M)&&C.setDpr(M);const Z=D7(n,h);return Rn.equ(Z,C.size,Ec)||C.setSize(Z.width,Z.height,Z.updateStyle,Z.top,Z.left),C.frameloop!==S&&C.setFrameloop(S),C.onPointerMissed||C.set({onPointerMissed:k}),R&&!Rn.equ(R,C.performance,Ec)&&C.set(J=>({performance:{...J.performance,...R}})),a=g,l=!0,this},render(u){return l||this.configure(),n0.updateContainer(N.createElement(F7,{store:s,children:u,onCreated:a,rootElement:n}),o,null,()=>{}),s},unmount(){sI(n)}}}function F7({store:n,children:e,onCreated:t,rootElement:r}){return wh(()=>{const i=n.getState();i.set(s=>({internal:{...s.internal,active:!0}})),t&&t(i),n.getState().events.connected||i.events.connect==null||i.events.connect(r)},[]),N.createElement(nI.Provider,{value:n},e)}function sI(n,e){const t=bu.get(n),r=t==null?void 0:t.fiber;if(r){const i=t==null?void 0:t.store.getState();i&&(i.internal.active=!1),n0.updateContainer(null,r,null,()=>{i&&setTimeout(()=>{try{var s,o,a,l;i.events.disconnect==null||i.events.disconnect(),(s=i.gl)==null||(o=s.renderLists)==null||o.dispose==null||o.dispose(),(a=i.gl)==null||a.forceContextLoss==null||a.forceContextLoss(),(l=i.gl)!=null&&l.xr&&i.xr.disconnect(),w7(i),bu.delete(n),e&&e(n)}catch{}},500)})}}n0.injectIntoDevTools({bundleType:0,rendererPackageName:"@react-three/fiber",version:N.version});function r0(){return r0=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},r0.apply(this,arguments)}function Ow(n,e,t){var r,i,s,o,a;e==null&&(e=100);function l(){var f=Date.now()-o;f<e&&f>=0?r=setTimeout(l,e-f):(r=null,t||(a=n.apply(s,i),s=i=null))}var u=function(){s=this,i=arguments,o=Date.now();var f=t&&!r;return r||(r=setTimeout(l,e)),f&&(a=n.apply(s,i),s=i=null),a};return u.clear=function(){r&&(clearTimeout(r),r=null)},u.flush=function(){r&&(a=n.apply(s,i),s=i=null,clearTimeout(r),r=null)},u}Ow.debounce=Ow;var EA=Ow;function z7(n){let{debounce:e,scroll:t,polyfill:r,offsetSize:i}=n===void 0?{debounce:0,scroll:!1,offsetSize:!1}:n;const s=r||(typeof window>"u"?class{}:window.ResizeObserver);if(!s)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");const[o,a]=N.useState({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),l=N.useRef({element:null,scrollContainers:null,resizeObserver:null,lastBounds:o}),u=e?typeof e=="number"?e:e.scroll:null,f=e?typeof e=="number"?e:e.resize:null,h=N.useRef(!1);N.useEffect(()=>(h.current=!0,()=>void(h.current=!1)));const[p,g,v]=N.useMemo(()=>{const w=()=>{if(!l.current.element)return;const{left:S,top:M,width:R,height:P,bottom:L,right:k,x:C,y:A}=l.current.element.getBoundingClientRect(),U={left:S,top:M,width:R,height:P,bottom:L,right:k,x:C,y:A};l.current.element instanceof HTMLElement&&i&&(U.height=l.current.element.offsetHeight,U.width=l.current.element.offsetWidth),Object.freeze(U),h.current&&!V7(l.current.lastBounds,U)&&a(l.current.lastBounds=U)};return[w,f?EA(w,f):w,u?EA(w,u):w]},[a,i,u,f]);function x(){l.current.scrollContainers&&(l.current.scrollContainers.forEach(w=>w.removeEventListener("scroll",v,!0)),l.current.scrollContainers=null),l.current.resizeObserver&&(l.current.resizeObserver.disconnect(),l.current.resizeObserver=null)}function _(){l.current.element&&(l.current.resizeObserver=new s(v),l.current.resizeObserver.observe(l.current.element),t&&l.current.scrollContainers&&l.current.scrollContainers.forEach(w=>w.addEventListener("scroll",v,{capture:!0,passive:!0})))}const m=w=>{!w||w===l.current.element||(x(),l.current.element=w,l.current.scrollContainers=oI(w),_())};return j7(v,!!t),B7(g),N.useEffect(()=>{x(),_()},[t,v,g]),N.useEffect(()=>x,[]),[m,o,p]}function B7(n){N.useEffect(()=>{const e=n;return window.addEventListener("resize",e),()=>void window.removeEventListener("resize",e)},[n])}function j7(n,e){N.useEffect(()=>{if(e){const t=n;return window.addEventListener("scroll",t,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",t,!0)}},[n,e])}function oI(n){const e=[];if(!n||n===document.body)return e;const{overflow:t,overflowX:r,overflowY:i}=window.getComputedStyle(n);return[t,r,i].some(s=>s==="auto"||s==="scroll")&&e.push(n),[...e,...oI(n.parentElement)]}const H7=["x","y","top","bottom","left","right","width","height"],V7=(n,e)=>H7.every(t=>n[t]===e[t]);var W7=Object.defineProperty,G7=Object.defineProperties,$7=Object.getOwnPropertyDescriptors,MA=Object.getOwnPropertySymbols,X7=Object.prototype.hasOwnProperty,q7=Object.prototype.propertyIsEnumerable,TA=(n,e,t)=>e in n?W7(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,CA=(n,e)=>{for(var t in e||(e={}))X7.call(e,t)&&TA(n,t,e[t]);if(MA)for(var t of MA(e))q7.call(e,t)&&TA(n,t,e[t]);return n},Y7=(n,e)=>G7(n,$7(e));function iE(n,e,t){if(!n)return;if(t(n)===!0)return n;let r=e?n.return:n.child;for(;r;){const i=iE(r,e,t);if(i)return i;r=e?null:r.sibling}}function aI(n){try{return Object.defineProperties(n,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return n}}const sE=aI(N.createContext(null));class lI extends N.Component{render(){return N.createElement(sE.Provider,{value:this._reactInternals},this.props.children)}}const{ReactCurrentOwner:K7,ReactCurrentDispatcher:J7}=N.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function Z7(){const n=N.useContext(sE);if(!n)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const e=N.useId();return N.useMemo(()=>{var r;return(r=K7.current)!=null?r:iE(n,!1,i=>{let s=i.memoizedState;for(;s;){if(s.memoizedState===e)return!0;s=s.next}})},[n,e])}const Pd=[],AA=new WeakMap;function Q7(){var n;const e=Z7();Pd.splice(0,Pd.length),iE(e,!0,t=>{var r;const i=(r=t.type)==null?void 0:r._context;i&&i!==sE&&Pd.push(aI(i))});for(const t of Pd){const r=(n=J7.current)==null?void 0:n.readContext(t);AA.set(t,r)}return N.useMemo(()=>Pd.reduce((t,r)=>i=>N.createElement(t,null,N.createElement(r.Provider,Y7(CA({},i),{value:AA.get(r)}))),t=>N.createElement(lI,CA({},t))),[])}const S_={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function eV(n){const{handlePointer:e}=T7(n);return{priority:1,enabled:!0,compute(t,r,i){r.pointer.set(t.offsetX/r.size.width*2-1,-(t.offsetY/r.size.height)*2+1),r.raycaster.setFromCamera(r.pointer,r.camera)},connected:void 0,handlers:Object.keys(S_).reduce((t,r)=>({...t,[r]:e(r)}),{}),connect:t=>{var r;const{set:i,events:s}=n.getState();s.disconnect==null||s.disconnect(),i(o=>({events:{...o.events,connected:t}})),Object.entries((r=s.handlers)!=null?r:[]).forEach(([o,a])=>{const[l,u]=S_[o];t.addEventListener(l,a,{passive:u})})},disconnect:()=>{const{set:t,events:r}=n.getState();if(r.connected){var i;Object.entries((i=r.handlers)!=null?i:[]).forEach(([s,o])=>{if(r&&r.connected instanceof HTMLElement){const[a]=S_[s];r.connected.removeEventListener(a,o)}}),t(s=>({events:{...s.events,connected:void 0}}))}}}}const tV=N.forwardRef(function({children:e,fallback:t,resize:r,style:i,gl:s,events:o=eV,eventSource:a,eventPrefix:l,shadows:u,linear:f,flat:h,legacy:p,orthographic:g,frameloop:v,dpr:x,performance:_,raycaster:m,camera:w,onPointerMissed:S,onCreated:M,...R},P){N.useMemo(()=>C7(e0),[]);const L=Q7(),[k,C]=z7({scroll:!0,debounce:{scroll:50,resize:0},...r}),A=N.useRef(null),U=N.useRef(null),[W,F]=N.useState(null);N.useImperativeHandle(P,()=>A.current);const G=Yk(S),[X,Z]=N.useState(!1),[J,D]=N.useState(!1);if(X)throw X;if(J)throw J;const $=N.useRef(null);C.width>0&&C.height>0&&W&&($.current||($.current=U7(W)),$.current.configure({gl:s,events:o,shadows:u,linear:f,flat:h,legacy:p,orthographic:g,frameloop:v,dpr:x,performance:_,raycaster:m,camera:w,size:C,onPointerMissed:(...Y)=>G.current==null?void 0:G.current(...Y),onCreated:Y=>{Y.events.connect==null||Y.events.connect(a?v7(a)?a.current:a:U.current),l&&Y.setEvents({compute:(Q,Ce)=>{const ge=Q[l+"X"],ie=Q[l+"Y"];Ce.pointer.set(ge/Ce.size.width*2-1,-(ie/Ce.size.height)*2+1),Ce.raycaster.setFromCamera(Ce.pointer,Ce.camera)}}),M==null||M(Y)}}),$.current.render(N.createElement(L,null,N.createElement(Kk,{set:D},N.createElement(N.Suspense,{fallback:N.createElement(y7,{set:Z})},e))))),wh(()=>{F(A.current)},[]),N.useEffect(()=>{if(W)return()=>sI(W)},[W]);const q=a?"none":"auto";return N.createElement("div",r0({ref:U,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:q,...i}},R),N.createElement("div",{ref:k,style:{width:"100%",height:"100%"}},N.createElement("canvas",{ref:A,style:{display:"block"}},t)))}),nV=N.forwardRef(function(e,t){return N.createElement(lI,null,N.createElement(tV,r0({},e,{ref:t})))});let rV=class extends Lr{constructor(e){super(e)}load(e,t,r,i){const s=this,o=new ms(this.manager);o.setPath(this.path),o.setResponseType("arraybuffer"),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(a){try{t(s.parse(a))}catch(l){i?i(l):console.error(l),s.manager.itemError(e)}},r,i)}parse(e){function t(u){const f=new DataView(u),h=32/8*3+32/8*3*3+16/8,p=f.getUint32(80,!0);if(80+32/8+p*h===f.byteLength)return!0;const v=[115,111,108,105,100];for(let x=0;x<5;x++)if(r(v,f,x))return!1;return!0}function r(u,f,h){for(let p=0,g=u.length;p<g;p++)if(u[p]!==f.getUint8(h+p,!1))return!1;return!0}function i(u){const f=new DataView(u),h=f.getUint32(80,!0);let p,g,v,x=!1,_,m,w,S,M;for(let A=0;A<80-10;A++)f.getUint32(A,!1)==1129270351&&f.getUint8(A+4)==82&&f.getUint8(A+5)==61&&(x=!0,_=new Float32Array(h*3*3),m=f.getUint8(A+6)/255,w=f.getUint8(A+7)/255,S=f.getUint8(A+8)/255,M=f.getUint8(A+9)/255);const R=84,P=12*4+2,L=new mt,k=new Float32Array(h*3*3),C=new Float32Array(h*3*3);for(let A=0;A<h;A++){const U=R+A*P,W=f.getFloat32(U,!0),F=f.getFloat32(U+4,!0),G=f.getFloat32(U+8,!0);if(x){const X=f.getUint16(U+48,!0);X&32768?(p=m,g=w,v=S):(p=(X&31)/31,g=(X>>5&31)/31,v=(X>>10&31)/31)}for(let X=1;X<=3;X++){const Z=U+X*12,J=A*3*3+(X-1)*3;k[J]=f.getFloat32(Z,!0),k[J+1]=f.getFloat32(Z+4,!0),k[J+2]=f.getFloat32(Z+8,!0),C[J]=W,C[J+1]=F,C[J+2]=G,x&&(_[J]=p,_[J+1]=g,_[J+2]=v)}}return L.setAttribute("position",new Ut(k,3)),L.setAttribute("normal",new Ut(C,3)),x&&(L.setAttribute("color",new Ut(_,3)),L.hasColors=!0,L.alpha=M),L}function s(u){const f=new mt,h=/solid([\s\S]*?)endsolid/g,p=/facet([\s\S]*?)endfacet/g;let g=0;const v=/[\s]+([+-]?(?:\d*)(?:\.\d*)?(?:[eE][+-]?\d+)?)/.source,x=new RegExp("vertex"+v+v+v,"g"),_=new RegExp("normal"+v+v+v,"g"),m=[],w=[],S=new z;let M,R=0,P=0,L=0;for(;(M=h.exec(u))!==null;){P=L;const k=M[0];for(;(M=p.exec(k))!==null;){let U=0,W=0;const F=M[0];for(;(M=_.exec(F))!==null;)S.x=parseFloat(M[1]),S.y=parseFloat(M[2]),S.z=parseFloat(M[3]),W++;for(;(M=x.exec(F))!==null;)m.push(parseFloat(M[1]),parseFloat(M[2]),parseFloat(M[3])),w.push(S.x,S.y,S.z),U++,L++;W!==1&&console.error("THREE.STLLoader: Something isn't right with the normal of face number "+g),U!==3&&console.error("THREE.STLLoader: Something isn't right with the vertices of face number "+g),g++}const C=P,A=L-P;f.addGroup(C,A,R),R++}return f.setAttribute("position",new et(m,3)),f.setAttribute("normal",new et(w,3)),f}function o(u){return typeof u!="string"?Qg.decodeText(new Uint8Array(u)):u}function a(u){if(typeof u=="string"){const f=new Uint8Array(u.length);for(let h=0;h<u.length;h++)f[h]=u.charCodeAt(h)&255;return f.buffer||f}else return u}const l=a(e);return t(l)?i(l):s(o(e))}};var iV=function(){function n(){}return n.prototype.parse=function(e,t){t===void 0&&(t={});var r=t.binary!==void 0?t.binary:!1,i=[],s=0;e.traverse(function(F){if(F.isMesh){var G=F.geometry;if(G.isBufferGeometry!==!0)throw new Error("THREE.STLExporter: Geometry is not of type THREE.BufferGeometry.");var X=G.index,Z=G.getAttribute("position");s+=X!==null?X.count/3:Z.count/3,i.push({object3d:F,geometry:G})}});var o,a=80;if(r===!0){var l=s*2+s*3*4*4+80+4,u=new ArrayBuffer(l);o=new DataView(u),o.setUint32(a,s,!0),a+=4}else o="",o+=`solid exported
`;for(var f=new z,h=new z,p=new z,g=new z,v=new z,x=new z,_=0,m=i.length;_<m;_++){var w=i[_].object3d,S=i[_].geometry,M=S.index,R=S.getAttribute("position");if(M!==null)for(var P=0;P<M.count;P+=3){var L=M.getX(P+0),k=M.getX(P+1),C=M.getX(P+2);A(L,k,C,R,w)}else for(var P=0;P<R.count;P+=3){var L=P+0,k=P+1,C=P+2;A(L,k,C,R,w)}}return r===!1&&(o+=`endsolid exported
`),o;function A(F,G,X,Z,J){f.fromBufferAttribute(Z,F),h.fromBufferAttribute(Z,G),p.fromBufferAttribute(Z,X),J.isSkinnedMesh===!0&&(J.boneTransform(F,f),J.boneTransform(G,h),J.boneTransform(X,p)),f.applyMatrix4(J.matrixWorld),h.applyMatrix4(J.matrixWorld),p.applyMatrix4(J.matrixWorld),U(f,h,p),W(f),W(h),W(p),r===!0?(o.setUint16(a,0,!0),a+=2):(o+=`		endloop
`,o+=`	endfacet
`)}function U(F,G,X){g.subVectors(X,G),v.subVectors(F,G),g.cross(v).normalize(),x.copy(g).normalize(),r===!0?(o.setFloat32(a,x.x,!0),a+=4,o.setFloat32(a,x.y,!0),a+=4,o.setFloat32(a,x.z,!0),a+=4):(o+="	facet normal "+x.x+" "+x.y+" "+x.z+`
`,o+=`		outer loop
`)}function W(F){r===!0?(o.setFloat32(a,F.x,!0),a+=4,o.setFloat32(a,F.y,!0),a+=4,o.setFloat32(a,F.z,!0),a+=4):o+="			vertex "+F.x+" "+F.y+" "+F.z+`
`}},n}(),sV=function(n){var e=n.scale,t=e===void 0?1:e,r=n.visible,i=r===void 0?!1:r,s=n.geometry,o=n.meshProps,a=n.materialProps,l=a.opacity,u=l===void 0?1:l,f=qf(a,["opacity"]),h=n.onLoaded,p=qf(n,["scale","visible","geometry","meshProps","materialProps","onLoaded"]),g=N.useRef(null),v=N.useRef(null),x=N.useState(!1),_=x[0],m=x[1];return N.useEffect(function(){m(!0)},[s]),nE(function(){var w;if(!(!_||s.boundingSphere==null||g.current==null||v.current==null)){new Mi().setFromObject(g.current);var S=(w=s.boundingBox)!==null&&w!==void 0?w:{min:{x:0,y:0,z:0},max:{x:0,y:0,z:0}},M=S.min,R=S.max;s.computeVertexNormals();var P={width:R.x-M.x,length:R.y-M.y,height:R.z-M.z};s.applyMatrix4(new pt().makeTranslation(-M.x-P.width/2,-M.y-P.length/2,-M.z-P.height/2)),h(Hi(Hi({},P),{boundingRadius:s.boundingSphere.radius}),g.current,v.current),m(!1)}}),wt.createElement("group",Hi({ref:v},p),wt.createElement("mesh",Hi({ref:g,scale:[t,t,t],castShadow:!0},o),wt.createElement("primitive",{object:s,attach:"geometry"}),wt.createElement("meshStandardMaterial",Hi({side:as,opacity:i?u:0},f))))},RA=Math.pow(2,16),oV=function(n){var e=n.visible,t=e===void 0?!1:e,r=n.width,i=n.length,s=n.noShadow,o=s===void 0?!1:s,a=n.offset,l=a===void 0?0:a,u=qf(n,["visible","width","length","noShadow","offset"]),f=[(r??0)/2,(i??0)/2,-l],h=[r??RA,i??RA,Math.floor((r??20)/20),Math.floor((i??20)/20)];return t?wt.createElement("group",Hi({},u),r!=null&&i!=null&&wt.createElement("mesh",{receiveShadow:!0,position:f},wt.createElement("planeGeometry",{args:h}),wt.createElement("meshStandardMaterial",{wireframe:!0,color:"#777"})),!o&&wt.createElement("mesh",{receiveShadow:!0,position:f},wt.createElement("planeGeometry",{args:h}),wt.createElement("shadowMaterial",{opacity:.2}))):null},aV=function(n){var e=n.offsetX,t=e===void 0?0:e,r=n.offsetY,i=r===void 0?0:r,s=n.offsetZ,o=s===void 0?0:s,a=n.distance;return wt.createElement(wt.Fragment,null,wt.createElement("ambientLight",null),wt.createElement("spotLight",{castShadow:!0,position:[t,i,a+o]}),[[-a+t,i,a+o],[t,-a+i,a+o],[t,a+i,o]].map(function(l,u){return wt.createElement("spotLight",{key:u,intensity:.4,position:l})}))};function PA(n,e,t){return Math.max(Math.min(e,t),n)}var zm=.01;function lV(n){var e=PA(-Math.PI/2+zm,n.latitude,Math.PI/2-zm),t=PA(-Math.PI+zm,n.longitude,Math.PI-zm);return[n.distance*Math.cos(e)*Math.sin(t),-n.distance*Math.cos(t)*Math.cos(e),n.distance*Math.sin(e)]}var cV=function(n){var e=n.initialPosition,t=n.center,r=qf(n,["initialPosition","center"]),i=hg().camera;return N.useEffect(function(){i.up.applyAxisAngle(new z(1,0,0),Math.PI/2)},[i]),N.useEffect(function(){var s=lV(e);i.position.set(s[0]+t[0],s[1]+t[1],s[2]+t[2]),i.lookAt.apply(i,t)},[i,t]),wt.createElement("perspectiveCamera",Hi({near:1,far:1e3},r))};function xt(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}const LA=(n,e)=>(n%e+e)%e;let uV=class extends Gs{constructor(e,t){super(),xt(this,"object",void 0),xt(this,"domElement",void 0),xt(this,"enabled",!0),xt(this,"target",new z),xt(this,"minDistance",0),xt(this,"maxDistance",1/0),xt(this,"minZoom",0),xt(this,"maxZoom",1/0),xt(this,"minPolarAngle",0),xt(this,"maxPolarAngle",Math.PI),xt(this,"minAzimuthAngle",-1/0),xt(this,"maxAzimuthAngle",1/0),xt(this,"enableDamping",!1),xt(this,"dampingFactor",.05),xt(this,"enableZoom",!0),xt(this,"zoomSpeed",1),xt(this,"enableRotate",!0),xt(this,"rotateSpeed",1),xt(this,"enablePan",!0),xt(this,"panSpeed",1),xt(this,"screenSpacePanning",!0),xt(this,"keyPanSpeed",7),xt(this,"autoRotate",!1),xt(this,"autoRotateSpeed",2),xt(this,"reverseOrbit",!1),xt(this,"keys",{LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"}),xt(this,"mouseButtons",{LEFT:el.ROTATE,MIDDLE:el.DOLLY,RIGHT:el.PAN}),xt(this,"touches",{ONE:tl.ROTATE,TWO:tl.DOLLY_PAN}),xt(this,"target0",void 0),xt(this,"position0",void 0),xt(this,"zoom0",void 0),xt(this,"_domElementKeyEvents",null),xt(this,"getPolarAngle",void 0),xt(this,"getAzimuthalAngle",void 0),xt(this,"setPolarAngle",void 0),xt(this,"setAzimuthalAngle",void 0),xt(this,"getDistance",void 0),xt(this,"listenToKeyEvents",void 0),xt(this,"saveState",void 0),xt(this,"reset",void 0),xt(this,"update",void 0),xt(this,"connect",void 0),xt(this,"dispose",void 0),this.object=e,this.domElement=t,this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object instanceof pn?this.object.zoom:1,this.getPolarAngle=()=>f.phi,this.getAzimuthalAngle=()=>f.theta,this.setPolarAngle=K=>{let he=LA(K,2*Math.PI),Le=f.phi;Le<0&&(Le+=2*Math.PI),he<0&&(he+=2*Math.PI);let Oe=Math.abs(he-Le);2*Math.PI-Oe<Oe&&(he<Le?he+=2*Math.PI:Le+=2*Math.PI),h.phi=he-Le,r.update()},this.setAzimuthalAngle=K=>{let he=LA(K,2*Math.PI),Le=f.theta;Le<0&&(Le+=2*Math.PI),he<0&&(he+=2*Math.PI);let Oe=Math.abs(he-Le);2*Math.PI-Oe<Oe&&(he<Le?he+=2*Math.PI:Le+=2*Math.PI),h.theta=he-Le,r.update()},this.getDistance=()=>r.object.position.distanceTo(r.target),this.listenToKeyEvents=K=>{K.addEventListener("keydown",I),this._domElementKeyEvents=K},this.saveState=()=>{r.target0.copy(r.target),r.position0.copy(r.object.position),r.zoom0=r.object instanceof pn?r.object.zoom:1},this.reset=()=>{r.target.copy(r.target0),r.object.position.copy(r.position0),r.object instanceof pn&&(r.object.zoom=r.zoom0,r.object.updateProjectionMatrix()),r.dispatchEvent(i),r.update(),l=a.NONE},this.update=(()=>{const K=new z,he=new Rr().setFromUnitVectors(e.up,new z(0,1,0)),Le=he.clone().invert(),Oe=new z,Be=new Rr,st=2*Math.PI;return function(){const ee=r.object.position;K.copy(ee).sub(r.target),K.applyQuaternion(he),f.setFromVector3(K),r.autoRotate&&l===a.NONE&&W(A()),r.enableDamping?(f.theta+=h.theta*r.dampingFactor,f.phi+=h.phi*r.dampingFactor):(f.theta+=h.theta,f.phi+=h.phi);let Fe=r.minAzimuthAngle,le=r.maxAzimuthAngle;return isFinite(Fe)&&isFinite(le)&&(Fe<-Math.PI?Fe+=st:Fe>Math.PI&&(Fe-=st),le<-Math.PI?le+=st:le>Math.PI&&(le-=st),Fe<=le?f.theta=Math.max(Fe,Math.min(le,f.theta)):f.theta=f.theta>(Fe+le)/2?Math.max(Fe,f.theta):Math.min(le,f.theta)),f.phi=Math.max(r.minPolarAngle,Math.min(r.maxPolarAngle,f.phi)),f.makeSafe(),f.radius*=p,f.radius=Math.max(r.minDistance,Math.min(r.maxDistance,f.radius)),r.enableDamping===!0?r.target.addScaledVector(g,r.dampingFactor):r.target.add(g),K.setFromSpherical(f),K.applyQuaternion(Le),ee.copy(r.target).add(K),r.object.lookAt(r.target),r.enableDamping===!0?(h.theta*=1-r.dampingFactor,h.phi*=1-r.dampingFactor,g.multiplyScalar(1-r.dampingFactor)):(h.set(0,0,0),g.set(0,0,0)),p=1,v||Oe.distanceToSquared(r.object.position)>u||8*(1-Be.dot(r.object.quaternion))>u?(r.dispatchEvent(i),Oe.copy(r.object.position),Be.copy(r.object.quaternion),v=!1,!0):!1}})(),this.connect=K=>{K===document&&console.error('THREE.OrbitControls: "document" should not be used as the target "domElement". Please use "renderer.domElement" instead.'),r.domElement=K,r.domElement.style.touchAction="none",r.domElement.addEventListener("contextmenu",Se),r.domElement.addEventListener("pointerdown",We),r.domElement.addEventListener("pointercancel",Ke),r.domElement.addEventListener("wheel",H)},this.dispose=()=>{var K,he,Le,Oe,Be,st;(K=r.domElement)===null||K===void 0||K.removeEventListener("contextmenu",Se),(he=r.domElement)===null||he===void 0||he.removeEventListener("pointerdown",We),(Le=r.domElement)===null||Le===void 0||Le.removeEventListener("pointercancel",Ke),(Oe=r.domElement)===null||Oe===void 0||Oe.removeEventListener("wheel",H),(Be=r.domElement)===null||Be===void 0||Be.ownerDocument.removeEventListener("pointermove",ze),(st=r.domElement)===null||st===void 0||st.ownerDocument.removeEventListener("pointerup",He),r._domElementKeyEvents!==null&&r._domElementKeyEvents.removeEventListener("keydown",I)};const r=this,i={type:"change"},s={type:"start"},o={type:"end"},a={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6};let l=a.NONE;const u=1e-6,f=new Cw,h=new Cw;let p=1;const g=new z;let v=!1;const x=new _e,_=new _e,m=new _e,w=new _e,S=new _e,M=new _e,R=new _e,P=new _e,L=new _e,k=[],C={};function A(){return 2*Math.PI/60/60*r.autoRotateSpeed}function U(){return Math.pow(.95,r.zoomSpeed)}function W(K){r.reverseOrbit?h.theta+=K:h.theta-=K}function F(K){r.reverseOrbit?h.phi+=K:h.phi-=K}const G=(()=>{const K=new z;return function(Le,Oe){K.setFromMatrixColumn(Oe,0),K.multiplyScalar(-Le),g.add(K)}})(),X=(()=>{const K=new z;return function(Le,Oe){r.screenSpacePanning===!0?K.setFromMatrixColumn(Oe,1):(K.setFromMatrixColumn(Oe,0),K.crossVectors(r.object.up,K)),K.multiplyScalar(Le),g.add(K)}})(),Z=(()=>{const K=new z;return function(Le,Oe){const Be=r.domElement;if(Be&&r.object instanceof pn&&r.object.isPerspectiveCamera){const st=r.object.position;K.copy(st).sub(r.target);let At=K.length();At*=Math.tan(r.object.fov/2*Math.PI/180),G(2*Le*At/Be.clientHeight,r.object.matrix),X(2*Oe*At/Be.clientHeight,r.object.matrix)}else Be&&r.object instanceof va&&r.object.isOrthographicCamera?(G(Le*(r.object.right-r.object.left)/r.object.zoom/Be.clientWidth,r.object.matrix),X(Oe*(r.object.top-r.object.bottom)/r.object.zoom/Be.clientHeight,r.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),r.enablePan=!1)}})();function J(K){r.object instanceof pn&&r.object.isPerspectiveCamera?p/=K:r.object instanceof va&&r.object.isOrthographicCamera?(r.object.zoom=Math.max(r.minZoom,Math.min(r.maxZoom,r.object.zoom*K)),r.object.updateProjectionMatrix(),v=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),r.enableZoom=!1)}function D(K){r.object instanceof pn&&r.object.isPerspectiveCamera?p*=K:r.object instanceof va&&r.object.isOrthographicCamera?(r.object.zoom=Math.max(r.minZoom,Math.min(r.maxZoom,r.object.zoom/K)),r.object.updateProjectionMatrix(),v=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),r.enableZoom=!1)}function $(K){x.set(K.clientX,K.clientY)}function q(K){R.set(K.clientX,K.clientY)}function Y(K){w.set(K.clientX,K.clientY)}function Q(K){_.set(K.clientX,K.clientY),m.subVectors(_,x).multiplyScalar(r.rotateSpeed);const he=r.domElement;he&&(W(2*Math.PI*m.x/he.clientHeight),F(2*Math.PI*m.y/he.clientHeight)),x.copy(_),r.update()}function Ce(K){P.set(K.clientX,K.clientY),L.subVectors(P,R),L.y>0?J(U()):L.y<0&&D(U()),R.copy(P),r.update()}function ge(K){S.set(K.clientX,K.clientY),M.subVectors(S,w).multiplyScalar(r.panSpeed),Z(M.x,M.y),w.copy(S),r.update()}function ie(K){K.deltaY<0?D(U()):K.deltaY>0&&J(U()),r.update()}function ce(K){let he=!1;switch(K.code){case r.keys.UP:Z(0,r.keyPanSpeed),he=!0;break;case r.keys.BOTTOM:Z(0,-r.keyPanSpeed),he=!0;break;case r.keys.LEFT:Z(r.keyPanSpeed,0),he=!0;break;case r.keys.RIGHT:Z(-r.keyPanSpeed,0),he=!0;break}he&&(K.preventDefault(),r.update())}function ke(){if(k.length==1)x.set(k[0].pageX,k[0].pageY);else{const K=.5*(k[0].pageX+k[1].pageX),he=.5*(k[0].pageY+k[1].pageY);x.set(K,he)}}function fe(){if(k.length==1)w.set(k[0].pageX,k[0].pageY);else{const K=.5*(k[0].pageX+k[1].pageX),he=.5*(k[0].pageY+k[1].pageY);w.set(K,he)}}function Pe(){const K=k[0].pageX-k[1].pageX,he=k[0].pageY-k[1].pageY,Le=Math.sqrt(K*K+he*he);R.set(0,Le)}function Ue(){r.enableZoom&&Pe(),r.enablePan&&fe()}function Ae(){r.enableZoom&&Pe(),r.enableRotate&&ke()}function j(K){if(k.length==1)_.set(K.pageX,K.pageY);else{const Le=pe(K),Oe=.5*(K.pageX+Le.x),Be=.5*(K.pageY+Le.y);_.set(Oe,Be)}m.subVectors(_,x).multiplyScalar(r.rotateSpeed);const he=r.domElement;he&&(W(2*Math.PI*m.x/he.clientHeight),F(2*Math.PI*m.y/he.clientHeight)),x.copy(_)}function Me(K){if(k.length==1)S.set(K.pageX,K.pageY);else{const he=pe(K),Le=.5*(K.pageX+he.x),Oe=.5*(K.pageY+he.y);S.set(Le,Oe)}M.subVectors(S,w).multiplyScalar(r.panSpeed),Z(M.x,M.y),w.copy(S)}function ue(K){const he=pe(K),Le=K.pageX-he.x,Oe=K.pageY-he.y,Be=Math.sqrt(Le*Le+Oe*Oe);P.set(0,Be),L.set(0,Math.pow(P.y/R.y,r.zoomSpeed)),J(L.y),R.copy(P)}function Re(K){r.enableZoom&&ue(K),r.enablePan&&Me(K)}function we(K){r.enableZoom&&ue(K),r.enableRotate&&j(K)}function We(K){if(r.enabled!==!1){if(k.length===0){var he,Le;(he=r.domElement)===null||he===void 0||he.ownerDocument.addEventListener("pointermove",ze),(Le=r.domElement)===null||Le===void 0||Le.ownerDocument.addEventListener("pointerup",He)}be(K),K.pointerType==="touch"?ne(K):rt(K)}}function ze(K){r.enabled!==!1&&(K.pointerType==="touch"?xe(K):Ft(K))}function He(K){if(Te(K),k.length===0){var he,Le,Oe;(he=r.domElement)===null||he===void 0||he.releasePointerCapture(K.pointerId),(Le=r.domElement)===null||Le===void 0||Le.ownerDocument.removeEventListener("pointermove",ze),(Oe=r.domElement)===null||Oe===void 0||Oe.ownerDocument.removeEventListener("pointerup",He)}r.dispatchEvent(o),l=a.NONE}function Ke(K){Te(K)}function rt(K){let he;switch(K.button){case 0:he=r.mouseButtons.LEFT;break;case 1:he=r.mouseButtons.MIDDLE;break;case 2:he=r.mouseButtons.RIGHT;break;default:he=-1}switch(he){case el.DOLLY:if(r.enableZoom===!1)return;q(K),l=a.DOLLY;break;case el.ROTATE:if(K.ctrlKey||K.metaKey||K.shiftKey){if(r.enablePan===!1)return;Y(K),l=a.PAN}else{if(r.enableRotate===!1)return;$(K),l=a.ROTATE}break;case el.PAN:if(K.ctrlKey||K.metaKey||K.shiftKey){if(r.enableRotate===!1)return;$(K),l=a.ROTATE}else{if(r.enablePan===!1)return;Y(K),l=a.PAN}break;default:l=a.NONE}l!==a.NONE&&r.dispatchEvent(s)}function Ft(K){if(r.enabled!==!1)switch(l){case a.ROTATE:if(r.enableRotate===!1)return;Q(K);break;case a.DOLLY:if(r.enableZoom===!1)return;Ce(K);break;case a.PAN:if(r.enablePan===!1)return;ge(K);break}}function H(K){r.enabled===!1||r.enableZoom===!1||l!==a.NONE&&l!==a.ROTATE||(K.preventDefault(),r.dispatchEvent(s),ie(K),r.dispatchEvent(o))}function I(K){r.enabled===!1||r.enablePan===!1||ce(K)}function ne(K){switch(Ne(K),k.length){case 1:switch(r.touches.ONE){case tl.ROTATE:if(r.enableRotate===!1)return;ke(),l=a.TOUCH_ROTATE;break;case tl.PAN:if(r.enablePan===!1)return;fe(),l=a.TOUCH_PAN;break;default:l=a.NONE}break;case 2:switch(r.touches.TWO){case tl.DOLLY_PAN:if(r.enableZoom===!1&&r.enablePan===!1)return;Ue(),l=a.TOUCH_DOLLY_PAN;break;case tl.DOLLY_ROTATE:if(r.enableZoom===!1&&r.enableRotate===!1)return;Ae(),l=a.TOUCH_DOLLY_ROTATE;break;default:l=a.NONE}break;default:l=a.NONE}l!==a.NONE&&r.dispatchEvent(s)}function xe(K){switch(Ne(K),l){case a.TOUCH_ROTATE:if(r.enableRotate===!1)return;j(K),r.update();break;case a.TOUCH_PAN:if(r.enablePan===!1)return;Me(K),r.update();break;case a.TOUCH_DOLLY_PAN:if(r.enableZoom===!1&&r.enablePan===!1)return;Re(K),r.update();break;case a.TOUCH_DOLLY_ROTATE:if(r.enableZoom===!1&&r.enableRotate===!1)return;we(K),r.update();break;default:l=a.NONE}}function Se(K){r.enabled!==!1&&K.preventDefault()}function be(K){k.push(K)}function Te(K){delete C[K.pointerId];for(let he=0;he<k.length;he++)if(k[he].pointerId==K.pointerId){k.splice(he,1);return}}function Ne(K){let he=C[K.pointerId];he===void 0&&(he=new _e,C[K.pointerId]=he),he.set(K.pageX,K.pageY)}function pe(K){const he=K.pointerId===k[0].pointerId?k[1]:k[0];return C[he.pointerId]}t!==void 0&&this.connect(t),this.update()}};var dV=function(n){var e,t=hg(function(a){return a.camera}),r=N.useMemo(function(){return new uV(t)},[t]),i=hg(function(a){return a.gl}),s=hg(function(a){return a.events}),o=(e=s.connected)!==null&&e!==void 0?e:i.domElement;return N.useEffect(function(){return r.connect(o),function(){return r.dispose()}}),nE(function(){r.update()},-1),N.createElement("primitive",Hi({object:r},n))},fV=Math.PI/8,hV=-Math.PI/8,pV=3,mV=350,gV=.4,vV=new Ye("white"),yV=function(n){var e=n.url,t=n.extraHeaders,r=n.shadows,i=r===void 0?!1:r,s=n.showAxes,o=s===void 0?!1:s,a=n.orbitControls,l=a===void 0?!1:a,u=n.onFinishLoading,f=u===void 0?function(){}:u,h=n.modelProps,p=h===void 0?{}:h,g=p.ref,v=p.scale,x=v===void 0?1:v,_=p.positionX,m=p.positionY,w=p.rotationX,S=w===void 0?0:w,M=p.rotationY,R=M===void 0?0:M,P=p.rotationZ,L=P===void 0?0:P,k=p.color,C=k===void 0?"grey":k,A=p.geometryProcessor,U=n.floorProps,W=U===void 0?{}:U,F=W.gridWidth,G=W.gridLength,X=N.useState(),Z=X[0],J=X[1],D=N.useState({width:0,height:0,length:0,boundingRadius:0}),$=D[0],q=D[1],Y=N.useState(),Q=Y[0],Ce=Y[1],ge=N.useState([0,0,0]),ie=ge[0],ce=ge[1],ke=N.useState(!1),fe=ke[0],Pe=ke[1];N.useEffect(function(){Pe(!1)},[e]);var Ue=rE(rV,e,function(ue){return ue.setRequestHeader(t??{})}),Ae=N.useMemo(function(){var ue;return(ue=A==null?void 0:A(Ue))!==null&&ue!==void 0?ue:Ue},[Ue,A]);function j(ue,Re){J(Re);var we=ue.width,We=ue.length,ze=ue.height,He=ue.boundingRadius;q(ue),ce([_??we/2,m??We/2,ze/2]);var Ke=Math.max(F??0,G??0),rt=Ke>0?Ke:He*pV;Ce({latitude:fV,longitude:hV,distance:rt}),f(ue),setTimeout(function(){return Pe(!0)},100)}N.useEffect(function(){g==null||Z==null||(g.current={save:function(){return new Blob([new iV().parse(Z,{binary:!0})],{type:"application/octet-stream"})},model:Z})},[Z,g]),nE(function(ue){var Re=ue.scene,we=Re.getObjectByName("mesh"),We=Re.getObjectByName("group"),ze=new Mi().setFromObject(we),He=ze.max.z-ze.min.z;We.position.z=He/2});var Me=[_??$.width*x/2,m??$.length*x/2,0];return wt.createElement(wt.Fragment,null,wt.createElement("scene",{background:vV}),fe&&o&&wt.createElement("axesHelper",{scale:[50,50,50]}),Q!=null&&wt.createElement(cV,{initialPosition:Q,center:ie}),wt.createElement(sV,{name:"group",meshProps:{name:"mesh"},scale:x,geometry:Ae,position:Me,rotation:[S,R,L],visible:fe,materialProps:{color:C},onLoaded:j}),wt.createElement(oV,{width:F??G,length:G??F,visible:fe,noShadow:!i,offset:gV}),wt.createElement(aV,{distance:mV,offsetX:Me[0],offsetY:Me[1]}),fe&&l&&wt.createElement(dV,{target:ie}))},xV=function(n){s7(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.state={message:""},t}return e.prototype.shouldComponentUpdate=function(t,r,i){return this.state.message===""&&r.message!==""&&t.onError!=null&&t.onError(new Error(r.message)),!0},e.getDerivedStateFromError=function(t){return{message:t.message}},e.prototype.componentDidCatch=function(){},e.prototype.render=function(){return this.state.message!==""?null:this.props.children},e}(wt.Component),cI=function(n){var e=n.url,t=n.modelProps,r=n.floorProps,i=n.children,s=n.onError,o=n.extraHeaders,a=n.onFinishLoading,l=n.canvasId,u=n.shadows,f=n.showAxes,h=n.orbitControls,p=qf(n,["url","modelProps","floorProps","children","onError","extraHeaders","onFinishLoading","canvasId","shadows","showAxes","orbitControls"]),g={url:e,modelProps:t,floorProps:r,extraHeaders:o,onFinishLoading:a,shadows:u,showAxes:f,orbitControls:h};return wt.createElement("div",Hi({},p),wt.createElement(xV,{onError:s},wt.createElement(wt.Suspense,{fallback:null},wt.createElement(nV,{shadows:!0,gl:{preserveDrawingBuffer:!0,shadowMapType:W0,antialias:!0},id:l,style:{width:"100%",height:"100%"}},wt.createElement(yV,Hi({},g)),i))))};function uI(n,e){return function(){return n.apply(e,arguments)}}const{toString:_V}=Object.prototype,{getPrototypeOf:oE}=Object,xv=(n=>e=>{const t=_V.call(e);return n[t]||(n[t]=t.slice(8,-1).toLowerCase())})(Object.create(null)),Xs=n=>(n=n.toLowerCase(),e=>xv(e)===n),_v=n=>e=>typeof e===n,{isArray:Fu}=Array,Yf=_v("undefined");function wV(n){return n!==null&&!Yf(n)&&n.constructor!==null&&!Yf(n.constructor)&&Gi(n.constructor.isBuffer)&&n.constructor.isBuffer(n)}const dI=Xs("ArrayBuffer");function SV(n){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(n):e=n&&n.buffer&&dI(n.buffer),e}const bV=_v("string"),Gi=_v("function"),fI=_v("number"),wv=n=>n!==null&&typeof n=="object",EV=n=>n===!0||n===!1,pg=n=>{if(xv(n)!=="object")return!1;const e=oE(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)},MV=Xs("Date"),TV=Xs("File"),CV=Xs("Blob"),AV=Xs("FileList"),RV=n=>wv(n)&&Gi(n.pipe),PV=n=>{let e;return n&&(typeof FormData=="function"&&n instanceof FormData||Gi(n.append)&&((e=xv(n))==="formdata"||e==="object"&&Gi(n.toString)&&n.toString()==="[object FormData]"))},LV=Xs("URLSearchParams"),OV=n=>n.trim?n.trim():n.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Sh(n,e,{allOwnKeys:t=!1}={}){if(n===null||typeof n>"u")return;let r,i;if(typeof n!="object"&&(n=[n]),Fu(n))for(r=0,i=n.length;r<i;r++)e.call(null,n[r],r,n);else{const s=t?Object.getOwnPropertyNames(n):Object.keys(n),o=s.length;let a;for(r=0;r<o;r++)a=s[r],e.call(null,n[a],a,n)}}function hI(n,e){e=e.toLowerCase();const t=Object.keys(n);let r=t.length,i;for(;r-- >0;)if(i=t[r],e===i.toLowerCase())return i;return null}const pI=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),mI=n=>!Yf(n)&&n!==pI;function kw(){const{caseless:n}=mI(this)&&this||{},e={},t=(r,i)=>{const s=n&&hI(e,i)||i;pg(e[s])&&pg(r)?e[s]=kw(e[s],r):pg(r)?e[s]=kw({},r):Fu(r)?e[s]=r.slice():e[s]=r};for(let r=0,i=arguments.length;r<i;r++)arguments[r]&&Sh(arguments[r],t);return e}const kV=(n,e,t,{allOwnKeys:r}={})=>(Sh(e,(i,s)=>{t&&Gi(i)?n[s]=uI(i,t):n[s]=i},{allOwnKeys:r}),n),IV=n=>(n.charCodeAt(0)===65279&&(n=n.slice(1)),n),NV=(n,e,t,r)=>{n.prototype=Object.create(e.prototype,r),n.prototype.constructor=n,Object.defineProperty(n,"super",{value:e.prototype}),t&&Object.assign(n.prototype,t)},DV=(n,e,t,r)=>{let i,s,o;const a={};if(e=e||{},n==null)return e;do{for(i=Object.getOwnPropertyNames(n),s=i.length;s-- >0;)o=i[s],(!r||r(o,n,e))&&!a[o]&&(e[o]=n[o],a[o]=!0);n=t!==!1&&oE(n)}while(n&&(!t||t(n,e))&&n!==Object.prototype);return e},UV=(n,e,t)=>{n=String(n),(t===void 0||t>n.length)&&(t=n.length),t-=e.length;const r=n.indexOf(e,t);return r!==-1&&r===t},FV=n=>{if(!n)return null;if(Fu(n))return n;let e=n.length;if(!fI(e))return null;const t=new Array(e);for(;e-- >0;)t[e]=n[e];return t},zV=(n=>e=>n&&e instanceof n)(typeof Uint8Array<"u"&&oE(Uint8Array)),BV=(n,e)=>{const r=(n&&n[Symbol.iterator]).call(n);let i;for(;(i=r.next())&&!i.done;){const s=i.value;e.call(n,s[0],s[1])}},jV=(n,e)=>{let t;const r=[];for(;(t=n.exec(e))!==null;)r.push(t);return r},HV=Xs("HTMLFormElement"),VV=n=>n.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(t,r,i){return r.toUpperCase()+i}),OA=(({hasOwnProperty:n})=>(e,t)=>n.call(e,t))(Object.prototype),WV=Xs("RegExp"),gI=(n,e)=>{const t=Object.getOwnPropertyDescriptors(n),r={};Sh(t,(i,s)=>{let o;(o=e(i,s,n))!==!1&&(r[s]=o||i)}),Object.defineProperties(n,r)},GV=n=>{gI(n,(e,t)=>{if(Gi(n)&&["arguments","caller","callee"].indexOf(t)!==-1)return!1;const r=n[t];if(Gi(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+t+"'")})}})},$V=(n,e)=>{const t={},r=i=>{i.forEach(s=>{t[s]=!0})};return Fu(n)?r(n):r(String(n).split(e)),t},XV=()=>{},qV=(n,e)=>(n=+n,Number.isFinite(n)?n:e),b_="abcdefghijklmnopqrstuvwxyz",kA="0123456789",vI={DIGIT:kA,ALPHA:b_,ALPHA_DIGIT:b_+b_.toUpperCase()+kA},YV=(n=16,e=vI.ALPHA_DIGIT)=>{let t="";const{length:r}=e;for(;n--;)t+=e[Math.random()*r|0];return t};function KV(n){return!!(n&&Gi(n.append)&&n[Symbol.toStringTag]==="FormData"&&n[Symbol.iterator])}const JV=n=>{const e=new Array(10),t=(r,i)=>{if(wv(r)){if(e.indexOf(r)>=0)return;if(!("toJSON"in r)){e[i]=r;const s=Fu(r)?[]:{};return Sh(r,(o,a)=>{const l=t(o,i+1);!Yf(l)&&(s[a]=l)}),e[i]=void 0,s}}return r};return t(n,0)},ZV=Xs("AsyncFunction"),QV=n=>n&&(wv(n)||Gi(n))&&Gi(n.then)&&Gi(n.catch),Ee={isArray:Fu,isArrayBuffer:dI,isBuffer:wV,isFormData:PV,isArrayBufferView:SV,isString:bV,isNumber:fI,isBoolean:EV,isObject:wv,isPlainObject:pg,isUndefined:Yf,isDate:MV,isFile:TV,isBlob:CV,isRegExp:WV,isFunction:Gi,isStream:RV,isURLSearchParams:LV,isTypedArray:zV,isFileList:AV,forEach:Sh,merge:kw,extend:kV,trim:OV,stripBOM:IV,inherits:NV,toFlatObject:DV,kindOf:xv,kindOfTest:Xs,endsWith:UV,toArray:FV,forEachEntry:BV,matchAll:jV,isHTMLForm:HV,hasOwnProperty:OA,hasOwnProp:OA,reduceDescriptors:gI,freezeMethods:GV,toObjectSet:$V,toCamelCase:VV,noop:XV,toFiniteNumber:qV,findKey:hI,global:pI,isContextDefined:mI,ALPHABET:vI,generateString:YV,isSpecCompliantForm:KV,toJSONObject:JV,isAsyncFn:ZV,isThenable:QV};function kt(n,e,t,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=n,this.name="AxiosError",e&&(this.code=e),t&&(this.config=t),r&&(this.request=r),i&&(this.response=i)}Ee.inherits(kt,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Ee.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const yI=kt.prototype,xI={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(n=>{xI[n]={value:n}});Object.defineProperties(kt,xI);Object.defineProperty(yI,"isAxiosError",{value:!0});kt.from=(n,e,t,r,i,s)=>{const o=Object.create(yI);return Ee.toFlatObject(n,o,function(l){return l!==Error.prototype},a=>a!=="isAxiosError"),kt.call(o,n.message,e,t,r,i),o.cause=n,o.name=n.name,s&&Object.assign(o,s),o};const eW=null;function Iw(n){return Ee.isPlainObject(n)||Ee.isArray(n)}function _I(n){return Ee.endsWith(n,"[]")?n.slice(0,-2):n}function IA(n,e,t){return n?n.concat(e).map(function(i,s){return i=_I(i),!t&&s?"["+i+"]":i}).join(t?".":""):e}function tW(n){return Ee.isArray(n)&&!n.some(Iw)}const nW=Ee.toFlatObject(Ee,{},null,function(e){return/^is[A-Z]/.test(e)});function Sv(n,e,t){if(!Ee.isObject(n))throw new TypeError("target must be an object");e=e||new FormData,t=Ee.toFlatObject(t,{metaTokens:!0,dots:!1,indexes:!1},!1,function(x,_){return!Ee.isUndefined(_[x])});const r=t.metaTokens,i=t.visitor||f,s=t.dots,o=t.indexes,l=(t.Blob||typeof Blob<"u"&&Blob)&&Ee.isSpecCompliantForm(e);if(!Ee.isFunction(i))throw new TypeError("visitor must be a function");function u(v){if(v===null)return"";if(Ee.isDate(v))return v.toISOString();if(!l&&Ee.isBlob(v))throw new kt("Blob is not supported. Use a Buffer instead.");return Ee.isArrayBuffer(v)||Ee.isTypedArray(v)?l&&typeof Blob=="function"?new Blob([v]):Buffer.from(v):v}function f(v,x,_){let m=v;if(v&&!_&&typeof v=="object"){if(Ee.endsWith(x,"{}"))x=r?x:x.slice(0,-2),v=JSON.stringify(v);else if(Ee.isArray(v)&&tW(v)||(Ee.isFileList(v)||Ee.endsWith(x,"[]"))&&(m=Ee.toArray(v)))return x=_I(x),m.forEach(function(S,M){!(Ee.isUndefined(S)||S===null)&&e.append(o===!0?IA([x],M,s):o===null?x:x+"[]",u(S))}),!1}return Iw(v)?!0:(e.append(IA(_,x,s),u(v)),!1)}const h=[],p=Object.assign(nW,{defaultVisitor:f,convertValue:u,isVisitable:Iw});function g(v,x){if(!Ee.isUndefined(v)){if(h.indexOf(v)!==-1)throw Error("Circular reference detected in "+x.join("."));h.push(v),Ee.forEach(v,function(m,w){(!(Ee.isUndefined(m)||m===null)&&i.call(e,m,Ee.isString(w)?w.trim():w,x,p))===!0&&g(m,x?x.concat(w):[w])}),h.pop()}}if(!Ee.isObject(n))throw new TypeError("data must be an object");return g(n),e}function NA(n){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(n).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function aE(n,e){this._pairs=[],n&&Sv(n,this,e)}const wI=aE.prototype;wI.append=function(e,t){this._pairs.push([e,t])};wI.toString=function(e){const t=e?function(r){return e.call(this,r,NA)}:NA;return this._pairs.map(function(i){return t(i[0])+"="+t(i[1])},"").join("&")};function rW(n){return encodeURIComponent(n).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function SI(n,e,t){if(!e)return n;const r=t&&t.encode||rW,i=t&&t.serialize;let s;if(i?s=i(e,t):s=Ee.isURLSearchParams(e)?e.toString():new aE(e,t).toString(r),s){const o=n.indexOf("#");o!==-1&&(n=n.slice(0,o)),n+=(n.indexOf("?")===-1?"?":"&")+s}return n}class iW{constructor(){this.handlers=[]}use(e,t,r){return this.handlers.push({fulfilled:e,rejected:t,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){Ee.forEach(this.handlers,function(r){r!==null&&e(r)})}}const DA=iW,bI={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},sW=typeof URLSearchParams<"u"?URLSearchParams:aE,oW=typeof FormData<"u"?FormData:null,aW=typeof Blob<"u"?Blob:null,lW={isBrowser:!0,classes:{URLSearchParams:sW,FormData:oW,Blob:aW},protocols:["http","https","file","blob","url","data"]},EI=typeof window<"u"&&typeof document<"u",cW=(n=>EI&&["ReactNative","NativeScript","NS"].indexOf(n)<0)(typeof navigator<"u"&&navigator.product),uW=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),dW=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:EI,hasStandardBrowserEnv:cW,hasStandardBrowserWebWorkerEnv:uW},Symbol.toStringTag,{value:"Module"})),Fs={...dW,...lW};function fW(n,e){return Sv(n,new Fs.classes.URLSearchParams,Object.assign({visitor:function(t,r,i,s){return Fs.isNode&&Ee.isBuffer(t)?(this.append(r,t.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)}},e))}function hW(n){return Ee.matchAll(/\w+|\[(\w*)]/g,n).map(e=>e[0]==="[]"?"":e[1]||e[0])}function pW(n){const e={},t=Object.keys(n);let r;const i=t.length;let s;for(r=0;r<i;r++)s=t[r],e[s]=n[s];return e}function MI(n){function e(t,r,i,s){let o=t[s++];const a=Number.isFinite(+o),l=s>=t.length;return o=!o&&Ee.isArray(i)?i.length:o,l?(Ee.hasOwnProp(i,o)?i[o]=[i[o],r]:i[o]=r,!a):((!i[o]||!Ee.isObject(i[o]))&&(i[o]=[]),e(t,r,i[o],s)&&Ee.isArray(i[o])&&(i[o]=pW(i[o])),!a)}if(Ee.isFormData(n)&&Ee.isFunction(n.entries)){const t={};return Ee.forEachEntry(n,(r,i)=>{e(hW(r),i,t,0)}),t}return null}function mW(n,e,t){if(Ee.isString(n))try{return(e||JSON.parse)(n),Ee.trim(n)}catch(r){if(r.name!=="SyntaxError")throw r}return(t||JSON.stringify)(n)}const lE={transitional:bI,adapter:["xhr","http"],transformRequest:[function(e,t){const r=t.getContentType()||"",i=r.indexOf("application/json")>-1,s=Ee.isObject(e);if(s&&Ee.isHTMLForm(e)&&(e=new FormData(e)),Ee.isFormData(e))return i&&i?JSON.stringify(MI(e)):e;if(Ee.isArrayBuffer(e)||Ee.isBuffer(e)||Ee.isStream(e)||Ee.isFile(e)||Ee.isBlob(e))return e;if(Ee.isArrayBufferView(e))return e.buffer;if(Ee.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(s){if(r.indexOf("application/x-www-form-urlencoded")>-1)return fW(e,this.formSerializer).toString();if((a=Ee.isFileList(e))||r.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return Sv(a?{"files[]":e}:e,l&&new l,this.formSerializer)}}return s||i?(t.setContentType("application/json",!1),mW(e)):e}],transformResponse:[function(e){const t=this.transitional||lE.transitional,r=t&&t.forcedJSONParsing,i=this.responseType==="json";if(e&&Ee.isString(e)&&(r&&!this.responseType||i)){const o=!(t&&t.silentJSONParsing)&&i;try{return JSON.parse(e)}catch(a){if(o)throw a.name==="SyntaxError"?kt.from(a,kt.ERR_BAD_RESPONSE,this,null,this.response):a}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Fs.classes.FormData,Blob:Fs.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Ee.forEach(["delete","get","head","post","put","patch"],n=>{lE.headers[n]={}});const cE=lE,gW=Ee.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),vW=n=>{const e={};let t,r,i;return n&&n.split(`
`).forEach(function(o){i=o.indexOf(":"),t=o.substring(0,i).trim().toLowerCase(),r=o.substring(i+1).trim(),!(!t||e[t]&&gW[t])&&(t==="set-cookie"?e[t]?e[t].push(r):e[t]=[r]:e[t]=e[t]?e[t]+", "+r:r)}),e},UA=Symbol("internals");function Ld(n){return n&&String(n).trim().toLowerCase()}function mg(n){return n===!1||n==null?n:Ee.isArray(n)?n.map(mg):String(n)}function yW(n){const e=Object.create(null),t=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=t.exec(n);)e[r[1]]=r[2];return e}const xW=n=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(n.trim());function E_(n,e,t,r,i){if(Ee.isFunction(r))return r.call(this,e,t);if(i&&(e=t),!!Ee.isString(e)){if(Ee.isString(r))return e.indexOf(r)!==-1;if(Ee.isRegExp(r))return r.test(e)}}function _W(n){return n.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,r)=>t.toUpperCase()+r)}function wW(n,e){const t=Ee.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(n,r+t,{value:function(i,s,o){return this[r].call(this,e,i,s,o)},configurable:!0})})}class bv{constructor(e){e&&this.set(e)}set(e,t,r){const i=this;function s(a,l,u){const f=Ld(l);if(!f)throw new Error("header name must be a non-empty string");const h=Ee.findKey(i,f);(!h||i[h]===void 0||u===!0||u===void 0&&i[h]!==!1)&&(i[h||l]=mg(a))}const o=(a,l)=>Ee.forEach(a,(u,f)=>s(u,f,l));return Ee.isPlainObject(e)||e instanceof this.constructor?o(e,t):Ee.isString(e)&&(e=e.trim())&&!xW(e)?o(vW(e),t):e!=null&&s(t,e,r),this}get(e,t){if(e=Ld(e),e){const r=Ee.findKey(this,e);if(r){const i=this[r];if(!t)return i;if(t===!0)return yW(i);if(Ee.isFunction(t))return t.call(this,i,r);if(Ee.isRegExp(t))return t.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=Ld(e),e){const r=Ee.findKey(this,e);return!!(r&&this[r]!==void 0&&(!t||E_(this,this[r],r,t)))}return!1}delete(e,t){const r=this;let i=!1;function s(o){if(o=Ld(o),o){const a=Ee.findKey(r,o);a&&(!t||E_(r,r[a],a,t))&&(delete r[a],i=!0)}}return Ee.isArray(e)?e.forEach(s):s(e),i}clear(e){const t=Object.keys(this);let r=t.length,i=!1;for(;r--;){const s=t[r];(!e||E_(this,this[s],s,e,!0))&&(delete this[s],i=!0)}return i}normalize(e){const t=this,r={};return Ee.forEach(this,(i,s)=>{const o=Ee.findKey(r,s);if(o){t[o]=mg(i),delete t[s];return}const a=e?_W(s):String(s).trim();a!==s&&delete t[s],t[a]=mg(i),r[a]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return Ee.forEach(this,(r,i)=>{r!=null&&r!==!1&&(t[i]=e&&Ee.isArray(r)?r.join(", "):r)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,t])=>e+": "+t).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const r=new this(e);return t.forEach(i=>r.set(i)),r}static accessor(e){const r=(this[UA]=this[UA]={accessors:{}}).accessors,i=this.prototype;function s(o){const a=Ld(o);r[a]||(wW(i,o),r[a]=!0)}return Ee.isArray(e)?e.forEach(s):s(e),this}}bv.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Ee.reduceDescriptors(bv.prototype,({value:n},e)=>{let t=e[0].toUpperCase()+e.slice(1);return{get:()=>n,set(r){this[t]=r}}});Ee.freezeMethods(bv);const wo=bv;function M_(n,e){const t=this||cE,r=e||t,i=wo.from(r.headers);let s=r.data;return Ee.forEach(n,function(a){s=a.call(t,s,i.normalize(),e?e.status:void 0)}),i.normalize(),s}function TI(n){return!!(n&&n.__CANCEL__)}function bh(n,e,t){kt.call(this,n??"canceled",kt.ERR_CANCELED,e,t),this.name="CanceledError"}Ee.inherits(bh,kt,{__CANCEL__:!0});function SW(n,e,t){const r=t.config.validateStatus;!t.status||!r||r(t.status)?n(t):e(new kt("Request failed with status code "+t.status,[kt.ERR_BAD_REQUEST,kt.ERR_BAD_RESPONSE][Math.floor(t.status/100)-4],t.config,t.request,t))}const bW=Fs.hasStandardBrowserEnv?function(){return{write:function(t,r,i,s,o,a){const l=[];l.push(t+"="+encodeURIComponent(r)),Ee.isNumber(i)&&l.push("expires="+new Date(i).toGMTString()),Ee.isString(s)&&l.push("path="+s),Ee.isString(o)&&l.push("domain="+o),a===!0&&l.push("secure"),document.cookie=l.join("; ")},read:function(t){const r=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return r?decodeURIComponent(r[3]):null},remove:function(t){this.write(t,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}();function EW(n){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(n)}function MW(n,e){return e?n.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):n}function CI(n,e){return n&&!EW(e)?MW(n,e):e}const TW=Fs.hasStandardBrowserEnv?function(){const e=/(msie|trident)/i.test(navigator.userAgent),t=document.createElement("a");let r;function i(s){let o=s;return e&&(t.setAttribute("href",o),o=t.href),t.setAttribute("href",o),{href:t.href,protocol:t.protocol?t.protocol.replace(/:$/,""):"",host:t.host,search:t.search?t.search.replace(/^\?/,""):"",hash:t.hash?t.hash.replace(/^#/,""):"",hostname:t.hostname,port:t.port,pathname:t.pathname.charAt(0)==="/"?t.pathname:"/"+t.pathname}}return r=i(window.location.href),function(o){const a=Ee.isString(o)?i(o):o;return a.protocol===r.protocol&&a.host===r.host}}():function(){return function(){return!0}}();function CW(n){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(n);return e&&e[1]||""}function AW(n,e){n=n||10;const t=new Array(n),r=new Array(n);let i=0,s=0,o;return e=e!==void 0?e:1e3,function(l){const u=Date.now(),f=r[s];o||(o=u),t[i]=l,r[i]=u;let h=s,p=0;for(;h!==i;)p+=t[h++],h=h%n;if(i=(i+1)%n,i===s&&(s=(s+1)%n),u-o<e)return;const g=f&&u-f;return g?Math.round(p*1e3/g):void 0}}function FA(n,e){let t=0;const r=AW(50,250);return i=>{const s=i.loaded,o=i.lengthComputable?i.total:void 0,a=s-t,l=r(a),u=s<=o;t=s;const f={loaded:s,total:o,progress:o?s/o:void 0,bytes:a,rate:l||void 0,estimated:l&&o&&u?(o-s)/l:void 0,event:i};f[e?"download":"upload"]=!0,n(f)}}const RW=typeof XMLHttpRequest<"u",PW=RW&&function(n){return new Promise(function(t,r){let i=n.data;const s=wo.from(n.headers).normalize(),o=n.responseType;let a;function l(){n.cancelToken&&n.cancelToken.unsubscribe(a),n.signal&&n.signal.removeEventListener("abort",a)}let u;if(Ee.isFormData(i)){if(Fs.hasStandardBrowserEnv||Fs.hasStandardBrowserWebWorkerEnv)s.setContentType(!1);else if((u=s.getContentType())!==!1){const[v,...x]=u?u.split(";").map(_=>_.trim()).filter(Boolean):[];s.setContentType([v||"multipart/form-data",...x].join("; "))}}let f=new XMLHttpRequest;if(n.auth){const v=n.auth.username||"",x=n.auth.password?unescape(encodeURIComponent(n.auth.password)):"";s.set("Authorization","Basic "+btoa(v+":"+x))}const h=CI(n.baseURL,n.url);f.open(n.method.toUpperCase(),SI(h,n.params,n.paramsSerializer),!0),f.timeout=n.timeout;function p(){if(!f)return;const v=wo.from("getAllResponseHeaders"in f&&f.getAllResponseHeaders()),_={data:!o||o==="text"||o==="json"?f.responseText:f.response,status:f.status,statusText:f.statusText,headers:v,config:n,request:f};SW(function(w){t(w),l()},function(w){r(w),l()},_),f=null}if("onloadend"in f?f.onloadend=p:f.onreadystatechange=function(){!f||f.readyState!==4||f.status===0&&!(f.responseURL&&f.responseURL.indexOf("file:")===0)||setTimeout(p)},f.onabort=function(){f&&(r(new kt("Request aborted",kt.ECONNABORTED,n,f)),f=null)},f.onerror=function(){r(new kt("Network Error",kt.ERR_NETWORK,n,f)),f=null},f.ontimeout=function(){let x=n.timeout?"timeout of "+n.timeout+"ms exceeded":"timeout exceeded";const _=n.transitional||bI;n.timeoutErrorMessage&&(x=n.timeoutErrorMessage),r(new kt(x,_.clarifyTimeoutError?kt.ETIMEDOUT:kt.ECONNABORTED,n,f)),f=null},Fs.hasStandardBrowserEnv){const v=TW(h)&&n.xsrfCookieName&&bW.read(n.xsrfCookieName);v&&s.set(n.xsrfHeaderName,v)}i===void 0&&s.setContentType(null),"setRequestHeader"in f&&Ee.forEach(s.toJSON(),function(x,_){f.setRequestHeader(_,x)}),Ee.isUndefined(n.withCredentials)||(f.withCredentials=!!n.withCredentials),o&&o!=="json"&&(f.responseType=n.responseType),typeof n.onDownloadProgress=="function"&&f.addEventListener("progress",FA(n.onDownloadProgress,!0)),typeof n.onUploadProgress=="function"&&f.upload&&f.upload.addEventListener("progress",FA(n.onUploadProgress)),(n.cancelToken||n.signal)&&(a=v=>{f&&(r(!v||v.type?new bh(null,n,f):v),f.abort(),f=null)},n.cancelToken&&n.cancelToken.subscribe(a),n.signal&&(n.signal.aborted?a():n.signal.addEventListener("abort",a)));const g=CW(h);if(g&&Fs.protocols.indexOf(g)===-1){r(new kt("Unsupported protocol "+g+":",kt.ERR_BAD_REQUEST,n));return}f.send(i||null)})},Nw={http:eW,xhr:PW};Ee.forEach(Nw,(n,e)=>{if(n){try{Object.defineProperty(n,"name",{value:e})}catch{}Object.defineProperty(n,"adapterName",{value:e})}});const zA=n=>`- ${n}`,LW=n=>Ee.isFunction(n)||n===null||n===!1,AI={getAdapter:n=>{n=Ee.isArray(n)?n:[n];const{length:e}=n;let t,r;const i={};for(let s=0;s<e;s++){t=n[s];let o;if(r=t,!LW(t)&&(r=Nw[(o=String(t)).toLowerCase()],r===void 0))throw new kt(`Unknown adapter '${o}'`);if(r)break;i[o||"#"+s]=r}if(!r){const s=Object.entries(i).map(([a,l])=>`adapter ${a} `+(l===!1?"is not supported by the environment":"is not available in the build"));let o=e?s.length>1?`since :
`+s.map(zA).join(`
`):" "+zA(s[0]):"as no adapter specified";throw new kt("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return r},adapters:Nw};function T_(n){if(n.cancelToken&&n.cancelToken.throwIfRequested(),n.signal&&n.signal.aborted)throw new bh(null,n)}function BA(n){return T_(n),n.headers=wo.from(n.headers),n.data=M_.call(n,n.transformRequest),["post","put","patch"].indexOf(n.method)!==-1&&n.headers.setContentType("application/x-www-form-urlencoded",!1),AI.getAdapter(n.adapter||cE.adapter)(n).then(function(r){return T_(n),r.data=M_.call(n,n.transformResponse,r),r.headers=wo.from(r.headers),r},function(r){return TI(r)||(T_(n),r&&r.response&&(r.response.data=M_.call(n,n.transformResponse,r.response),r.response.headers=wo.from(r.response.headers))),Promise.reject(r)})}const jA=n=>n instanceof wo?n.toJSON():n;function Eu(n,e){e=e||{};const t={};function r(u,f,h){return Ee.isPlainObject(u)&&Ee.isPlainObject(f)?Ee.merge.call({caseless:h},u,f):Ee.isPlainObject(f)?Ee.merge({},f):Ee.isArray(f)?f.slice():f}function i(u,f,h){if(Ee.isUndefined(f)){if(!Ee.isUndefined(u))return r(void 0,u,h)}else return r(u,f,h)}function s(u,f){if(!Ee.isUndefined(f))return r(void 0,f)}function o(u,f){if(Ee.isUndefined(f)){if(!Ee.isUndefined(u))return r(void 0,u)}else return r(void 0,f)}function a(u,f,h){if(h in e)return r(u,f);if(h in n)return r(void 0,u)}const l={url:s,method:s,data:s,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:a,headers:(u,f)=>i(jA(u),jA(f),!0)};return Ee.forEach(Object.keys(Object.assign({},n,e)),function(f){const h=l[f]||i,p=h(n[f],e[f],f);Ee.isUndefined(p)&&h!==a||(t[f]=p)}),t}const RI="1.6.1",uE={};["object","boolean","number","function","string","symbol"].forEach((n,e)=>{uE[n]=function(r){return typeof r===n||"a"+(e<1?"n ":" ")+n}});const HA={};uE.transitional=function(e,t,r){function i(s,o){return"[Axios v"+RI+"] Transitional option '"+s+"'"+o+(r?". "+r:"")}return(s,o,a)=>{if(e===!1)throw new kt(i(o," has been removed"+(t?" in "+t:"")),kt.ERR_DEPRECATED);return t&&!HA[o]&&(HA[o]=!0,console.warn(i(o," has been deprecated since v"+t+" and will be removed in the near future"))),e?e(s,o,a):!0}};function OW(n,e,t){if(typeof n!="object")throw new kt("options must be an object",kt.ERR_BAD_OPTION_VALUE);const r=Object.keys(n);let i=r.length;for(;i-- >0;){const s=r[i],o=e[s];if(o){const a=n[s],l=a===void 0||o(a,s,n);if(l!==!0)throw new kt("option "+s+" must be "+l,kt.ERR_BAD_OPTION_VALUE);continue}if(t!==!0)throw new kt("Unknown option "+s,kt.ERR_BAD_OPTION)}}const Dw={assertOptions:OW,validators:uE},$o=Dw.validators;class i0{constructor(e){this.defaults=e,this.interceptors={request:new DA,response:new DA}}request(e,t){typeof e=="string"?(t=t||{},t.url=e):t=e||{},t=Eu(this.defaults,t);const{transitional:r,paramsSerializer:i,headers:s}=t;r!==void 0&&Dw.assertOptions(r,{silentJSONParsing:$o.transitional($o.boolean),forcedJSONParsing:$o.transitional($o.boolean),clarifyTimeoutError:$o.transitional($o.boolean)},!1),i!=null&&(Ee.isFunction(i)?t.paramsSerializer={serialize:i}:Dw.assertOptions(i,{encode:$o.function,serialize:$o.function},!0)),t.method=(t.method||this.defaults.method||"get").toLowerCase();let o=s&&Ee.merge(s.common,s[t.method]);s&&Ee.forEach(["delete","get","head","post","put","patch","common"],v=>{delete s[v]}),t.headers=wo.concat(o,s);const a=[];let l=!0;this.interceptors.request.forEach(function(x){typeof x.runWhen=="function"&&x.runWhen(t)===!1||(l=l&&x.synchronous,a.unshift(x.fulfilled,x.rejected))});const u=[];this.interceptors.response.forEach(function(x){u.push(x.fulfilled,x.rejected)});let f,h=0,p;if(!l){const v=[BA.bind(this),void 0];for(v.unshift.apply(v,a),v.push.apply(v,u),p=v.length,f=Promise.resolve(t);h<p;)f=f.then(v[h++],v[h++]);return f}p=a.length;let g=t;for(h=0;h<p;){const v=a[h++],x=a[h++];try{g=v(g)}catch(_){x.call(this,_);break}}try{f=BA.call(this,g)}catch(v){return Promise.reject(v)}for(h=0,p=u.length;h<p;)f=f.then(u[h++],u[h++]);return f}getUri(e){e=Eu(this.defaults,e);const t=CI(e.baseURL,e.url);return SI(t,e.params,e.paramsSerializer)}}Ee.forEach(["delete","get","head","options"],function(e){i0.prototype[e]=function(t,r){return this.request(Eu(r||{},{method:e,url:t,data:(r||{}).data}))}});Ee.forEach(["post","put","patch"],function(e){function t(r){return function(s,o,a){return this.request(Eu(a||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:s,data:o}))}}i0.prototype[e]=t(),i0.prototype[e+"Form"]=t(!0)});const gg=i0;class dE{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(s){t=s});const r=this;this.promise.then(i=>{if(!r._listeners)return;let s=r._listeners.length;for(;s-- >0;)r._listeners[s](i);r._listeners=null}),this.promise.then=i=>{let s;const o=new Promise(a=>{r.subscribe(a),s=a}).then(i);return o.cancel=function(){r.unsubscribe(s)},o},e(function(s,o,a){r.reason||(r.reason=new bh(s,o,a),t(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);t!==-1&&this._listeners.splice(t,1)}static source(){let e;return{token:new dE(function(i){e=i}),cancel:e}}}const kW=dE;function IW(n){return function(t){return n.apply(null,t)}}function NW(n){return Ee.isObject(n)&&n.isAxiosError===!0}const Uw={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Uw).forEach(([n,e])=>{Uw[e]=n});const DW=Uw;function PI(n){const e=new gg(n),t=uI(gg.prototype.request,e);return Ee.extend(t,gg.prototype,e,{allOwnKeys:!0}),Ee.extend(t,e,null,{allOwnKeys:!0}),t.create=function(i){return PI(Eu(n,i))},t}const Wn=PI(cE);Wn.Axios=gg;Wn.CanceledError=bh;Wn.CancelToken=kW;Wn.isCancel=TI;Wn.VERSION=RI;Wn.toFormData=Sv;Wn.AxiosError=kt;Wn.Cancel=Wn.CanceledError;Wn.all=function(e){return Promise.all(e)};Wn.spread=IW;Wn.isAxiosError=NW;Wn.mergeConfig=Eu;Wn.AxiosHeaders=wo;Wn.formToJSON=n=>MI(Ee.isHTMLForm(n)?new FormData(n):n);Wn.getAdapter=AI.getAdapter;Wn.HttpStatusCode=DW;Wn.default=Wn;const Jt=Wn;function UW(n){const[e,t]=N.useState(""),[r,i]=N.useState([]),[s,o]=N.useState([]),[a,l]=N.useState(""),[u,f]=N.useState(!1),[h,p]=N.useState(null),[g,v]=N.useState(""),[x,_]=N.useState(null),[m,w]=N.useState([]),[S,M]=N.useState([]),[R,P]=N.useState(!1),[L,k]=N.useState(!1);new URLSearchParams(window.location.search),dh();const C=n.modelId,A=localStorage.getItem("user"),U=A?JSON.parse(A).id:0,W=ie=>{t(ie.target.value)},F=ie=>{l(ie.target.value)},G=ie=>{v(ie.target.value)},X=()=>{Jt.post("http://localhost:8080/comments/create",{user:{id:U},model:{id:C},content:e}).then(ie=>{i([...r,ie.data]),t("")})},Z=ie=>{f(!0),p(ie),l(r.find(ce=>ce.id===ie).content)},J=ie=>{Jt.put(`http://localhost:8080/comments/update/${ie}`,{content:a}).then(ce=>{const ke=r.map(fe=>fe.id===ie?{...fe,content:ce.data.content}:fe);i(ke),l(""),f(!1),p(null)})},D=ie=>{Jt.delete(`http://localhost:8080/comments/delete/${ie}`).then(ce=>{if(ce.data){const ke=r.filter(fe=>fe.id!==ie);i(ke)}}).catch(ce=>{console.error("Error deleting comment:",ce)})},$=ie=>{Jt.post(`http://localhost:8080/comments/like/${ie}?userId=${U}`).then(ce=>{const ke=r.map(fe=>fe.id===ie?{...fe,likeCounter:ce.data.likeCounter}:fe);i(ke),w([...m,ie])}).catch(ce=>{console.error("Error liking comment:",ce)})},q=ie=>{Jt.delete(`http://localhost:8080/comments/dislike/${ie}?userId=${U}`).then(ce=>{w(m.filter(ke=>ke!==ie)),i(ke=>ke.map(fe=>fe.id===ie?{...fe,likeCounter:fe.likeCounter-1}:fe))}).catch(ce=>{console.error("Error disliking comment:",ce)})},Y=async ie=>{try{return(await Jt.get(`http://localhost:8080/comments/userInteractions/${ie}`)).data}catch(ce){return console.error("Error fetching liked users:",ce),[]}},Q=async ie=>{if(L){k(!L);return}try{const ce=await Y(ie);k(!L),M(ce),P(ie)}catch(ce){console.error("Error fetching liked users:",ce)}},Ce=ie=>{x===ie?_(null):Jt.get(`http://localhost:8080/comments/replies/${ie}`).then(ce=>{const ke=r.map(fe=>fe.id===ie?{...fe,replies:ce.data}:fe);i(ke),_(ie)}).catch(ce=>{console.error("Error fetching replies:",ce)})},ge=ie=>{Jt.post(`http://localhost:8080/comments/reply/${ie}`,{user:{id:U},model:{id:C},content:g}).then(ce=>{const ke=r.map(fe=>fe.id===ie?{...fe,replies:[...fe.replies||[],ce.data]}:fe);i(ke),v("")}).catch(ce=>{console.error("Error adding reply:",ce)})};return N.useEffect(()=>{(async()=>{try{const ke=(await Jt.get(`http://localhost:8080/comments/get/${C}`)).data,fe=ke.filter(Pe=>Pe.parentComment===null);o(ke),Jt.get(`http://localhost:8080/comments/liked/${U}`).then(Pe=>{w(Pe.data);const Ue=fe.map(Ae=>{const j=Pe.data.includes(Ae.id);return{...Ae,isLiked:j}});i(Ue)}).catch(Pe=>{console.error("Error fetching liked comments:",Pe)})}catch(ce){console.error("Error fetching data:",ce)}})()},[C,U]),E.jsxs("div",{className:"comment-container",children:[E.jsx("h1",{children:"Comments"}),E.jsx("h2",{children:"Add Comment"}),E.jsx("textarea",{rows:"4",cols:"50",placeholder:"Enter your comment here...",value:e,onChange:W}),E.jsx("button",{onClick:X,children:"Post Comment"}),E.jsx("ul",{children:r.map(ie=>E.jsxs("li",{children:[u&&h===ie.id?E.jsxs("div",{children:[E.jsx("textarea",{rows:"4",cols:"50",value:a,onChange:F}),E.jsx("button",{onClick:()=>J(ie.id),children:"Update"})]}):E.jsxs("div",{children:[E.jsxs("p",{children:[E.jsx("strong",{children:ie.user.name})," ",E.jsx("strong",{children:ie.user.lastname}),E.jsx("br",{}),ie.content]}),E.jsxs("button",{onClick:()=>{ie.likeCounter>0&&Q(ie.id)},children:["Like Counter: ",ie.likeCounter]}),L&&E.jsxs("div",{className:"modal",children:[E.jsx("div",{onClick:Q,className:"overlay"}),E.jsxs("div",{className:"modal-bg",children:[E.jsx("div",{className:"Header",children:E.jsxs("p",{children:[ie.likeCounter," Comment likes"]})}),E.jsx("div",{className:"modal-content",children:E.jsx("ul",{children:S.map(ce=>E.jsxs("li",{children:[ce.name," ",ce.lastname]},ce.id))})}),E.jsx("button",{className:"close-modal",onClick:Q,children:"Close"})]})]})]}),U===ie.user.id&&E.jsxs("div",{children:[E.jsx("button",{onClick:()=>Z(ie.id),children:"Edit"}),E.jsx("button",{onClick:()=>D(ie.id),children:"Delete"})]}),E.jsx("button",{onClick:()=>Ce(ie.id),children:x===ie.id?"Hide Replies":"View Replies"}),m.includes(ie.id)?E.jsx("button",{onClick:()=>q(ie.id),children:"Dislike"}):E.jsx("button",{onClick:()=>$(ie.id),children:"Like"}),x===ie.id&&E.jsxs("div",{children:[ie.replies&&ie.replies.length>0&&E.jsx("div",{children:ie.replies.map(ce=>E.jsxs("div",{children:[E.jsxs("p",{children:[E.jsx("strong",{children:ce.user.name})," ",E.jsx("strong",{children:ce.user.lastname}),E.jsx("br",{}),ce.content]}),U===ce.user.id&&E.jsx("div",{children:E.jsx("button",{onClick:()=>D(ce.id),children:"Delete Reply"})})]},ce.id))}),E.jsx("textarea",{rows:"4",cols:"50",placeholder:"Enter your reply here...",value:g,onChange:G}),E.jsx("button",{onClick:()=>ge(ie.id),children:"Add Reply"})]})]},ie.id))})]})}var LI={exports:{}},FW="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",zW=FW,BW=zW;function OI(){}function kI(){}kI.resetWarningCache=OI;var jW=function(){function n(r,i,s,o,a,l){if(l!==BW){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}n.isRequired=n;function e(){return n}var t={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:e,element:n,elementType:n,instanceOf:e,node:n,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:kI,resetWarningCache:OI};return t.PropTypes=t,t};LI.exports=jW();var HW=LI.exports;const en=gP(HW);function zu(n,e,t,r){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(f){try{u(r.next(f))}catch(h){o(h)}}function l(f){try{u(r.throw(f))}catch(h){o(h)}}function u(f){f.done?s(f.value):i(f.value).then(a,l)}u((r=r.apply(n,e||[])).next())})}function Bu(n,e){var t={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(u){return function(f){return l([u,f])}}function l(u){if(r)throw new TypeError("Generator is already executing.");for(;o&&(o=0,u[0]&&(t=0)),t;)try{if(r=1,i&&(s=u[0]&2?i.return:u[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,u[1])).done)return s;switch(i=0,s&&(u=[u[0]&2,s.value]),u[0]){case 0:case 1:s=u;break;case 4:return t.label++,{value:u[1],done:!1};case 5:t.label++,i=u[1],u=[0];continue;case 7:u=t.ops.pop(),t.trys.pop();continue;default:if(s=t.trys,!(s=s.length>0&&s[s.length-1])&&(u[0]===6||u[0]===2)){t=0;continue}if(u[0]===3&&(!s||u[1]>s[0]&&u[1]<s[3])){t.label=u[1];break}if(u[0]===6&&t.label<s[1]){t.label=s[1],s=u;break}if(s&&t.label<s[2]){t.label=s[2],t.ops.push(u);break}s[2]&&t.ops.pop(),t.trys.pop();continue}u=e.call(n,t)}catch(f){u=[6,f],i=0}finally{r=s=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}function VA(n,e){var t=typeof Symbol=="function"&&n[Symbol.iterator];if(!t)return n;var r=t.call(n),i,s=[],o;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(t=r.return)&&t.call(r)}finally{if(o)throw o.error}}return s}function WA(n,e,t){if(t||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return n.concat(s||Array.prototype.slice.call(e))}var VW=new Map([["aac","audio/aac"],["abw","application/x-abiword"],["arc","application/x-freearc"],["avif","image/avif"],["avi","video/x-msvideo"],["azw","application/vnd.amazon.ebook"],["bin","application/octet-stream"],["bmp","image/bmp"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["cda","application/x-cdf"],["csh","application/x-csh"],["css","text/css"],["csv","text/csv"],["doc","application/msword"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["eot","application/vnd.ms-fontobject"],["epub","application/epub+zip"],["gz","application/gzip"],["gif","image/gif"],["heic","image/heic"],["heif","image/heif"],["htm","text/html"],["html","text/html"],["ico","image/vnd.microsoft.icon"],["ics","text/calendar"],["jar","application/java-archive"],["jpeg","image/jpeg"],["jpg","image/jpeg"],["js","text/javascript"],["json","application/json"],["jsonld","application/ld+json"],["mid","audio/midi"],["midi","audio/midi"],["mjs","text/javascript"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mpeg","video/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["opus","audio/opus"],["otf","font/otf"],["png","image/png"],["pdf","application/pdf"],["php","application/x-httpd-php"],["ppt","application/vnd.ms-powerpoint"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["rar","application/vnd.rar"],["rtf","application/rtf"],["sh","application/x-sh"],["svg","image/svg+xml"],["swf","application/x-shockwave-flash"],["tar","application/x-tar"],["tif","image/tiff"],["tiff","image/tiff"],["ts","video/mp2t"],["ttf","font/ttf"],["txt","text/plain"],["vsd","application/vnd.visio"],["wav","audio/wav"],["weba","audio/webm"],["webm","video/webm"],["webp","image/webp"],["woff","font/woff"],["woff2","font/woff2"],["xhtml","application/xhtml+xml"],["xls","application/vnd.ms-excel"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xml","application/xml"],["xul","application/vnd.mozilla.xul+xml"],["zip","application/zip"],["7z","application/x-7z-compressed"],["mkv","video/x-matroska"],["mov","video/quicktime"],["msg","application/vnd.ms-outlook"]]);function Eh(n,e){var t=WW(n);if(typeof t.path!="string"){var r=n.webkitRelativePath;Object.defineProperty(t,"path",{value:typeof e=="string"?e:typeof r=="string"&&r.length>0?r:n.name,writable:!1,configurable:!1,enumerable:!0})}return t}function WW(n){var e=n.name,t=e&&e.lastIndexOf(".")!==-1;if(t&&!n.type){var r=e.split(".").pop().toLowerCase(),i=VW.get(r);i&&Object.defineProperty(n,"type",{value:i,writable:!1,configurable:!1,enumerable:!0})}return n}var GW=[".DS_Store","Thumbs.db"];function $W(n){return zu(this,void 0,void 0,function(){return Bu(this,function(e){return s0(n)&&XW(n.dataTransfer)?[2,JW(n.dataTransfer,n.type)]:qW(n)?[2,YW(n)]:Array.isArray(n)&&n.every(function(t){return"getFile"in t&&typeof t.getFile=="function"})?[2,KW(n)]:[2,[]]})})}function XW(n){return s0(n)}function qW(n){return s0(n)&&s0(n.target)}function s0(n){return typeof n=="object"&&n!==null}function YW(n){return Fw(n.target.files).map(function(e){return Eh(e)})}function KW(n){return zu(this,void 0,void 0,function(){var e;return Bu(this,function(t){switch(t.label){case 0:return[4,Promise.all(n.map(function(r){return r.getFile()}))];case 1:return e=t.sent(),[2,e.map(function(r){return Eh(r)})]}})})}function JW(n,e){return zu(this,void 0,void 0,function(){var t,r;return Bu(this,function(i){switch(i.label){case 0:return n.items?(t=Fw(n.items).filter(function(s){return s.kind==="file"}),e!=="drop"?[2,t]:[4,Promise.all(t.map(ZW))]):[3,2];case 1:return r=i.sent(),[2,GA(II(r))];case 2:return[2,GA(Fw(n.files).map(function(s){return Eh(s)}))]}})})}function GA(n){return n.filter(function(e){return GW.indexOf(e.name)===-1})}function Fw(n){if(n===null)return[];for(var e=[],t=0;t<n.length;t++){var r=n[t];e.push(r)}return e}function ZW(n){if(typeof n.webkitGetAsEntry!="function")return $A(n);var e=n.webkitGetAsEntry();return e&&e.isDirectory?NI(e):$A(n)}function II(n){return n.reduce(function(e,t){return WA(WA([],VA(e),!1),VA(Array.isArray(t)?II(t):[t]),!1)},[])}function $A(n){var e=n.getAsFile();if(!e)return Promise.reject("".concat(n," is not a File"));var t=Eh(e);return Promise.resolve(t)}function QW(n){return zu(this,void 0,void 0,function(){return Bu(this,function(e){return[2,n.isDirectory?NI(n):eG(n)]})})}function NI(n){var e=n.createReader();return new Promise(function(t,r){var i=[];function s(){var o=this;e.readEntries(function(a){return zu(o,void 0,void 0,function(){var l,u,f;return Bu(this,function(h){switch(h.label){case 0:if(a.length)return[3,5];h.label=1;case 1:return h.trys.push([1,3,,4]),[4,Promise.all(i)];case 2:return l=h.sent(),t(l),[3,4];case 3:return u=h.sent(),r(u),[3,4];case 4:return[3,6];case 5:f=Promise.all(a.map(QW)),i.push(f),s(),h.label=6;case 6:return[2]}})})},function(a){r(a)})}s()})}function eG(n){return zu(this,void 0,void 0,function(){return Bu(this,function(e){return[2,new Promise(function(t,r){n.file(function(i){var s=Eh(i,n.fullPath);t(s)},function(i){r(i)})})]})})}var tG=function(n,e){if(n&&e){var t=Array.isArray(e)?e:e.split(","),r=n.name||"",i=(n.type||"").toLowerCase(),s=i.replace(/\/.*$/,"");return t.some(function(o){var a=o.trim().toLowerCase();return a.charAt(0)==="."?r.toLowerCase().endsWith(a):a.endsWith("/*")?s===a.replace(/\/.*$/,""):i===a})}return!0};function XA(n){return iG(n)||rG(n)||UI(n)||nG()}function nG(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rG(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function iG(n){if(Array.isArray(n))return zw(n)}function qA(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function YA(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?qA(Object(t),!0).forEach(function(r){DI(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):qA(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function DI(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Kf(n,e){return aG(n)||oG(n,e)||UI(n,e)||sG()}function sG(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function UI(n,e){if(n){if(typeof n=="string")return zw(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return zw(n,e)}}function zw(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function oG(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var r=[],i=!0,s=!1,o,a;try{for(t=t.call(n);!(i=(o=t.next()).done)&&(r.push(o.value),!(e&&r.length===e));i=!0);}catch(l){s=!0,a=l}finally{try{!i&&t.return!=null&&t.return()}finally{if(s)throw a}}return r}}function aG(n){if(Array.isArray(n))return n}var lG="file-invalid-type",cG="file-too-large",uG="file-too-small",dG="too-many-files",fG=function(e){e=Array.isArray(e)&&e.length===1?e[0]:e;var t=Array.isArray(e)?"one of ".concat(e.join(", ")):e;return{code:lG,message:"File type must be ".concat(t)}},KA=function(e){return{code:cG,message:"File is larger than ".concat(e," ").concat(e===1?"byte":"bytes")}},JA=function(e){return{code:uG,message:"File is smaller than ".concat(e," ").concat(e===1?"byte":"bytes")}},hG={code:dG,message:"Too many files"};function FI(n,e){var t=n.type==="application/x-moz-file"||tG(n,e);return[t,t?null:fG(e)]}function zI(n,e,t){if(sl(n.size))if(sl(e)&&sl(t)){if(n.size>t)return[!1,KA(t)];if(n.size<e)return[!1,JA(e)]}else{if(sl(e)&&n.size<e)return[!1,JA(e)];if(sl(t)&&n.size>t)return[!1,KA(t)]}return[!0,null]}function sl(n){return n!=null}function pG(n){var e=n.files,t=n.accept,r=n.minSize,i=n.maxSize,s=n.multiple,o=n.maxFiles,a=n.validator;return!s&&e.length>1||s&&o>=1&&e.length>o?!1:e.every(function(l){var u=FI(l,t),f=Kf(u,1),h=f[0],p=zI(l,r,i),g=Kf(p,1),v=g[0],x=a?a(l):null;return h&&v&&!x})}function o0(n){return typeof n.isPropagationStopped=="function"?n.isPropagationStopped():typeof n.cancelBubble<"u"?n.cancelBubble:!1}function Bm(n){return n.dataTransfer?Array.prototype.some.call(n.dataTransfer.types,function(e){return e==="Files"||e==="application/x-moz-file"}):!!n.target&&!!n.target.files}function ZA(n){n.preventDefault()}function mG(n){return n.indexOf("MSIE")!==-1||n.indexOf("Trident/")!==-1}function gG(n){return n.indexOf("Edge/")!==-1}function vG(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.navigator.userAgent;return mG(n)||gG(n)}function Rs(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return function(r){for(var i=arguments.length,s=new Array(i>1?i-1:0),o=1;o<i;o++)s[o-1]=arguments[o];return e.some(function(a){return!o0(r)&&a&&a.apply(void 0,[r].concat(s)),o0(r)})}}function yG(){return"showOpenFilePicker"in window}function xG(n){if(sl(n)){var e=Object.entries(n).filter(function(t){var r=Kf(t,2),i=r[0],s=r[1],o=!0;return BI(i)||(console.warn('Skipped "'.concat(i,'" because it is not a valid MIME type. Check https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types/Common_types for a list of valid MIME types.')),o=!1),(!Array.isArray(s)||!s.every(jI))&&(console.warn('Skipped "'.concat(i,'" because an invalid file extension was provided.')),o=!1),o}).reduce(function(t,r){var i=Kf(r,2),s=i[0],o=i[1];return YA(YA({},t),{},DI({},s,o))},{});return[{description:"Files",accept:e}]}return n}function _G(n){if(sl(n))return Object.entries(n).reduce(function(e,t){var r=Kf(t,2),i=r[0],s=r[1];return[].concat(XA(e),[i],XA(s))},[]).filter(function(e){return BI(e)||jI(e)}).join(",")}function wG(n){return n instanceof DOMException&&(n.name==="AbortError"||n.code===n.ABORT_ERR)}function SG(n){return n instanceof DOMException&&(n.name==="SecurityError"||n.code===n.SECURITY_ERR)}function BI(n){return n==="audio/*"||n==="video/*"||n==="image/*"||n==="text/*"||/\w+\/[-+.\w]+/g.test(n)}function jI(n){return/^.*\.[\w]+$/.test(n)}var bG=["children"],EG=["open"],MG=["refKey","role","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"],TG=["refKey","onChange","onClick"];function CG(n){return PG(n)||RG(n)||HI(n)||AG()}function AG(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function RG(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function PG(n){if(Array.isArray(n))return Bw(n)}function C_(n,e){return kG(n)||OG(n,e)||HI(n,e)||LG()}function LG(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function HI(n,e){if(n){if(typeof n=="string")return Bw(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Bw(n,e)}}function Bw(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function OG(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var r=[],i=!0,s=!1,o,a;try{for(t=t.call(n);!(i=(o=t.next()).done)&&(r.push(o.value),!(e&&r.length===e));i=!0);}catch(l){s=!0,a=l}finally{try{!i&&t.return!=null&&t.return()}finally{if(s)throw a}}return r}}function kG(n){if(Array.isArray(n))return n}function QA(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function vn(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?QA(Object(t),!0).forEach(function(r){jw(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):QA(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function jw(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function a0(n,e){if(n==null)return{};var t=IG(n,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(t[r]=n[r])}return t}function IG(n,e){if(n==null)return{};var t={},r=Object.keys(n),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(t[i]=n[i]);return t}var fE=N.forwardRef(function(n,e){var t=n.children,r=a0(n,bG),i=hE(r),s=i.open,o=a0(i,EG);return N.useImperativeHandle(e,function(){return{open:s}},[s]),wt.createElement(N.Fragment,null,t(vn(vn({},o),{},{open:s})))});fE.displayName="Dropzone";var VI={disabled:!1,getFilesFromEvent:$W,maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!0,autoFocus:!1};fE.defaultProps=VI;fE.propTypes={children:en.func,accept:en.objectOf(en.arrayOf(en.string)),multiple:en.bool,preventDropOnDocument:en.bool,noClick:en.bool,noKeyboard:en.bool,noDrag:en.bool,noDragEventsBubbling:en.bool,minSize:en.number,maxSize:en.number,maxFiles:en.number,disabled:en.bool,getFilesFromEvent:en.func,onFileDialogCancel:en.func,onFileDialogOpen:en.func,useFsAccessApi:en.bool,autoFocus:en.bool,onDragEnter:en.func,onDragLeave:en.func,onDragOver:en.func,onDrop:en.func,onDropAccepted:en.func,onDropRejected:en.func,onError:en.func,validator:en.func};var Hw={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,acceptedFiles:[],fileRejections:[]};function hE(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=vn(vn({},VI),n),t=e.accept,r=e.disabled,i=e.getFilesFromEvent,s=e.maxSize,o=e.minSize,a=e.multiple,l=e.maxFiles,u=e.onDragEnter,f=e.onDragLeave,h=e.onDragOver,p=e.onDrop,g=e.onDropAccepted,v=e.onDropRejected,x=e.onFileDialogCancel,_=e.onFileDialogOpen,m=e.useFsAccessApi,w=e.autoFocus,S=e.preventDropOnDocument,M=e.noClick,R=e.noKeyboard,P=e.noDrag,L=e.noDragEventsBubbling,k=e.onError,C=e.validator,A=N.useMemo(function(){return _G(t)},[t]),U=N.useMemo(function(){return xG(t)},[t]),W=N.useMemo(function(){return typeof _=="function"?_:eR},[_]),F=N.useMemo(function(){return typeof x=="function"?x:eR},[x]),G=N.useRef(null),X=N.useRef(null),Z=N.useReducer(NG,Hw),J=C_(Z,2),D=J[0],$=J[1],q=D.isFocused,Y=D.isFileDialogActive,Q=N.useRef(typeof window<"u"&&window.isSecureContext&&m&&yG()),Ce=function(){!Q.current&&Y&&setTimeout(function(){if(X.current){var ne=X.current.files;ne.length||($({type:"closeDialog"}),F())}},300)};N.useEffect(function(){return window.addEventListener("focus",Ce,!1),function(){window.removeEventListener("focus",Ce,!1)}},[X,Y,F,Q]);var ge=N.useRef([]),ie=function(ne){G.current&&G.current.contains(ne.target)||(ne.preventDefault(),ge.current=[])};N.useEffect(function(){return S&&(document.addEventListener("dragover",ZA,!1),document.addEventListener("drop",ie,!1)),function(){S&&(document.removeEventListener("dragover",ZA),document.removeEventListener("drop",ie))}},[G,S]),N.useEffect(function(){return!r&&w&&G.current&&G.current.focus(),function(){}},[G,w,r]);var ce=N.useCallback(function(I){k?k(I):console.error(I)},[k]),ke=N.useCallback(function(I){I.preventDefault(),I.persist(),Ke(I),ge.current=[].concat(CG(ge.current),[I.target]),Bm(I)&&Promise.resolve(i(I)).then(function(ne){if(!(o0(I)&&!L)){var xe=ne.length,Se=xe>0&&pG({files:ne,accept:A,minSize:o,maxSize:s,multiple:a,maxFiles:l,validator:C}),be=xe>0&&!Se;$({isDragAccept:Se,isDragReject:be,isDragActive:!0,type:"setDraggedFiles"}),u&&u(I)}}).catch(function(ne){return ce(ne)})},[i,u,ce,L,A,o,s,a,l,C]),fe=N.useCallback(function(I){I.preventDefault(),I.persist(),Ke(I);var ne=Bm(I);if(ne&&I.dataTransfer)try{I.dataTransfer.dropEffect="copy"}catch{}return ne&&h&&h(I),!1},[h,L]),Pe=N.useCallback(function(I){I.preventDefault(),I.persist(),Ke(I);var ne=ge.current.filter(function(Se){return G.current&&G.current.contains(Se)}),xe=ne.indexOf(I.target);xe!==-1&&ne.splice(xe,1),ge.current=ne,!(ne.length>0)&&($({type:"setDraggedFiles",isDragActive:!1,isDragAccept:!1,isDragReject:!1}),Bm(I)&&f&&f(I))},[G,f,L]),Ue=N.useCallback(function(I,ne){var xe=[],Se=[];I.forEach(function(be){var Te=FI(be,A),Ne=C_(Te,2),pe=Ne[0],K=Ne[1],he=zI(be,o,s),Le=C_(he,2),Oe=Le[0],Be=Le[1],st=C?C(be):null;if(pe&&Oe&&!st)xe.push(be);else{var At=[K,Be];st&&(At=At.concat(st)),Se.push({file:be,errors:At.filter(function(ee){return ee})})}}),(!a&&xe.length>1||a&&l>=1&&xe.length>l)&&(xe.forEach(function(be){Se.push({file:be,errors:[hG]})}),xe.splice(0)),$({acceptedFiles:xe,fileRejections:Se,type:"setFiles"}),p&&p(xe,Se,ne),Se.length>0&&v&&v(Se,ne),xe.length>0&&g&&g(xe,ne)},[$,a,A,o,s,l,p,g,v,C]),Ae=N.useCallback(function(I){I.preventDefault(),I.persist(),Ke(I),ge.current=[],Bm(I)&&Promise.resolve(i(I)).then(function(ne){o0(I)&&!L||Ue(ne,I)}).catch(function(ne){return ce(ne)}),$({type:"reset"})},[i,Ue,ce,L]),j=N.useCallback(function(){if(Q.current){$({type:"openDialog"}),W();var I={multiple:a,types:U};window.showOpenFilePicker(I).then(function(ne){return i(ne)}).then(function(ne){Ue(ne,null),$({type:"closeDialog"})}).catch(function(ne){wG(ne)?(F(ne),$({type:"closeDialog"})):SG(ne)?(Q.current=!1,X.current?(X.current.value=null,X.current.click()):ce(new Error("Cannot open the file picker because the https://developer.mozilla.org/en-US/docs/Web/API/File_System_Access_API is not supported and no <input> was provided."))):ce(ne)});return}X.current&&($({type:"openDialog"}),W(),X.current.value=null,X.current.click())},[$,W,F,m,Ue,ce,U,a]),Me=N.useCallback(function(I){!G.current||!G.current.isEqualNode(I.target)||(I.key===" "||I.key==="Enter"||I.keyCode===32||I.keyCode===13)&&(I.preventDefault(),j())},[G,j]),ue=N.useCallback(function(){$({type:"focus"})},[]),Re=N.useCallback(function(){$({type:"blur"})},[]),we=N.useCallback(function(){M||(vG()?setTimeout(j,0):j())},[M,j]),We=function(ne){return r?null:ne},ze=function(ne){return R?null:We(ne)},He=function(ne){return P?null:We(ne)},Ke=function(ne){L&&ne.stopPropagation()},rt=N.useMemo(function(){return function(){var I=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},ne=I.refKey,xe=ne===void 0?"ref":ne,Se=I.role,be=I.onKeyDown,Te=I.onFocus,Ne=I.onBlur,pe=I.onClick,K=I.onDragEnter,he=I.onDragOver,Le=I.onDragLeave,Oe=I.onDrop,Be=a0(I,MG);return vn(vn(jw({onKeyDown:ze(Rs(be,Me)),onFocus:ze(Rs(Te,ue)),onBlur:ze(Rs(Ne,Re)),onClick:We(Rs(pe,we)),onDragEnter:He(Rs(K,ke)),onDragOver:He(Rs(he,fe)),onDragLeave:He(Rs(Le,Pe)),onDrop:He(Rs(Oe,Ae)),role:typeof Se=="string"&&Se!==""?Se:"presentation"},xe,G),!r&&!R?{tabIndex:0}:{}),Be)}},[G,Me,ue,Re,we,ke,fe,Pe,Ae,R,P,r]),Ft=N.useCallback(function(I){I.stopPropagation()},[]),H=N.useMemo(function(){return function(){var I=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},ne=I.refKey,xe=ne===void 0?"ref":ne,Se=I.onChange,be=I.onClick,Te=a0(I,TG),Ne=jw({accept:A,multiple:a,type:"file",style:{display:"none"},onChange:We(Rs(Se,Ae)),onClick:We(Rs(be,Ft)),tabIndex:-1},xe,X);return vn(vn({},Ne),Te)}},[X,t,a,Ae,r]);return vn(vn({},D),{},{isFocused:q&&!r,getRootProps:rt,getInputProps:H,rootRef:G,inputRef:X,open:We(j)})}function NG(n,e){switch(e.type){case"focus":return vn(vn({},n),{},{isFocused:!0});case"blur":return vn(vn({},n),{},{isFocused:!1});case"openDialog":return vn(vn({},Hw),{},{isFileDialogActive:!0});case"closeDialog":return vn(vn({},n),{},{isFileDialogActive:!1});case"setDraggedFiles":return vn(vn({},n),{},{isDragActive:e.isDragActive,isDragAccept:e.isDragAccept,isDragReject:e.isDragReject});case"setFiles":return vn(vn({},n),{},{acceptedFiles:e.acceptedFiles,fileRejections:e.fileRejections});case"reset":return vn({},Hw);default:return n}}function eR(){}function Vr(n,e){if(n==null)return{};var t={},r=Object.keys(n),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(t[i]=n[i]);return t}function tt(){return tt=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},tt.apply(this,arguments)}function WI(n){var e,t,r="";if(typeof n=="string"||typeof n=="number")r+=n;else if(typeof n=="object")if(Array.isArray(n))for(e=0;e<n.length;e++)n[e]&&(t=WI(n[e]))&&(r&&(r+=" "),r+=t);else for(e in n)n[e]&&(r&&(r+=" "),r+=e);return r}function Yr(){for(var n,e,t=0,r="";t<arguments.length;)(n=arguments[t++])&&(e=WI(n))&&(r&&(r+=" "),r+=e);return r}function ta(n){return n!==null&&typeof n=="object"&&n.constructor===Object}function GI(n){if(!ta(n))return n;const e={};return Object.keys(n).forEach(t=>{e[t]=GI(n[t])}),e}function ds(n,e,t={clone:!0}){const r=t.clone?tt({},n):n;return ta(n)&&ta(e)&&Object.keys(e).forEach(i=>{i!=="__proto__"&&(ta(e[i])&&i in n&&ta(n[i])?r[i]=ds(n[i],e[i],t):t.clone?r[i]=ta(e[i])?GI(e[i]):e[i]:r[i]=e[i])}),r}function kl(n){let e="https://mui.com/production-error/?code="+n;for(let t=1;t<arguments.length;t+=1)e+="&args[]="+encodeURIComponent(arguments[t]);return"Minified MUI error #"+n+"; visit "+e+" for the full message."}function Kn(n){if(typeof n!="string")throw new Error(kl(7));return n.charAt(0).toUpperCase()+n.slice(1)}function DG(...n){return n.reduce((e,t)=>t==null?e:function(...i){e.apply(this,i),t.apply(this,i)},()=>{})}function $I(n,e=166){let t;function r(...i){const s=()=>{n.apply(this,i)};clearTimeout(t),t=setTimeout(s,e)}return r.clear=()=>{clearTimeout(t)},r}function UG(n,e){return()=>null}function FG(n,e){var t,r;return N.isValidElement(n)&&e.indexOf((t=n.type.muiName)!=null?t:(r=n.type)==null||(r=r._payload)==null||(r=r.value)==null?void 0:r.muiName)!==-1}function XI(n){return n&&n.ownerDocument||document}function Vw(n){return XI(n).defaultView||window}function zG(n,e){return()=>null}function qI(n,e){typeof n=="function"?n(e):n&&(n.current=e)}const BG=typeof window<"u"?N.useLayoutEffect:N.useEffect,Jf=BG;let tR=0;function jG(n){const[e,t]=N.useState(n),r=n||e;return N.useEffect(()=>{e==null&&(tR+=1,t(`mui-${tR}`))},[e]),r}const nR=Sg["useId".toString()];function HG(n){if(nR!==void 0){const e=nR();return n??e}return jG(n)}function VG(n,e,t,r,i){return null}function WG({controlled:n,default:e,name:t,state:r="value"}){const{current:i}=N.useRef(n!==void 0),[s,o]=N.useState(e),a=i?n:s,l=N.useCallback(u=>{i||o(u)},[]);return[a,l]}function Vd(n){const e=N.useRef(n);return Jf(()=>{e.current=n}),N.useRef((...t)=>(0,e.current)(...t)).current}function Zf(...n){return N.useMemo(()=>n.every(e=>e==null)?null:e=>{n.forEach(t=>{qI(t,e)})},n)}let Ev=!0,Ww=!1,rR;const GG={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function $G(n){const{type:e,tagName:t}=n;return!!(t==="INPUT"&&GG[e]&&!n.readOnly||t==="TEXTAREA"&&!n.readOnly||n.isContentEditable)}function XG(n){n.metaKey||n.altKey||n.ctrlKey||(Ev=!0)}function A_(){Ev=!1}function qG(){this.visibilityState==="hidden"&&Ww&&(Ev=!0)}function YG(n){n.addEventListener("keydown",XG,!0),n.addEventListener("mousedown",A_,!0),n.addEventListener("pointerdown",A_,!0),n.addEventListener("touchstart",A_,!0),n.addEventListener("visibilitychange",qG,!0)}function KG(n){const{target:e}=n;try{return e.matches(":focus-visible")}catch{}return Ev||$G(e)}function YI(){const n=N.useCallback(i=>{i!=null&&YG(i.ownerDocument)},[]),e=N.useRef(!1);function t(){return e.current?(Ww=!0,window.clearTimeout(rR),rR=window.setTimeout(()=>{Ww=!1},100),e.current=!1,!0):!1}function r(i){return KG(i)?(e.current=!0,!0):!1}return{isFocusVisibleRef:e,onFocus:r,onBlur:t,ref:n}}function KI(n,e){const t=tt({},e);return Object.keys(n).forEach(r=>{if(r.toString().match(/^(components|slots)$/))t[r]=tt({},n[r],t[r]);else if(r.toString().match(/^(componentsProps|slotProps)$/)){const i=n[r]||{},s=e[r];t[r]={},!s||!Object.keys(s)?t[r]=i:!i||!Object.keys(i)?t[r]=s:(t[r]=tt({},s),Object.keys(i).forEach(o=>{t[r][o]=KI(i[o],s[o])}))}else t[r]===void 0&&(t[r]=n[r])}),t}function Mv(n,e,t=void 0){const r={};return Object.keys(n).forEach(i=>{r[i]=n[i].reduce((s,o)=>{if(o){const a=e(o);a!==""&&s.push(a),t&&t[o]&&s.push(t[o])}return s},[]).join(" ")}),r}const iR=n=>n,JG=()=>{let n=iR;return{configure(e){n=e},generate(e){return n(e)},reset(){n=iR}}},ZG=JG(),JI=ZG,QG={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function Mh(n,e,t="Mui"){const r=QG[e];return r?`${t}-${r}`:`${JI.generate(n)}-${e}`}function Th(n,e,t="Mui"){const r={};return e.forEach(i=>{r[i]=Mh(n,i,t)}),r}function ZI(n){var e=Object.create(null);return function(t){return e[t]===void 0&&(e[t]=n(t)),e[t]}}var e$=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,t$=ZI(function(n){return e$.test(n)||n.charCodeAt(0)===111&&n.charCodeAt(1)===110&&n.charCodeAt(2)<91});function n$(n){if(n.sheet)return n.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===n)return document.styleSheets[e]}function r$(n){var e=document.createElement("style");return e.setAttribute("data-emotion",n.key),n.nonce!==void 0&&e.setAttribute("nonce",n.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var i$=function(){function n(t){var r=this;this._insertTag=function(i){var s;r.tags.length===0?r.insertionPoint?s=r.insertionPoint.nextSibling:r.prepend?s=r.container.firstChild:s=r.before:s=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(i,s),r.tags.push(i)},this.isSpeedy=t.speedy===void 0?!0:t.speedy,this.tags=[],this.ctr=0,this.nonce=t.nonce,this.key=t.key,this.container=t.container,this.prepend=t.prepend,this.insertionPoint=t.insertionPoint,this.before=null}var e=n.prototype;return e.hydrate=function(r){r.forEach(this._insertTag)},e.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(r$(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var s=n$(i);try{s.insertRule(r,s.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(r));this.ctr++},e.flush=function(){this.tags.forEach(function(r){return r.parentNode&&r.parentNode.removeChild(r)}),this.tags=[],this.ctr=0},n}(),Mr="-ms-",l0="-moz-",Wt="-webkit-",QI="comm",pE="rule",mE="decl",s$="@import",eN="@keyframes",o$="@layer",a$=Math.abs,Tv=String.fromCharCode,l$=Object.assign;function c$(n,e){return dr(n,0)^45?(((e<<2^dr(n,0))<<2^dr(n,1))<<2^dr(n,2))<<2^dr(n,3):0}function tN(n){return n.trim()}function u$(n,e){return(n=e.exec(n))?n[0]:n}function Gt(n,e,t){return n.replace(e,t)}function Gw(n,e){return n.indexOf(e)}function dr(n,e){return n.charCodeAt(e)|0}function Qf(n,e,t){return n.slice(e,t)}function Os(n){return n.length}function gE(n){return n.length}function jm(n,e){return e.push(n),n}function d$(n,e){return n.map(e).join("")}var Cv=1,Mu=1,nN=0,ni=0,Hn=0,ju="";function Av(n,e,t,r,i,s,o){return{value:n,root:e,parent:t,type:r,props:i,children:s,line:Cv,column:Mu,length:o,return:""}}function Od(n,e){return l$(Av("",null,null,"",null,null,0),n,{length:-n.length},e)}function f$(){return Hn}function h$(){return Hn=ni>0?dr(ju,--ni):0,Mu--,Hn===10&&(Mu=1,Cv--),Hn}function wi(){return Hn=ni<nN?dr(ju,ni++):0,Mu++,Hn===10&&(Mu=1,Cv++),Hn}function Vs(){return dr(ju,ni)}function vg(){return ni}function Ch(n,e){return Qf(ju,n,e)}function eh(n){switch(n){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function rN(n){return Cv=Mu=1,nN=Os(ju=n),ni=0,[]}function iN(n){return ju="",n}function yg(n){return tN(Ch(ni-1,$w(n===91?n+2:n===40?n+1:n)))}function p$(n){for(;(Hn=Vs())&&Hn<33;)wi();return eh(n)>2||eh(Hn)>3?"":" "}function m$(n,e){for(;--e&&wi()&&!(Hn<48||Hn>102||Hn>57&&Hn<65||Hn>70&&Hn<97););return Ch(n,vg()+(e<6&&Vs()==32&&wi()==32))}function $w(n){for(;wi();)switch(Hn){case n:return ni;case 34:case 39:n!==34&&n!==39&&$w(Hn);break;case 40:n===41&&$w(n);break;case 92:wi();break}return ni}function g$(n,e){for(;wi()&&n+Hn!==47+10;)if(n+Hn===42+42&&Vs()===47)break;return"/*"+Ch(e,ni-1)+"*"+Tv(n===47?n:wi())}function v$(n){for(;!eh(Vs());)wi();return Ch(n,ni)}function y$(n){return iN(xg("",null,null,null,[""],n=rN(n),0,[0],n))}function xg(n,e,t,r,i,s,o,a,l){for(var u=0,f=0,h=o,p=0,g=0,v=0,x=1,_=1,m=1,w=0,S="",M=i,R=s,P=r,L=S;_;)switch(v=w,w=wi()){case 40:if(v!=108&&dr(L,h-1)==58){Gw(L+=Gt(yg(w),"&","&\f"),"&\f")!=-1&&(m=-1);break}case 34:case 39:case 91:L+=yg(w);break;case 9:case 10:case 13:case 32:L+=p$(v);break;case 92:L+=m$(vg()-1,7);continue;case 47:switch(Vs()){case 42:case 47:jm(x$(g$(wi(),vg()),e,t),l);break;default:L+="/"}break;case 123*x:a[u++]=Os(L)*m;case 125*x:case 59:case 0:switch(w){case 0:case 125:_=0;case 59+f:m==-1&&(L=Gt(L,/\f/g,"")),g>0&&Os(L)-h&&jm(g>32?oR(L+";",r,t,h-1):oR(Gt(L," ","")+";",r,t,h-2),l);break;case 59:L+=";";default:if(jm(P=sR(L,e,t,u,f,i,a,S,M=[],R=[],h),s),w===123)if(f===0)xg(L,e,P,P,M,s,h,a,R);else switch(p===99&&dr(L,3)===110?100:p){case 100:case 108:case 109:case 115:xg(n,P,P,r&&jm(sR(n,P,P,0,0,i,a,S,i,M=[],h),R),i,R,h,a,r?M:R);break;default:xg(L,P,P,P,[""],R,0,a,R)}}u=f=g=0,x=m=1,S=L="",h=o;break;case 58:h=1+Os(L),g=v;default:if(x<1){if(w==123)--x;else if(w==125&&x++==0&&h$()==125)continue}switch(L+=Tv(w),w*x){case 38:m=f>0?1:(L+="\f",-1);break;case 44:a[u++]=(Os(L)-1)*m,m=1;break;case 64:Vs()===45&&(L+=yg(wi())),p=Vs(),f=h=Os(S=L+=v$(vg())),w++;break;case 45:v===45&&Os(L)==2&&(x=0)}}return s}function sR(n,e,t,r,i,s,o,a,l,u,f){for(var h=i-1,p=i===0?s:[""],g=gE(p),v=0,x=0,_=0;v<r;++v)for(var m=0,w=Qf(n,h+1,h=a$(x=o[v])),S=n;m<g;++m)(S=tN(x>0?p[m]+" "+w:Gt(w,/&\f/g,p[m])))&&(l[_++]=S);return Av(n,e,t,i===0?pE:a,l,u,f)}function x$(n,e,t){return Av(n,e,t,QI,Tv(f$()),Qf(n,2,-2),0)}function oR(n,e,t,r){return Av(n,e,t,mE,Qf(n,0,r),Qf(n,r+1,-1),r)}function cu(n,e){for(var t="",r=gE(n),i=0;i<r;i++)t+=e(n[i],i,n,e)||"";return t}function _$(n,e,t,r){switch(n.type){case o$:if(n.children.length)break;case s$:case mE:return n.return=n.return||n.value;case QI:return"";case eN:return n.return=n.value+"{"+cu(n.children,r)+"}";case pE:n.value=n.props.join(",")}return Os(t=cu(n.children,r))?n.return=n.value+"{"+t+"}":""}function w$(n){var e=gE(n);return function(t,r,i,s){for(var o="",a=0;a<e;a++)o+=n[a](t,r,i,s)||"";return o}}function S$(n){return function(e){e.root||(e=e.return)&&n(e)}}var b$=function(e,t,r){for(var i=0,s=0;i=s,s=Vs(),i===38&&s===12&&(t[r]=1),!eh(s);)wi();return Ch(e,ni)},E$=function(e,t){var r=-1,i=44;do switch(eh(i)){case 0:i===38&&Vs()===12&&(t[r]=1),e[r]+=b$(ni-1,t,r);break;case 2:e[r]+=yg(i);break;case 4:if(i===44){e[++r]=Vs()===58?"&\f":"",t[r]=e[r].length;break}default:e[r]+=Tv(i)}while(i=wi());return e},M$=function(e,t){return iN(E$(rN(e),t))},aR=new WeakMap,T$=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var t=e.value,r=e.parent,i=e.column===r.column&&e.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(e.props.length===1&&t.charCodeAt(0)!==58&&!aR.get(r))&&!i){aR.set(e,!0);for(var s=[],o=M$(t,s),a=r.props,l=0,u=0;l<o.length;l++)for(var f=0;f<a.length;f++,u++)e.props[u]=s[l]?o[l].replace(/&\f/g,a[f]):a[f]+" "+o[l]}}},C$=function(e){if(e.type==="decl"){var t=e.value;t.charCodeAt(0)===108&&t.charCodeAt(2)===98&&(e.return="",e.value="")}};function sN(n,e){switch(c$(n,e)){case 5103:return Wt+"print-"+n+n;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Wt+n+n;case 5349:case 4246:case 4810:case 6968:case 2756:return Wt+n+l0+n+Mr+n+n;case 6828:case 4268:return Wt+n+Mr+n+n;case 6165:return Wt+n+Mr+"flex-"+n+n;case 5187:return Wt+n+Gt(n,/(\w+).+(:[^]+)/,Wt+"box-$1$2"+Mr+"flex-$1$2")+n;case 5443:return Wt+n+Mr+"flex-item-"+Gt(n,/flex-|-self/,"")+n;case 4675:return Wt+n+Mr+"flex-line-pack"+Gt(n,/align-content|flex-|-self/,"")+n;case 5548:return Wt+n+Mr+Gt(n,"shrink","negative")+n;case 5292:return Wt+n+Mr+Gt(n,"basis","preferred-size")+n;case 6060:return Wt+"box-"+Gt(n,"-grow","")+Wt+n+Mr+Gt(n,"grow","positive")+n;case 4554:return Wt+Gt(n,/([^-])(transform)/g,"$1"+Wt+"$2")+n;case 6187:return Gt(Gt(Gt(n,/(zoom-|grab)/,Wt+"$1"),/(image-set)/,Wt+"$1"),n,"")+n;case 5495:case 3959:return Gt(n,/(image-set\([^]*)/,Wt+"$1$`$1");case 4968:return Gt(Gt(n,/(.+:)(flex-)?(.*)/,Wt+"box-pack:$3"+Mr+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Wt+n+n;case 4095:case 3583:case 4068:case 2532:return Gt(n,/(.+)-inline(.+)/,Wt+"$1$2")+n;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Os(n)-1-e>6)switch(dr(n,e+1)){case 109:if(dr(n,e+4)!==45)break;case 102:return Gt(n,/(.+:)(.+)-([^]+)/,"$1"+Wt+"$2-$3$1"+l0+(dr(n,e+3)==108?"$3":"$2-$3"))+n;case 115:return~Gw(n,"stretch")?sN(Gt(n,"stretch","fill-available"),e)+n:n}break;case 4949:if(dr(n,e+1)!==115)break;case 6444:switch(dr(n,Os(n)-3-(~Gw(n,"!important")&&10))){case 107:return Gt(n,":",":"+Wt)+n;case 101:return Gt(n,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Wt+(dr(n,14)===45?"inline-":"")+"box$3$1"+Wt+"$2$3$1"+Mr+"$2box$3")+n}break;case 5936:switch(dr(n,e+11)){case 114:return Wt+n+Mr+Gt(n,/[svh]\w+-[tblr]{2}/,"tb")+n;case 108:return Wt+n+Mr+Gt(n,/[svh]\w+-[tblr]{2}/,"tb-rl")+n;case 45:return Wt+n+Mr+Gt(n,/[svh]\w+-[tblr]{2}/,"lr")+n}return Wt+n+Mr+n+n}return n}var A$=function(e,t,r,i){if(e.length>-1&&!e.return)switch(e.type){case mE:e.return=sN(e.value,e.length);break;case eN:return cu([Od(e,{value:Gt(e.value,"@","@"+Wt)})],i);case pE:if(e.length)return d$(e.props,function(s){switch(u$(s,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return cu([Od(e,{props:[Gt(s,/:(read-\w+)/,":"+l0+"$1")]})],i);case"::placeholder":return cu([Od(e,{props:[Gt(s,/:(plac\w+)/,":"+Wt+"input-$1")]}),Od(e,{props:[Gt(s,/:(plac\w+)/,":"+l0+"$1")]}),Od(e,{props:[Gt(s,/:(plac\w+)/,Mr+"input-$1")]})],i)}return""})}},R$=[A$],P$=function(e){var t=e.key;if(t==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(x){var _=x.getAttribute("data-emotion");_.indexOf(" ")!==-1&&(document.head.appendChild(x),x.setAttribute("data-s",""))})}var i=e.stylisPlugins||R$,s={},o,a=[];o=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),function(x){for(var _=x.getAttribute("data-emotion").split(" "),m=1;m<_.length;m++)s[_[m]]=!0;a.push(x)});var l,u=[T$,C$];{var f,h=[_$,S$(function(x){f.insert(x)})],p=w$(u.concat(i,h)),g=function(_){return cu(y$(_),p)};l=function(_,m,w,S){f=w,g(_?_+"{"+m.styles+"}":m.styles),S&&(v.inserted[m.name]=!0)}}var v={key:t,sheet:new i$({key:t,container:o,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:s,registered:{},insert:l};return v.sheet.hydrate(a),v},oN={exports:{}},Kt={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var or=typeof Symbol=="function"&&Symbol.for,vE=or?Symbol.for("react.element"):60103,yE=or?Symbol.for("react.portal"):60106,Rv=or?Symbol.for("react.fragment"):60107,Pv=or?Symbol.for("react.strict_mode"):60108,Lv=or?Symbol.for("react.profiler"):60114,Ov=or?Symbol.for("react.provider"):60109,kv=or?Symbol.for("react.context"):60110,xE=or?Symbol.for("react.async_mode"):60111,Iv=or?Symbol.for("react.concurrent_mode"):60111,Nv=or?Symbol.for("react.forward_ref"):60112,Dv=or?Symbol.for("react.suspense"):60113,L$=or?Symbol.for("react.suspense_list"):60120,Uv=or?Symbol.for("react.memo"):60115,Fv=or?Symbol.for("react.lazy"):60116,O$=or?Symbol.for("react.block"):60121,k$=or?Symbol.for("react.fundamental"):60117,I$=or?Symbol.for("react.responder"):60118,N$=or?Symbol.for("react.scope"):60119;function Ti(n){if(typeof n=="object"&&n!==null){var e=n.$$typeof;switch(e){case vE:switch(n=n.type,n){case xE:case Iv:case Rv:case Lv:case Pv:case Dv:return n;default:switch(n=n&&n.$$typeof,n){case kv:case Nv:case Fv:case Uv:case Ov:return n;default:return e}}case yE:return e}}}function aN(n){return Ti(n)===Iv}Kt.AsyncMode=xE;Kt.ConcurrentMode=Iv;Kt.ContextConsumer=kv;Kt.ContextProvider=Ov;Kt.Element=vE;Kt.ForwardRef=Nv;Kt.Fragment=Rv;Kt.Lazy=Fv;Kt.Memo=Uv;Kt.Portal=yE;Kt.Profiler=Lv;Kt.StrictMode=Pv;Kt.Suspense=Dv;Kt.isAsyncMode=function(n){return aN(n)||Ti(n)===xE};Kt.isConcurrentMode=aN;Kt.isContextConsumer=function(n){return Ti(n)===kv};Kt.isContextProvider=function(n){return Ti(n)===Ov};Kt.isElement=function(n){return typeof n=="object"&&n!==null&&n.$$typeof===vE};Kt.isForwardRef=function(n){return Ti(n)===Nv};Kt.isFragment=function(n){return Ti(n)===Rv};Kt.isLazy=function(n){return Ti(n)===Fv};Kt.isMemo=function(n){return Ti(n)===Uv};Kt.isPortal=function(n){return Ti(n)===yE};Kt.isProfiler=function(n){return Ti(n)===Lv};Kt.isStrictMode=function(n){return Ti(n)===Pv};Kt.isSuspense=function(n){return Ti(n)===Dv};Kt.isValidElementType=function(n){return typeof n=="string"||typeof n=="function"||n===Rv||n===Iv||n===Lv||n===Pv||n===Dv||n===L$||typeof n=="object"&&n!==null&&(n.$$typeof===Fv||n.$$typeof===Uv||n.$$typeof===Ov||n.$$typeof===kv||n.$$typeof===Nv||n.$$typeof===k$||n.$$typeof===I$||n.$$typeof===N$||n.$$typeof===O$)};Kt.typeOf=Ti;oN.exports=Kt;var D$=oN.exports,lN=D$,U$={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},F$={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},cN={};cN[lN.ForwardRef]=U$;cN[lN.Memo]=F$;var z$=!0;function B$(n,e,t){var r="";return t.split(" ").forEach(function(i){n[i]!==void 0?e.push(n[i]+";"):r+=i+" "}),r}var uN=function(e,t,r){var i=e.key+"-"+t.name;(r===!1||z$===!1)&&e.registered[i]===void 0&&(e.registered[i]=t.styles)},dN=function(e,t,r){uN(e,t,r);var i=e.key+"-"+t.name;if(e.inserted[t.name]===void 0){var s=t;do e.insert(t===s?"."+i:"",s,e.sheet,!0),s=s.next;while(s!==void 0)}};function j$(n){for(var e=0,t,r=0,i=n.length;i>=4;++r,i-=4)t=n.charCodeAt(r)&255|(n.charCodeAt(++r)&255)<<8|(n.charCodeAt(++r)&255)<<16|(n.charCodeAt(++r)&255)<<24,t=(t&65535)*1540483477+((t>>>16)*59797<<16),t^=t>>>24,e=(t&65535)*1540483477+((t>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(i){case 3:e^=(n.charCodeAt(r+2)&255)<<16;case 2:e^=(n.charCodeAt(r+1)&255)<<8;case 1:e^=n.charCodeAt(r)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var H$={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},V$=/[A-Z]|^ms/g,W$=/_EMO_([^_]+?)_([^]*?)_EMO_/g,fN=function(e){return e.charCodeAt(1)===45},lR=function(e){return e!=null&&typeof e!="boolean"},R_=ZI(function(n){return fN(n)?n:n.replace(V$,"-$&").toLowerCase()}),cR=function(e,t){switch(e){case"animation":case"animationName":if(typeof t=="string")return t.replace(W$,function(r,i,s){return ks={name:i,styles:s,next:ks},i})}return H$[e]!==1&&!fN(e)&&typeof t=="number"&&t!==0?t+"px":t};function th(n,e,t){if(t==null)return"";if(t.__emotion_styles!==void 0)return t;switch(typeof t){case"boolean":return"";case"object":{if(t.anim===1)return ks={name:t.name,styles:t.styles,next:ks},t.name;if(t.styles!==void 0){var r=t.next;if(r!==void 0)for(;r!==void 0;)ks={name:r.name,styles:r.styles,next:ks},r=r.next;var i=t.styles+";";return i}return G$(n,e,t)}case"function":{if(n!==void 0){var s=ks,o=t(n);return ks=s,th(n,e,o)}break}}if(e==null)return t;var a=e[t];return a!==void 0?a:t}function G$(n,e,t){var r="";if(Array.isArray(t))for(var i=0;i<t.length;i++)r+=th(n,e,t[i])+";";else for(var s in t){var o=t[s];if(typeof o!="object")e!=null&&e[o]!==void 0?r+=s+"{"+e[o]+"}":lR(o)&&(r+=R_(s)+":"+cR(s,o)+";");else if(Array.isArray(o)&&typeof o[0]=="string"&&(e==null||e[o[0]]===void 0))for(var a=0;a<o.length;a++)lR(o[a])&&(r+=R_(s)+":"+cR(s,o[a])+";");else{var l=th(n,e,o);switch(s){case"animation":case"animationName":{r+=R_(s)+":"+l+";";break}default:r+=s+"{"+l+"}"}}}return r}var uR=/label:\s*([^\s;\n{]+)\s*(;|$)/g,ks,_E=function(e,t,r){if(e.length===1&&typeof e[0]=="object"&&e[0]!==null&&e[0].styles!==void 0)return e[0];var i=!0,s="";ks=void 0;var o=e[0];o==null||o.raw===void 0?(i=!1,s+=th(r,t,o)):s+=o[0];for(var a=1;a<e.length;a++)s+=th(r,t,e[a]),i&&(s+=o[a]);uR.lastIndex=0;for(var l="",u;(u=uR.exec(s))!==null;)l+="-"+u[1];var f=j$(s)+l;return{name:f,styles:s,next:ks}},$$=function(e){return e()},hN=Sg["useInsertionEffect"]?Sg["useInsertionEffect"]:!1,X$=hN||$$,dR=hN||N.useLayoutEffect,pN=N.createContext(typeof HTMLElement<"u"?P$({key:"css"}):null);pN.Provider;var mN=function(e){return N.forwardRef(function(t,r){var i=N.useContext(pN);return e(t,i,r)})},wE=N.createContext({}),q$=mN(function(n,e){var t=n.styles,r=_E([t],void 0,N.useContext(wE)),i=N.useRef();return dR(function(){var s=e.key+"-global",o=new e.sheet.constructor({key:s,nonce:e.sheet.nonce,container:e.sheet.container,speedy:e.sheet.isSpeedy}),a=!1,l=document.querySelector('style[data-emotion="'+s+" "+r.name+'"]');return e.sheet.tags.length&&(o.before=e.sheet.tags[0]),l!==null&&(a=!0,l.setAttribute("data-emotion",s),o.hydrate([l])),i.current=[o,a],function(){o.flush()}},[e]),dR(function(){var s=i.current,o=s[0],a=s[1];if(a){s[1]=!1;return}if(r.next!==void 0&&dN(e,r.next,!0),o.tags.length){var l=o.tags[o.tags.length-1].nextElementSibling;o.before=l,o.flush()}e.insert("",r,o,!1)},[e,r.name]),null});function Y$(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return _E(e)}var SE=function(){var e=Y$.apply(void 0,arguments),t="animation-"+e.name;return{name:t,styles:"@keyframes "+t+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}},K$=t$,J$=function(e){return e!=="theme"},fR=function(e){return typeof e=="string"&&e.charCodeAt(0)>96?K$:J$},hR=function(e,t,r){var i;if(t){var s=t.shouldForwardProp;i=e.__emotion_forwardProp&&s?function(o){return e.__emotion_forwardProp(o)&&s(o)}:s}return typeof i!="function"&&r&&(i=e.__emotion_forwardProp),i},Z$=function(e){var t=e.cache,r=e.serialized,i=e.isStringTag;return uN(t,r,i),X$(function(){return dN(t,r,i)}),null},Q$=function n(e,t){var r=e.__emotion_real===e,i=r&&e.__emotion_base||e,s,o;t!==void 0&&(s=t.label,o=t.target);var a=hR(e,t,r),l=a||fR(i),u=!l("as");return function(){var f=arguments,h=r&&e.__emotion_styles!==void 0?e.__emotion_styles.slice(0):[];if(s!==void 0&&h.push("label:"+s+";"),f[0]==null||f[0].raw===void 0)h.push.apply(h,f);else{h.push(f[0][0]);for(var p=f.length,g=1;g<p;g++)h.push(f[g],f[0][g])}var v=mN(function(x,_,m){var w=u&&x.as||i,S="",M=[],R=x;if(x.theme==null){R={};for(var P in x)R[P]=x[P];R.theme=N.useContext(wE)}typeof x.className=="string"?S=B$(_.registered,M,x.className):x.className!=null&&(S=x.className+" ");var L=_E(h.concat(M),_.registered,R);S+=_.key+"-"+L.name,o!==void 0&&(S+=" "+o);var k=u&&a===void 0?fR(w):l,C={};for(var A in x)u&&A==="as"||k(A)&&(C[A]=x[A]);return C.className=S,C.ref=m,N.createElement(N.Fragment,null,N.createElement(Z$,{cache:_,serialized:L,isStringTag:typeof w=="string"}),N.createElement(w,C))});return v.displayName=s!==void 0?s:"Styled("+(typeof i=="string"?i:i.displayName||i.name||"Component")+")",v.defaultProps=e.defaultProps,v.__emotion_real=v,v.__emotion_base=i,v.__emotion_styles=h,v.__emotion_forwardProp=a,Object.defineProperty(v,"toString",{value:function(){return"."+o}}),v.withComponent=function(x,_){return n(x,tt({},t,_,{shouldForwardProp:hR(v,_,!0)})).apply(void 0,h)},v}},eX=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],Xw=Q$.bind();eX.forEach(function(n){Xw[n]=Xw(n)});function tX(n){return n==null||Object.keys(n).length===0}function nX(n){const{styles:e,defaultTheme:t={}}=n,r=typeof e=="function"?i=>e(tX(i)?t:i):e;return E.jsx(q$,{styles:r})}/**
 * @mui/styled-engine v5.14.17
 *
 * @license MIT
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function rX(n,e){return Xw(n,e)}const iX=(n,e)=>{Array.isArray(n.__emotion_styles)&&(n.__emotion_styles=e(n.__emotion_styles))},sX=["values","unit","step"],oX=n=>{const e=Object.keys(n).map(t=>({key:t,val:n[t]}))||[];return e.sort((t,r)=>t.val-r.val),e.reduce((t,r)=>tt({},t,{[r.key]:r.val}),{})};function aX(n){const{values:e={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:t="px",step:r=5}=n,i=Vr(n,sX),s=oX(e),o=Object.keys(s);function a(p){return`@media (min-width:${typeof e[p]=="number"?e[p]:p}${t})`}function l(p){return`@media (max-width:${(typeof e[p]=="number"?e[p]:p)-r/100}${t})`}function u(p,g){const v=o.indexOf(g);return`@media (min-width:${typeof e[p]=="number"?e[p]:p}${t}) and (max-width:${(v!==-1&&typeof e[o[v]]=="number"?e[o[v]]:g)-r/100}${t})`}function f(p){return o.indexOf(p)+1<o.length?u(p,o[o.indexOf(p)+1]):a(p)}function h(p){const g=o.indexOf(p);return g===0?a(o[1]):g===o.length-1?l(o[g]):u(p,o[o.indexOf(p)+1]).replace("@media","@media not all and")}return tt({keys:o,values:s,up:a,down:l,between:u,only:f,not:h,unit:t},i)}const lX={borderRadius:4},cX=lX;function af(n,e){return e?ds(n,e,{clone:!1}):n}const bE={xs:0,sm:600,md:900,lg:1200,xl:1536},pR={keys:["xs","sm","md","lg","xl"],up:n=>`@media (min-width:${bE[n]}px)`};function Co(n,e,t){const r=n.theme||{};if(Array.isArray(e)){const s=r.breakpoints||pR;return e.reduce((o,a,l)=>(o[s.up(s.keys[l])]=t(e[l]),o),{})}if(typeof e=="object"){const s=r.breakpoints||pR;return Object.keys(e).reduce((o,a)=>{if(Object.keys(s.values||bE).indexOf(a)!==-1){const l=s.up(a);o[l]=t(e[a],a)}else{const l=a;o[l]=e[l]}return o},{})}return t(e)}function uX(n={}){var e;return((e=n.keys)==null?void 0:e.reduce((r,i)=>{const s=n.up(i);return r[s]={},r},{}))||{}}function dX(n,e){return n.reduce((t,r)=>{const i=t[r];return(!i||Object.keys(i).length===0)&&delete t[r],t},e)}function zv(n,e,t=!0){if(!e||typeof e!="string")return null;if(n&&n.vars&&t){const r=`vars.${e}`.split(".").reduce((i,s)=>i&&i[s]?i[s]:null,n);if(r!=null)return r}return e.split(".").reduce((r,i)=>r&&r[i]!=null?r[i]:null,n)}function c0(n,e,t,r=t){let i;return typeof n=="function"?i=n(t):Array.isArray(n)?i=n[t]||r:i=zv(n,t)||r,e&&(i=e(i,r,n)),i}function $t(n){const{prop:e,cssProperty:t=n.prop,themeKey:r,transform:i}=n,s=o=>{if(o[e]==null)return null;const a=o[e],l=o.theme,u=zv(l,r)||{};return Co(o,a,h=>{let p=c0(u,i,h);return h===p&&typeof h=="string"&&(p=c0(u,i,`${e}${h==="default"?"":Kn(h)}`,h)),t===!1?p:{[t]:p}})};return s.propTypes={},s.filterProps=[e],s}function fX(n){const e={};return t=>(e[t]===void 0&&(e[t]=n(t)),e[t])}const hX={m:"margin",p:"padding"},pX={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},mR={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},mX=fX(n=>{if(n.length>2)if(mR[n])n=mR[n];else return[n];const[e,t]=n.split(""),r=hX[e],i=pX[t]||"";return Array.isArray(i)?i.map(s=>r+s):[r+i]}),EE=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],ME=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...EE,...ME];function Ah(n,e,t,r){var i;const s=(i=zv(n,e,!1))!=null?i:t;return typeof s=="number"?o=>typeof o=="string"?o:s*o:Array.isArray(s)?o=>typeof o=="string"?o:s[o]:typeof s=="function"?s:()=>{}}function gN(n){return Ah(n,"spacing",8)}function Rh(n,e){if(typeof e=="string"||e==null)return e;const t=Math.abs(e),r=n(t);return e>=0?r:typeof r=="number"?-r:`-${r}`}function gX(n,e){return t=>n.reduce((r,i)=>(r[i]=Rh(e,t),r),{})}function vX(n,e,t,r){if(e.indexOf(t)===-1)return null;const i=mX(t),s=gX(i,r),o=n[t];return Co(n,o,s)}function vN(n,e){const t=gN(n.theme);return Object.keys(n).map(r=>vX(n,e,r,t)).reduce(af,{})}function Tn(n){return vN(n,EE)}Tn.propTypes={};Tn.filterProps=EE;function Cn(n){return vN(n,ME)}Cn.propTypes={};Cn.filterProps=ME;function yX(n=8){if(n.mui)return n;const e=gN({spacing:n}),t=(...r)=>(r.length===0?[1]:r).map(s=>{const o=e(s);return typeof o=="number"?`${o}px`:o}).join(" ");return t.mui=!0,t}function Bv(...n){const e=n.reduce((r,i)=>(i.filterProps.forEach(s=>{r[s]=i}),r),{}),t=r=>Object.keys(r).reduce((i,s)=>e[s]?af(i,e[s](r)):i,{});return t.propTypes={},t.filterProps=n.reduce((r,i)=>r.concat(i.filterProps),[]),t}function Ns(n){return typeof n!="number"?n:`${n}px solid`}const xX=$t({prop:"border",themeKey:"borders",transform:Ns}),_X=$t({prop:"borderTop",themeKey:"borders",transform:Ns}),wX=$t({prop:"borderRight",themeKey:"borders",transform:Ns}),SX=$t({prop:"borderBottom",themeKey:"borders",transform:Ns}),bX=$t({prop:"borderLeft",themeKey:"borders",transform:Ns}),EX=$t({prop:"borderColor",themeKey:"palette"}),MX=$t({prop:"borderTopColor",themeKey:"palette"}),TX=$t({prop:"borderRightColor",themeKey:"palette"}),CX=$t({prop:"borderBottomColor",themeKey:"palette"}),AX=$t({prop:"borderLeftColor",themeKey:"palette"}),jv=n=>{if(n.borderRadius!==void 0&&n.borderRadius!==null){const e=Ah(n.theme,"shape.borderRadius",4),t=r=>({borderRadius:Rh(e,r)});return Co(n,n.borderRadius,t)}return null};jv.propTypes={};jv.filterProps=["borderRadius"];Bv(xX,_X,wX,SX,bX,EX,MX,TX,CX,AX,jv);const Hv=n=>{if(n.gap!==void 0&&n.gap!==null){const e=Ah(n.theme,"spacing",8),t=r=>({gap:Rh(e,r)});return Co(n,n.gap,t)}return null};Hv.propTypes={};Hv.filterProps=["gap"];const Vv=n=>{if(n.columnGap!==void 0&&n.columnGap!==null){const e=Ah(n.theme,"spacing",8),t=r=>({columnGap:Rh(e,r)});return Co(n,n.columnGap,t)}return null};Vv.propTypes={};Vv.filterProps=["columnGap"];const Wv=n=>{if(n.rowGap!==void 0&&n.rowGap!==null){const e=Ah(n.theme,"spacing",8),t=r=>({rowGap:Rh(e,r)});return Co(n,n.rowGap,t)}return null};Wv.propTypes={};Wv.filterProps=["rowGap"];const RX=$t({prop:"gridColumn"}),PX=$t({prop:"gridRow"}),LX=$t({prop:"gridAutoFlow"}),OX=$t({prop:"gridAutoColumns"}),kX=$t({prop:"gridAutoRows"}),IX=$t({prop:"gridTemplateColumns"}),NX=$t({prop:"gridTemplateRows"}),DX=$t({prop:"gridTemplateAreas"}),UX=$t({prop:"gridArea"});Bv(Hv,Vv,Wv,RX,PX,LX,OX,kX,IX,NX,DX,UX);function uu(n,e){return e==="grey"?e:n}const FX=$t({prop:"color",themeKey:"palette",transform:uu}),zX=$t({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:uu}),BX=$t({prop:"backgroundColor",themeKey:"palette",transform:uu});Bv(FX,zX,BX);function gi(n){return n<=1&&n!==0?`${n*100}%`:n}const jX=$t({prop:"width",transform:gi}),TE=n=>{if(n.maxWidth!==void 0&&n.maxWidth!==null){const e=t=>{var r,i;const s=((r=n.theme)==null||(r=r.breakpoints)==null||(r=r.values)==null?void 0:r[t])||bE[t];return s?((i=n.theme)==null||(i=i.breakpoints)==null?void 0:i.unit)!=="px"?{maxWidth:`${s}${n.theme.breakpoints.unit}`}:{maxWidth:s}:{maxWidth:gi(t)}};return Co(n,n.maxWidth,e)}return null};TE.filterProps=["maxWidth"];const HX=$t({prop:"minWidth",transform:gi}),VX=$t({prop:"height",transform:gi}),WX=$t({prop:"maxHeight",transform:gi}),GX=$t({prop:"minHeight",transform:gi});$t({prop:"size",cssProperty:"width",transform:gi});$t({prop:"size",cssProperty:"height",transform:gi});const $X=$t({prop:"boxSizing"});Bv(jX,TE,HX,VX,WX,GX,$X);const XX={border:{themeKey:"borders",transform:Ns},borderTop:{themeKey:"borders",transform:Ns},borderRight:{themeKey:"borders",transform:Ns},borderBottom:{themeKey:"borders",transform:Ns},borderLeft:{themeKey:"borders",transform:Ns},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:jv},color:{themeKey:"palette",transform:uu},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:uu},backgroundColor:{themeKey:"palette",transform:uu},p:{style:Cn},pt:{style:Cn},pr:{style:Cn},pb:{style:Cn},pl:{style:Cn},px:{style:Cn},py:{style:Cn},padding:{style:Cn},paddingTop:{style:Cn},paddingRight:{style:Cn},paddingBottom:{style:Cn},paddingLeft:{style:Cn},paddingX:{style:Cn},paddingY:{style:Cn},paddingInline:{style:Cn},paddingInlineStart:{style:Cn},paddingInlineEnd:{style:Cn},paddingBlock:{style:Cn},paddingBlockStart:{style:Cn},paddingBlockEnd:{style:Cn},m:{style:Tn},mt:{style:Tn},mr:{style:Tn},mb:{style:Tn},ml:{style:Tn},mx:{style:Tn},my:{style:Tn},margin:{style:Tn},marginTop:{style:Tn},marginRight:{style:Tn},marginBottom:{style:Tn},marginLeft:{style:Tn},marginX:{style:Tn},marginY:{style:Tn},marginInline:{style:Tn},marginInlineStart:{style:Tn},marginInlineEnd:{style:Tn},marginBlock:{style:Tn},marginBlockStart:{style:Tn},marginBlockEnd:{style:Tn},displayPrint:{cssProperty:!1,transform:n=>({"@media print":{display:n}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:Hv},rowGap:{style:Wv},columnGap:{style:Vv},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:gi},maxWidth:{style:TE},minWidth:{transform:gi},height:{transform:gi},maxHeight:{transform:gi},minHeight:{transform:gi},boxSizing:{},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}},CE=XX;function qX(...n){const e=n.reduce((r,i)=>r.concat(Object.keys(i)),[]),t=new Set(e);return n.every(r=>t.size===Object.keys(r).length)}function YX(n,e){return typeof n=="function"?n(e):n}function KX(){function n(t,r,i,s){const o={[t]:r,theme:i},a=s[t];if(!a)return{[t]:r};const{cssProperty:l=t,themeKey:u,transform:f,style:h}=a;if(r==null)return null;if(u==="typography"&&r==="inherit")return{[t]:r};const p=zv(i,u)||{};return h?h(o):Co(o,r,v=>{let x=c0(p,f,v);return v===x&&typeof v=="string"&&(x=c0(p,f,`${t}${v==="default"?"":Kn(v)}`,v)),l===!1?x:{[l]:x}})}function e(t){var r;const{sx:i,theme:s={}}=t||{};if(!i)return null;const o=(r=s.unstable_sxConfig)!=null?r:CE;function a(l){let u=l;if(typeof l=="function")u=l(s);else if(typeof l!="object")return l;if(!u)return null;const f=uX(s.breakpoints),h=Object.keys(f);let p=f;return Object.keys(u).forEach(g=>{const v=YX(u[g],s);if(v!=null)if(typeof v=="object")if(o[g])p=af(p,n(g,v,s,o));else{const x=Co({theme:s},v,_=>({[g]:_}));qX(x,v)?p[g]=e({sx:v,theme:s}):p=af(p,x)}else p=af(p,n(g,v,s,o))}),dX(h,p)}return Array.isArray(i)?i.map(a):a(i)}return e}const yN=KX();yN.filterProps=["sx"];const AE=yN,JX=["breakpoints","palette","spacing","shape"];function RE(n={},...e){const{breakpoints:t={},palette:r={},spacing:i,shape:s={}}=n,o=Vr(n,JX),a=aX(t),l=yX(i);let u=ds({breakpoints:a,direction:"ltr",components:{},palette:tt({mode:"light"},r),spacing:l,shape:tt({},cX,s)},o);return u=e.reduce((f,h)=>ds(f,h),u),u.unstable_sxConfig=tt({},CE,o==null?void 0:o.unstable_sxConfig),u.unstable_sx=function(h){return AE({sx:h,theme:this})},u}function ZX(n){return Object.keys(n).length===0}function QX(n=null){const e=N.useContext(wE);return!e||ZX(e)?n:e}const eq=RE();function xN(n=eq){return QX(n)}function tq({styles:n,themeId:e,defaultTheme:t={}}){const r=xN(t),i=typeof n=="function"?n(e&&r[e]||r):n;return E.jsx(nX,{styles:i})}const nq=["variant"];function gR(n){return n.length===0}function _N(n){const{variant:e}=n,t=Vr(n,nq);let r=e||"";return Object.keys(t).sort().forEach(i=>{i==="color"?r+=gR(r)?n[i]:Kn(n[i]):r+=`${gR(r)?i:Kn(i)}${Kn(n[i].toString())}`}),r}const rq=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function iq(n){return Object.keys(n).length===0}function sq(n){return typeof n=="string"&&n.charCodeAt(0)>96}const oq=(n,e)=>e.components&&e.components[n]&&e.components[n].styleOverrides?e.components[n].styleOverrides:null,u0=n=>{const e={};return n&&n.forEach(t=>{const r=_N(t.props);e[r]=t.style}),e},aq=(n,e)=>{let t=[];return e&&e.components&&e.components[n]&&e.components[n].variants&&(t=e.components[n].variants),u0(t)},d0=(n,e,t)=>{const{ownerState:r={}}=n,i=[];return t&&t.forEach(s=>{let o=!0;Object.keys(s.props).forEach(a=>{r[a]!==s.props[a]&&n[a]!==s.props[a]&&(o=!1)}),o&&i.push(e[_N(s.props)])}),i},lq=(n,e,t,r)=>{var i;const s=t==null||(i=t.components)==null||(i=i[r])==null?void 0:i.variants;return d0(n,e,s)};function _g(n){return n!=="ownerState"&&n!=="theme"&&n!=="sx"&&n!=="as"}const cq=RE(),uq=n=>n&&n.charAt(0).toLowerCase()+n.slice(1);function wg({defaultTheme:n,theme:e,themeId:t}){return iq(e)?n:e[t]||e}function dq(n){return n?(e,t)=>t[n]:null}const vR=({styledArg:n,props:e,defaultTheme:t,themeId:r})=>{const i=n(tt({},e,{theme:wg(tt({},e,{defaultTheme:t,themeId:r}))}));let s;if(i&&i.variants&&(s=i.variants,delete i.variants),s){const o=d0(e,u0(s),s);return[i,...o]}return i};function fq(n={}){const{themeId:e,defaultTheme:t=cq,rootShouldForwardProp:r=_g,slotShouldForwardProp:i=_g}=n,s=o=>AE(tt({},o,{theme:wg(tt({},o,{defaultTheme:t,themeId:e}))}));return s.__mui_systemSx=!0,(o,a={})=>{iX(o,M=>M.filter(R=>!(R!=null&&R.__mui_systemSx)));const{name:l,slot:u,skipVariantsResolver:f,skipSx:h,overridesResolver:p=dq(uq(u))}=a,g=Vr(a,rq),v=f!==void 0?f:u&&u!=="Root"&&u!=="root"||!1,x=h||!1;let _,m=_g;u==="Root"||u==="root"?m=r:u?m=i:sq(o)&&(m=void 0);const w=rX(o,tt({shouldForwardProp:m,label:_},g)),S=(M,...R)=>{const P=R?R.map(A=>{if(typeof A=="function"&&A.__emotion_real!==A)return U=>vR({styledArg:A,props:U,defaultTheme:t,themeId:e});if(ta(A)){let U=A,W;return A&&A.variants&&(W=A.variants,delete U.variants,U=F=>{let G=A;return d0(F,u0(W),W).forEach(Z=>{G=ds(G,Z)}),G}),U}return A}):[];let L=M;if(ta(M)){let A;M&&M.variants&&(A=M.variants,delete L.variants,L=U=>{let W=M;return d0(U,u0(A),A).forEach(G=>{W=ds(W,G)}),W})}else typeof M=="function"&&M.__emotion_real!==M&&(L=A=>vR({styledArg:M,props:A,defaultTheme:t,themeId:e}));l&&p&&P.push(A=>{const U=wg(tt({},A,{defaultTheme:t,themeId:e})),W=oq(l,U);if(W){const F={};return Object.entries(W).forEach(([G,X])=>{F[G]=typeof X=="function"?X(tt({},A,{theme:U})):X}),p(A,F)}return null}),l&&!v&&P.push(A=>{const U=wg(tt({},A,{defaultTheme:t,themeId:e}));return lq(A,aq(l,U),U,l)}),x||P.push(s);const k=P.length-R.length;if(Array.isArray(M)&&k>0){const A=new Array(k).fill("");L=[...M,...A],L.raw=[...M.raw,...A]}const C=w(L,...P);return o.muiName&&(C.muiName=o.muiName),C};return w.withConfig&&(S.withConfig=w.withConfig),S}}function hq(n){const{theme:e,name:t,props:r}=n;return!e||!e.components||!e.components[t]||!e.components[t].defaultProps?r:KI(e.components[t].defaultProps,r)}function pq({props:n,name:e,defaultTheme:t,themeId:r}){let i=xN(t);return r&&(i=i[r]||i),hq({theme:i,name:e,props:n})}function PE(n,e=0,t=1){return Math.min(Math.max(e,n),t)}function mq(n){n=n.slice(1);const e=new RegExp(`.{1,${n.length>=6?2:1}}`,"g");let t=n.match(e);return t&&t[0].length===1&&(t=t.map(r=>r+r)),t?`rgb${t.length===4?"a":""}(${t.map((r,i)=>i<3?parseInt(r,16):Math.round(parseInt(r,16)/255*1e3)/1e3).join(", ")})`:""}function Il(n){if(n.type)return n;if(n.charAt(0)==="#")return Il(mq(n));const e=n.indexOf("("),t=n.substring(0,e);if(["rgb","rgba","hsl","hsla","color"].indexOf(t)===-1)throw new Error(kl(9,n));let r=n.substring(e+1,n.length-1),i;if(t==="color"){if(r=r.split(" "),i=r.shift(),r.length===4&&r[3].charAt(0)==="/"&&(r[3]=r[3].slice(1)),["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(i)===-1)throw new Error(kl(10,i))}else r=r.split(",");return r=r.map(s=>parseFloat(s)),{type:t,values:r,colorSpace:i}}function Gv(n){const{type:e,colorSpace:t}=n;let{values:r}=n;return e.indexOf("rgb")!==-1?r=r.map((i,s)=>s<3?parseInt(i,10):i):e.indexOf("hsl")!==-1&&(r[1]=`${r[1]}%`,r[2]=`${r[2]}%`),e.indexOf("color")!==-1?r=`${t} ${r.join(" ")}`:r=`${r.join(", ")}`,`${e}(${r})`}function gq(n){n=Il(n);const{values:e}=n,t=e[0],r=e[1]/100,i=e[2]/100,s=r*Math.min(i,1-i),o=(u,f=(u+t/30)%12)=>i-s*Math.max(Math.min(f-3,9-f,1),-1);let a="rgb";const l=[Math.round(o(0)*255),Math.round(o(8)*255),Math.round(o(4)*255)];return n.type==="hsla"&&(a+="a",l.push(e[3])),Gv({type:a,values:l})}function yR(n){n=Il(n);let e=n.type==="hsl"||n.type==="hsla"?Il(gq(n)).values:n.values;return e=e.map(t=>(n.type!=="color"&&(t/=255),t<=.03928?t/12.92:((t+.055)/1.055)**2.4)),Number((.2126*e[0]+.7152*e[1]+.0722*e[2]).toFixed(3))}function vq(n,e){const t=yR(n),r=yR(e);return(Math.max(t,r)+.05)/(Math.min(t,r)+.05)}function f0(n,e){return n=Il(n),e=PE(e),(n.type==="rgb"||n.type==="hsl")&&(n.type+="a"),n.type==="color"?n.values[3]=`/${e}`:n.values[3]=e,Gv(n)}function yq(n,e){if(n=Il(n),e=PE(e),n.type.indexOf("hsl")!==-1)n.values[2]*=1-e;else if(n.type.indexOf("rgb")!==-1||n.type.indexOf("color")!==-1)for(let t=0;t<3;t+=1)n.values[t]*=1-e;return Gv(n)}function xq(n,e){if(n=Il(n),e=PE(e),n.type.indexOf("hsl")!==-1)n.values[2]+=(100-n.values[2])*e;else if(n.type.indexOf("rgb")!==-1)for(let t=0;t<3;t+=1)n.values[t]+=(255-n.values[t])*e;else if(n.type.indexOf("color")!==-1)for(let t=0;t<3;t+=1)n.values[t]+=(1-n.values[t])*e;return Gv(n)}function _q(n,e){return tt({toolbar:{minHeight:56,[n.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[n.up("sm")]:{minHeight:64}}},e)}const wq={black:"#000",white:"#fff"},nh=wq,Sq={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},bq=Sq,Eq={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},Mc=Eq,Mq={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},Tc=Mq,Tq={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},kd=Tq,Cq={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},Cc=Cq,Aq={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},Ac=Aq,Rq={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},Rc=Rq,Pq=["mode","contrastThreshold","tonalOffset"],xR={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:nh.white,default:nh.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},P_={text:{primary:nh.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:nh.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function _R(n,e,t,r){const i=r.light||r,s=r.dark||r*1.5;n[e]||(n.hasOwnProperty(t)?n[e]=n[t]:e==="light"?n.light=xq(n.main,i):e==="dark"&&(n.dark=yq(n.main,s)))}function Lq(n="light"){return n==="dark"?{main:Cc[200],light:Cc[50],dark:Cc[400]}:{main:Cc[700],light:Cc[400],dark:Cc[800]}}function Oq(n="light"){return n==="dark"?{main:Mc[200],light:Mc[50],dark:Mc[400]}:{main:Mc[500],light:Mc[300],dark:Mc[700]}}function kq(n="light"){return n==="dark"?{main:Tc[500],light:Tc[300],dark:Tc[700]}:{main:Tc[700],light:Tc[400],dark:Tc[800]}}function Iq(n="light"){return n==="dark"?{main:Ac[400],light:Ac[300],dark:Ac[700]}:{main:Ac[700],light:Ac[500],dark:Ac[900]}}function Nq(n="light"){return n==="dark"?{main:Rc[400],light:Rc[300],dark:Rc[700]}:{main:Rc[800],light:Rc[500],dark:Rc[900]}}function Dq(n="light"){return n==="dark"?{main:kd[400],light:kd[300],dark:kd[700]}:{main:"#ed6c02",light:kd[500],dark:kd[900]}}function Uq(n){const{mode:e="light",contrastThreshold:t=3,tonalOffset:r=.2}=n,i=Vr(n,Pq),s=n.primary||Lq(e),o=n.secondary||Oq(e),a=n.error||kq(e),l=n.info||Iq(e),u=n.success||Nq(e),f=n.warning||Dq(e);function h(x){return vq(x,P_.text.primary)>=t?P_.text.primary:xR.text.primary}const p=({color:x,name:_,mainShade:m=500,lightShade:w=300,darkShade:S=700})=>{if(x=tt({},x),!x.main&&x[m]&&(x.main=x[m]),!x.hasOwnProperty("main"))throw new Error(kl(11,_?` (${_})`:"",m));if(typeof x.main!="string")throw new Error(kl(12,_?` (${_})`:"",JSON.stringify(x.main)));return _R(x,"light",w,r),_R(x,"dark",S,r),x.contrastText||(x.contrastText=h(x.main)),x},g={dark:P_,light:xR};return ds(tt({common:tt({},nh),mode:e,primary:p({color:s,name:"primary"}),secondary:p({color:o,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:p({color:a,name:"error"}),warning:p({color:f,name:"warning"}),info:p({color:l,name:"info"}),success:p({color:u,name:"success"}),grey:bq,contrastThreshold:t,getContrastText:h,augmentColor:p,tonalOffset:r},g[e]),i)}const Fq=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];function zq(n){return Math.round(n*1e5)/1e5}const wR={textTransform:"uppercase"},SR='"Roboto", "Helvetica", "Arial", sans-serif';function Bq(n,e){const t=typeof e=="function"?e(n):e,{fontFamily:r=SR,fontSize:i=14,fontWeightLight:s=300,fontWeightRegular:o=400,fontWeightMedium:a=500,fontWeightBold:l=700,htmlFontSize:u=16,allVariants:f,pxToRem:h}=t,p=Vr(t,Fq),g=i/14,v=h||(m=>`${m/u*g}rem`),x=(m,w,S,M,R)=>tt({fontFamily:r,fontWeight:m,fontSize:v(w),lineHeight:S},r===SR?{letterSpacing:`${zq(M/w)}em`}:{},R,f),_={h1:x(s,96,1.167,-1.5),h2:x(s,60,1.2,-.5),h3:x(o,48,1.167,0),h4:x(o,34,1.235,.25),h5:x(o,24,1.334,0),h6:x(a,20,1.6,.15),subtitle1:x(o,16,1.75,.15),subtitle2:x(a,14,1.57,.1),body1:x(o,16,1.5,.15),body2:x(o,14,1.43,.15),button:x(a,14,1.75,.4,wR),caption:x(o,12,1.66,.4),overline:x(o,12,2.66,1,wR),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return ds(tt({htmlFontSize:u,pxToRem:v,fontFamily:r,fontSize:i,fontWeightLight:s,fontWeightRegular:o,fontWeightMedium:a,fontWeightBold:l},_),p,{clone:!1})}const jq=.2,Hq=.14,Vq=.12;function dn(...n){return[`${n[0]}px ${n[1]}px ${n[2]}px ${n[3]}px rgba(0,0,0,${jq})`,`${n[4]}px ${n[5]}px ${n[6]}px ${n[7]}px rgba(0,0,0,${Hq})`,`${n[8]}px ${n[9]}px ${n[10]}px ${n[11]}px rgba(0,0,0,${Vq})`].join(",")}const Wq=["none",dn(0,2,1,-1,0,1,1,0,0,1,3,0),dn(0,3,1,-2,0,2,2,0,0,1,5,0),dn(0,3,3,-2,0,3,4,0,0,1,8,0),dn(0,2,4,-1,0,4,5,0,0,1,10,0),dn(0,3,5,-1,0,5,8,0,0,1,14,0),dn(0,3,5,-1,0,6,10,0,0,1,18,0),dn(0,4,5,-2,0,7,10,1,0,2,16,1),dn(0,5,5,-3,0,8,10,1,0,3,14,2),dn(0,5,6,-3,0,9,12,1,0,3,16,2),dn(0,6,6,-3,0,10,14,1,0,4,18,3),dn(0,6,7,-4,0,11,15,1,0,4,20,3),dn(0,7,8,-4,0,12,17,2,0,5,22,4),dn(0,7,8,-4,0,13,19,2,0,5,24,4),dn(0,7,9,-4,0,14,21,2,0,5,26,4),dn(0,8,9,-5,0,15,22,2,0,6,28,5),dn(0,8,10,-5,0,16,24,2,0,6,30,5),dn(0,8,11,-5,0,17,26,2,0,6,32,5),dn(0,9,11,-5,0,18,28,2,0,7,34,6),dn(0,9,12,-6,0,19,29,2,0,7,36,6),dn(0,10,13,-6,0,20,31,3,0,8,38,7),dn(0,10,13,-6,0,21,33,3,0,8,40,7),dn(0,10,14,-6,0,22,35,3,0,8,42,7),dn(0,11,14,-7,0,23,36,3,0,9,44,8),dn(0,11,15,-7,0,24,38,3,0,9,46,8)],Gq=Wq,$q=["duration","easing","delay"],Xq={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},qq={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function bR(n){return`${Math.round(n)}ms`}function Yq(n){if(!n)return 0;const e=n/36;return Math.round((4+15*e**.25+e/5)*10)}function Kq(n){const e=tt({},Xq,n.easing),t=tt({},qq,n.duration);return tt({getAutoHeightDuration:Yq,create:(i=["all"],s={})=>{const{duration:o=t.standard,easing:a=e.easeInOut,delay:l=0}=s;return Vr(s,$q),(Array.isArray(i)?i:[i]).map(u=>`${u} ${typeof o=="string"?o:bR(o)} ${a} ${typeof l=="string"?l:bR(l)}`).join(",")}},n,{easing:e,duration:t})}const Jq={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},Zq=Jq,Qq=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function eY(n={},...e){const{mixins:t={},palette:r={},transitions:i={},typography:s={}}=n,o=Vr(n,Qq);if(n.vars)throw new Error(kl(18));const a=Uq(r),l=RE(n);let u=ds(l,{mixins:_q(l.breakpoints,t),palette:a,shadows:Gq.slice(),typography:Bq(a,s),transitions:Kq(i),zIndex:tt({},Zq)});return u=ds(u,o),u=e.reduce((f,h)=>ds(f,h),u),u.unstable_sxConfig=tt({},CE,o==null?void 0:o.unstable_sxConfig),u.unstable_sx=function(h){return AE({sx:h,theme:this})},u}const tY=eY(),LE=tY,OE="$$material",nY=n=>_g(n)&&n!=="classes",rY=fq({themeId:OE,defaultTheme:LE,rootShouldForwardProp:nY}),qs=rY;function Ph({props:n,name:e}){return pq({props:n,name:e,defaultTheme:LE,themeId:OE})}function qw(n,e){return qw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},qw(n,e)}function iY(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n,qw(n,e)}const ER=wt.createContext(null);function sY(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function kE(n,e){var t=function(s){return e&&N.isValidElement(s)?e(s):s},r=Object.create(null);return n&&N.Children.map(n,function(i){return i}).forEach(function(i){r[i.key]=t(i)}),r}function oY(n,e){n=n||{},e=e||{};function t(f){return f in e?e[f]:n[f]}var r=Object.create(null),i=[];for(var s in n)s in e?i.length&&(r[s]=i,i=[]):i.push(s);var o,a={};for(var l in e){if(r[l])for(o=0;o<r[l].length;o++){var u=r[l][o];a[r[l][o]]=t(u)}a[l]=t(l)}for(o=0;o<i.length;o++)a[i[o]]=t(i[o]);return a}function ml(n,e,t){return t[e]!=null?t[e]:n.props[e]}function aY(n,e){return kE(n.children,function(t){return N.cloneElement(t,{onExited:e.bind(null,t),in:!0,appear:ml(t,"appear",n),enter:ml(t,"enter",n),exit:ml(t,"exit",n)})})}function lY(n,e,t){var r=kE(n.children),i=oY(e,r);return Object.keys(i).forEach(function(s){var o=i[s];if(N.isValidElement(o)){var a=s in e,l=s in r,u=e[s],f=N.isValidElement(u)&&!u.props.in;l&&(!a||f)?i[s]=N.cloneElement(o,{onExited:t.bind(null,o),in:!0,exit:ml(o,"exit",n),enter:ml(o,"enter",n)}):!l&&a&&!f?i[s]=N.cloneElement(o,{in:!1}):l&&a&&N.isValidElement(u)&&(i[s]=N.cloneElement(o,{onExited:t.bind(null,o),in:u.props.in,exit:ml(o,"exit",n),enter:ml(o,"enter",n)}))}}),i}var cY=Object.values||function(n){return Object.keys(n).map(function(e){return n[e]})},uY={component:"div",childFactory:function(e){return e}},IE=function(n){iY(e,n);function e(r,i){var s;s=n.call(this,r,i)||this;var o=s.handleExited.bind(sY(s));return s.state={contextValue:{isMounting:!0},handleExited:o,firstRender:!0},s}var t=e.prototype;return t.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},t.componentWillUnmount=function(){this.mounted=!1},e.getDerivedStateFromProps=function(i,s){var o=s.children,a=s.handleExited,l=s.firstRender;return{children:l?aY(i,a):lY(i,o,a),firstRender:!1}},t.handleExited=function(i,s){var o=kE(this.props.children);i.key in o||(i.props.onExited&&i.props.onExited(s),this.mounted&&this.setState(function(a){var l=tt({},a.children);return delete l[i.key],{children:l}}))},t.render=function(){var i=this.props,s=i.component,o=i.childFactory,a=Vr(i,["component","childFactory"]),l=this.state.contextValue,u=cY(this.state.children).map(o);return delete a.appear,delete a.enter,delete a.exit,s===null?wt.createElement(ER.Provider,{value:l},u):wt.createElement(ER.Provider,{value:l},wt.createElement(s,a,u))},e}(wt.Component);IE.propTypes={};IE.defaultProps=uY;const dY=IE;function fY(n){const{className:e,classes:t,pulsate:r=!1,rippleX:i,rippleY:s,rippleSize:o,in:a,onExited:l,timeout:u}=n,[f,h]=N.useState(!1),p=Yr(e,t.ripple,t.rippleVisible,r&&t.ripplePulsate),g={width:o,height:o,top:-(o/2)+s,left:-(o/2)+i},v=Yr(t.child,f&&t.childLeaving,r&&t.childPulsate);return!a&&!f&&h(!0),N.useEffect(()=>{if(!a&&l!=null){const x=setTimeout(l,u);return()=>{clearTimeout(x)}}},[l,a,u]),E.jsx("span",{className:p,style:g,children:E.jsx("span",{className:v})})}const hY=Th("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),zi=hY,pY=["center","classes","className"];let $v=n=>n,MR,TR,CR,AR;const Yw=550,mY=80,gY=SE(MR||(MR=$v`
  0% {
    transform: scale(0);
    opacity: 0.1;
  }

  100% {
    transform: scale(1);
    opacity: 0.3;
  }
`)),vY=SE(TR||(TR=$v`
  0% {
    opacity: 1;
  }

  100% {
    opacity: 0;
  }
`)),yY=SE(CR||(CR=$v`
  0% {
    transform: scale(1);
  }

  50% {
    transform: scale(0.92);
  }

  100% {
    transform: scale(1);
  }
`)),xY=qs("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),_Y=qs(fY,{name:"MuiTouchRipple",slot:"Ripple"})(AR||(AR=$v`
  opacity: 0;
  position: absolute;

  &.${0} {
    opacity: 0.3;
    transform: scale(1);
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  &.${0} {
    animation-duration: ${0}ms;
  }

  & .${0} {
    opacity: 1;
    display: block;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background-color: currentColor;
  }

  & .${0} {
    opacity: 0;
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  & .${0} {
    position: absolute;
    /* @noflip */
    left: 0px;
    top: 0;
    animation-name: ${0};
    animation-duration: 2500ms;
    animation-timing-function: ${0};
    animation-iteration-count: infinite;
    animation-delay: 200ms;
  }
`),zi.rippleVisible,gY,Yw,({theme:n})=>n.transitions.easing.easeInOut,zi.ripplePulsate,({theme:n})=>n.transitions.duration.shorter,zi.child,zi.childLeaving,vY,Yw,({theme:n})=>n.transitions.easing.easeInOut,zi.childPulsate,yY,({theme:n})=>n.transitions.easing.easeInOut),wY=N.forwardRef(function(e,t){const r=Ph({props:e,name:"MuiTouchRipple"}),{center:i=!1,classes:s={},className:o}=r,a=Vr(r,pY),[l,u]=N.useState([]),f=N.useRef(0),h=N.useRef(null);N.useEffect(()=>{h.current&&(h.current(),h.current=null)},[l]);const p=N.useRef(!1),g=N.useRef(0),v=N.useRef(null),x=N.useRef(null);N.useEffect(()=>()=>{g.current&&clearTimeout(g.current)},[]);const _=N.useCallback(M=>{const{pulsate:R,rippleX:P,rippleY:L,rippleSize:k,cb:C}=M;u(A=>[...A,E.jsx(_Y,{classes:{ripple:Yr(s.ripple,zi.ripple),rippleVisible:Yr(s.rippleVisible,zi.rippleVisible),ripplePulsate:Yr(s.ripplePulsate,zi.ripplePulsate),child:Yr(s.child,zi.child),childLeaving:Yr(s.childLeaving,zi.childLeaving),childPulsate:Yr(s.childPulsate,zi.childPulsate)},timeout:Yw,pulsate:R,rippleX:P,rippleY:L,rippleSize:k},f.current)]),f.current+=1,h.current=C},[s]),m=N.useCallback((M={},R={},P=()=>{})=>{const{pulsate:L=!1,center:k=i||R.pulsate,fakeElement:C=!1}=R;if((M==null?void 0:M.type)==="mousedown"&&p.current){p.current=!1;return}(M==null?void 0:M.type)==="touchstart"&&(p.current=!0);const A=C?null:x.current,U=A?A.getBoundingClientRect():{width:0,height:0,left:0,top:0};let W,F,G;if(k||M===void 0||M.clientX===0&&M.clientY===0||!M.clientX&&!M.touches)W=Math.round(U.width/2),F=Math.round(U.height/2);else{const{clientX:X,clientY:Z}=M.touches&&M.touches.length>0?M.touches[0]:M;W=Math.round(X-U.left),F=Math.round(Z-U.top)}if(k)G=Math.sqrt((2*U.width**2+U.height**2)/3),G%2===0&&(G+=1);else{const X=Math.max(Math.abs((A?A.clientWidth:0)-W),W)*2+2,Z=Math.max(Math.abs((A?A.clientHeight:0)-F),F)*2+2;G=Math.sqrt(X**2+Z**2)}M!=null&&M.touches?v.current===null&&(v.current=()=>{_({pulsate:L,rippleX:W,rippleY:F,rippleSize:G,cb:P})},g.current=setTimeout(()=>{v.current&&(v.current(),v.current=null)},mY)):_({pulsate:L,rippleX:W,rippleY:F,rippleSize:G,cb:P})},[i,_]),w=N.useCallback(()=>{m({},{pulsate:!0})},[m]),S=N.useCallback((M,R)=>{if(clearTimeout(g.current),(M==null?void 0:M.type)==="touchend"&&v.current){v.current(),v.current=null,g.current=setTimeout(()=>{S(M,R)});return}v.current=null,u(P=>P.length>0?P.slice(1):P),h.current=R},[]);return N.useImperativeHandle(t,()=>({pulsate:w,start:m,stop:S}),[w,m,S]),E.jsx(xY,tt({className:Yr(zi.root,s.root,o),ref:x},a,{children:E.jsx(dY,{component:null,exit:!0,children:l})}))}),SY=wY;function bY(n){return Mh("MuiButtonBase",n)}const EY=Th("MuiButtonBase",["root","disabled","focusVisible"]),MY=EY,TY=["action","centerRipple","children","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","LinkComponent","onBlur","onClick","onContextMenu","onDragLeave","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","tabIndex","TouchRippleProps","touchRippleRef","type"],CY=n=>{const{disabled:e,focusVisible:t,focusVisibleClassName:r,classes:i}=n,o=Mv({root:["root",e&&"disabled",t&&"focusVisible"]},bY,i);return t&&r&&(o.root+=` ${r}`),o},AY=qs("button",{name:"MuiButtonBase",slot:"Root",overridesResolver:(n,e)=>e.root})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},[`&.${MY.disabled}`]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),RY=N.forwardRef(function(e,t){const r=Ph({props:e,name:"MuiButtonBase"}),{action:i,centerRipple:s=!1,children:o,className:a,component:l="button",disabled:u=!1,disableRipple:f=!1,disableTouchRipple:h=!1,focusRipple:p=!1,LinkComponent:g="a",onBlur:v,onClick:x,onContextMenu:_,onDragLeave:m,onFocus:w,onFocusVisible:S,onKeyDown:M,onKeyUp:R,onMouseDown:P,onMouseLeave:L,onMouseUp:k,onTouchEnd:C,onTouchMove:A,onTouchStart:U,tabIndex:W=0,TouchRippleProps:F,touchRippleRef:G,type:X}=r,Z=Vr(r,TY),J=N.useRef(null),D=N.useRef(null),$=Zf(D,G),{isFocusVisibleRef:q,onFocus:Y,onBlur:Q,ref:Ce}=YI(),[ge,ie]=N.useState(!1);u&&ge&&ie(!1),N.useImperativeHandle(i,()=>({focusVisible:()=>{ie(!0),J.current.focus()}}),[]);const[ce,ke]=N.useState(!1);N.useEffect(()=>{ke(!0)},[]);const fe=ce&&!f&&!u;N.useEffect(()=>{ge&&p&&!f&&ce&&D.current.pulsate()},[f,p,ge,ce]);function Pe(Te,Ne,pe=h){return Vd(K=>(Ne&&Ne(K),!pe&&D.current&&D.current[Te](K),!0))}const Ue=Pe("start",P),Ae=Pe("stop",_),j=Pe("stop",m),Me=Pe("stop",k),ue=Pe("stop",Te=>{ge&&Te.preventDefault(),L&&L(Te)}),Re=Pe("start",U),we=Pe("stop",C),We=Pe("stop",A),ze=Pe("stop",Te=>{Q(Te),q.current===!1&&ie(!1),v&&v(Te)},!1),He=Vd(Te=>{J.current||(J.current=Te.currentTarget),Y(Te),q.current===!0&&(ie(!0),S&&S(Te)),w&&w(Te)}),Ke=()=>{const Te=J.current;return l&&l!=="button"&&!(Te.tagName==="A"&&Te.href)},rt=N.useRef(!1),Ft=Vd(Te=>{p&&!rt.current&&ge&&D.current&&Te.key===" "&&(rt.current=!0,D.current.stop(Te,()=>{D.current.start(Te)})),Te.target===Te.currentTarget&&Ke()&&Te.key===" "&&Te.preventDefault(),M&&M(Te),Te.target===Te.currentTarget&&Ke()&&Te.key==="Enter"&&!u&&(Te.preventDefault(),x&&x(Te))}),H=Vd(Te=>{p&&Te.key===" "&&D.current&&ge&&!Te.defaultPrevented&&(rt.current=!1,D.current.stop(Te,()=>{D.current.pulsate(Te)})),R&&R(Te),x&&Te.target===Te.currentTarget&&Ke()&&Te.key===" "&&!Te.defaultPrevented&&x(Te)});let I=l;I==="button"&&(Z.href||Z.to)&&(I=g);const ne={};I==="button"?(ne.type=X===void 0?"button":X,ne.disabled=u):(!Z.href&&!Z.to&&(ne.role="button"),u&&(ne["aria-disabled"]=u));const xe=Zf(t,Ce,J),Se=tt({},r,{centerRipple:s,component:l,disabled:u,disableRipple:f,disableTouchRipple:h,focusRipple:p,tabIndex:W,focusVisible:ge}),be=CY(Se);return E.jsxs(AY,tt({as:I,className:Yr(be.root,a),ownerState:Se,onBlur:ze,onClick:x,onContextMenu:Ae,onFocus:He,onKeyDown:Ft,onKeyUp:H,onMouseDown:Ue,onMouseLeave:ue,onMouseUp:Me,onDragLeave:j,onTouchEnd:we,onTouchMove:We,onTouchStart:Re,ref:xe,tabIndex:u?-1:W,type:X},ne,Z,{children:[o,fe?E.jsx(SY,tt({ref:$,center:s},F)):null]}))}),PY=RY;function LY(n){return Mh("MuiIconButton",n)}const OY=Th("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge"]),kY=OY,IY=["edge","children","className","color","disabled","disableFocusRipple","size"],NY=n=>{const{classes:e,disabled:t,color:r,edge:i,size:s}=n,o={root:["root",t&&"disabled",r!=="default"&&`color${Kn(r)}`,i&&`edge${Kn(i)}`,`size${Kn(s)}`]};return Mv(o,LY,e)},DY=qs(PY,{name:"MuiIconButton",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,t.color!=="default"&&e[`color${Kn(t.color)}`],t.edge&&e[`edge${Kn(t.edge)}`],e[`size${Kn(t.size)}`]]}})(({theme:n,ownerState:e})=>tt({textAlign:"center",flex:"0 0 auto",fontSize:n.typography.pxToRem(24),padding:8,borderRadius:"50%",overflow:"visible",color:(n.vars||n).palette.action.active,transition:n.transitions.create("background-color",{duration:n.transitions.duration.shortest})},!e.disableRipple&&{"&:hover":{backgroundColor:n.vars?`rgba(${n.vars.palette.action.activeChannel} / ${n.vars.palette.action.hoverOpacity})`:f0(n.palette.action.active,n.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},e.edge==="start"&&{marginLeft:e.size==="small"?-3:-12},e.edge==="end"&&{marginRight:e.size==="small"?-3:-12}),({theme:n,ownerState:e})=>{var t;const r=(t=(n.vars||n).palette)==null?void 0:t[e.color];return tt({},e.color==="inherit"&&{color:"inherit"},e.color!=="inherit"&&e.color!=="default"&&tt({color:r==null?void 0:r.main},!e.disableRipple&&{"&:hover":tt({},r&&{backgroundColor:n.vars?`rgba(${r.mainChannel} / ${n.vars.palette.action.hoverOpacity})`:f0(r.main,n.palette.action.hoverOpacity)},{"@media (hover: none)":{backgroundColor:"transparent"}})}),e.size==="small"&&{padding:5,fontSize:n.typography.pxToRem(18)},e.size==="large"&&{padding:12,fontSize:n.typography.pxToRem(28)},{[`&.${kY.disabled}`]:{backgroundColor:"transparent",color:(n.vars||n).palette.action.disabled}})}),UY=N.forwardRef(function(e,t){const r=Ph({props:e,name:"MuiIconButton"}),{edge:i=!1,children:s,className:o,color:a="default",disabled:l=!1,disableFocusRipple:u=!1,size:f="medium"}=r,h=Vr(r,IY),p=tt({},r,{edge:i,color:a,disabled:l,disableFocusRipple:u,size:f}),g=NY(p);return E.jsx(DY,tt({className:Yr(g.root,o),centerRipple:!0,focusRipple:!u,disabled:l,ref:t,ownerState:p},h,{children:s}))}),FY=UY;var NE={},wN={exports:{}};(function(n){function e(t){return t&&t.__esModule?t:{default:t}}n.exports=e,n.exports.__esModule=!0,n.exports.default=n.exports})(wN);var zY=wN.exports,L_={};function BY(n){return Mh("MuiSvgIcon",n)}Th("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const jY=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],HY=n=>{const{color:e,fontSize:t,classes:r}=n,i={root:["root",e!=="inherit"&&`color${Kn(e)}`,`fontSize${Kn(t)}`]};return Mv(i,BY,r)},VY=qs("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,t.color!=="inherit"&&e[`color${Kn(t.color)}`],e[`fontSize${Kn(t.fontSize)}`]]}})(({theme:n,ownerState:e})=>{var t,r,i,s,o,a,l,u,f,h,p,g,v;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:e.hasSvgAsChild?void 0:"currentColor",flexShrink:0,transition:(t=n.transitions)==null||(r=t.create)==null?void 0:r.call(t,"fill",{duration:(i=n.transitions)==null||(i=i.duration)==null?void 0:i.shorter}),fontSize:{inherit:"inherit",small:((s=n.typography)==null||(o=s.pxToRem)==null?void 0:o.call(s,20))||"1.25rem",medium:((a=n.typography)==null||(l=a.pxToRem)==null?void 0:l.call(a,24))||"1.5rem",large:((u=n.typography)==null||(f=u.pxToRem)==null?void 0:f.call(u,35))||"2.1875rem"}[e.fontSize],color:(h=(p=(n.vars||n).palette)==null||(p=p[e.color])==null?void 0:p.main)!=null?h:{action:(g=(n.vars||n).palette)==null||(g=g.action)==null?void 0:g.active,disabled:(v=(n.vars||n).palette)==null||(v=v.action)==null?void 0:v.disabled,inherit:void 0}[e.color]}}),SN=N.forwardRef(function(e,t){const r=Ph({props:e,name:"MuiSvgIcon"}),{children:i,className:s,color:o="inherit",component:a="svg",fontSize:l="medium",htmlColor:u,inheritViewBox:f=!1,titleAccess:h,viewBox:p="0 0 24 24"}=r,g=Vr(r,jY),v=N.isValidElement(i)&&i.type==="svg",x=tt({},r,{color:o,component:a,fontSize:l,instanceFontSize:e.fontSize,inheritViewBox:f,viewBox:p,hasSvgAsChild:v}),_={};f||(_.viewBox=p);const m=HY(x);return E.jsxs(VY,tt({as:a,className:Yr(m.root,s),focusable:"false",color:u,"aria-hidden":h?void 0:!0,role:h?"img":void 0,ref:t},_,g,v&&i.props,{ownerState:x,children:[v?i.props.children:i,h?E.jsx("title",{children:h}):null]}))});SN.muiName="SvgIcon";const RR=SN;function WY(n,e){function t(r,i){return E.jsx(RR,tt({"data-testid":`${e}Icon`,ref:i},r,{children:n}))}return t.muiName=RR.muiName,N.memo(N.forwardRef(t))}const GY={configure:n=>{JI.configure(n)}},$Y=Object.freeze(Object.defineProperty({__proto__:null,capitalize:Kn,createChainedFunction:DG,createSvgIcon:WY,debounce:$I,deprecatedPropType:UG,isMuiElement:FG,ownerDocument:XI,ownerWindow:Vw,requirePropFactory:zG,setRef:qI,unstable_ClassNameGenerator:GY,unstable_useEnhancedEffect:Jf,unstable_useId:HG,unsupportedProp:VG,useControlled:WG,useEventCallback:Vd,useForkRef:Zf,useIsFocusVisible:YI},Symbol.toStringTag,{value:"Module"})),XY=vP($Y);var PR;function qY(){return PR||(PR=1,function(n){"use client";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return e.createSvgIcon}});var e=XY}(L_)),L_}var YY=zY;Object.defineProperty(NE,"__esModule",{value:!0});var bN=NE.default=void 0,KY=YY(qY()),JY=E,ZY=(0,KY.default)((0,JY.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"}),"Delete");bN=NE.default=ZY;const QY="modulepreload",eK=function(n){return"/"+n},LR={},Lh=function(e,t,r){if(!t||t.length===0)return e();const i=document.getElementsByTagName("link");return Promise.all(t.map(s=>{if(s=eK(s),s in LR)return;LR[s]=!0;const o=s.endsWith(".css"),a=o?'[rel="stylesheet"]':"";if(!!r)for(let f=i.length-1;f>=0;f--){const h=i[f];if(h.href===s&&(!o||h.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${s}"]${a}`))return;const u=document.createElement("link");if(u.rel=o?"stylesheet":QY,o||(u.as="script",u.crossOrigin=""),u.href=s,document.head.appendChild(u),o)return new Promise((f,h)=>{u.addEventListener("load",f),u.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${s}`)))})})).then(()=>e()).catch(s=>{const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=s,window.dispatchEvent(o),!o.defaultPrevented)throw s})},tK=n=>{let e;return n?e=n:typeof fetch>"u"?e=(...t)=>Lh(()=>Promise.resolve().then(()=>Oh),void 0).then(({default:r})=>r(...t)):e=fetch,(...t)=>e(...t)};class DE extends Error{constructor(e,t="FunctionsError",r){super(e),this.name=t,this.context=r}}class nK extends DE{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class rK extends DE{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class iK extends DE{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var sK=globalThis&&globalThis.__awaiter||function(n,e,t,r){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(f){try{u(r.next(f))}catch(h){o(h)}}function l(f){try{u(r.throw(f))}catch(h){o(h)}}function u(f){f.done?s(f.value):i(f.value).then(a,l)}u((r=r.apply(n,e||[])).next())})};class oK{constructor(e,{headers:t={},customFetch:r}={}){this.url=e,this.headers=t,this.fetch=tK(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,t={}){var r;return sK(this,void 0,void 0,function*(){try{const{headers:i,method:s,body:o}=t;let a={},l;o&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",l=o):typeof o=="string"?(a["Content-Type"]="text/plain",l=o):typeof FormData<"u"&&o instanceof FormData?l=o:(a["Content-Type"]="application/json",l=JSON.stringify(o)));const u=yield this.fetch(`${this.url}/${e}`,{method:s||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),i),body:l}).catch(g=>{throw new nK(g)}),f=u.headers.get("x-relay-error");if(f&&f==="true")throw new rK(u);if(!u.ok)throw new iK(u);let h=((r=u.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),p;return h==="application/json"?p=yield u.json():h==="application/octet-stream"?p=yield u.blob():h==="multipart/form-data"?p=yield u.formData():p=yield u.text(),{data:p,error:null}}catch(i){return{data:null,error:i}}})}}var aK=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Tu=aK();const lK=Tu.fetch,UE=Tu.fetch.bind(Tu),EN=Tu.Headers,cK=Tu.Request,uK=Tu.Response,Oh=Object.freeze(Object.defineProperty({__proto__:null,Headers:EN,Request:cK,Response:uK,default:UE,fetch:lK},Symbol.toStringTag,{value:"Module"}));class dK{constructor(e){this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=e.headers,this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=e.shouldThrowOnError,this.signal=e.signal,this.isMaybeSingle=e.isMaybeSingle,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=UE:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}then(e,t){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const r=this.fetch;let i=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async s=>{var o,a,l;let u=null,f=null,h=null,p=s.status,g=s.statusText;if(s.ok){if(this.method!=="HEAD"){const m=await s.text();m===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?f=m:f=JSON.parse(m))}const x=(o=this.headers.Prefer)===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),_=(a=s.headers.get("content-range"))===null||a===void 0?void 0:a.split("/");x&&_&&_.length>1&&(h=parseInt(_[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(f)&&(f.length>1?(u={code:"PGRST116",details:`Results contain ${f.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},f=null,h=null,p=406,g="Not Acceptable"):f.length===1?f=f[0]:f=null)}else{const x=await s.text();try{u=JSON.parse(x),Array.isArray(u)&&s.status===404&&(f=[],u=null,p=200,g="OK")}catch{s.status===404&&x===""?(p=204,g="No Content"):u={message:x}}if(u&&this.isMaybeSingle&&(!((l=u==null?void 0:u.details)===null||l===void 0)&&l.includes("0 rows"))&&(u=null,p=200,g="OK"),u&&this.shouldThrowOnError)throw u}return{error:u,data:f,count:h,status:p,statusText:g}});return this.shouldThrowOnError||(i=i.catch(s=>{var o,a,l;return{error:{message:`${(o=s==null?void 0:s.name)!==null&&o!==void 0?o:"FetchError"}: ${s==null?void 0:s.message}`,details:`${(a=s==null?void 0:s.stack)!==null&&a!==void 0?a:""}`,hint:"",code:`${(l=s==null?void 0:s.code)!==null&&l!==void 0?l:""}`},data:null,count:null,status:0,statusText:""}})),i.then(e,t)}}class fK extends dK{select(e){let t=!1;const r=(e??"*").split("").map(i=>/\s/.test(i)&&!t?"":(i==='"'&&(t=!t),i)).join("");return this.url.searchParams.set("select",r),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(e,{ascending:t=!0,nullsFirst:r,foreignTable:i,referencedTable:s=i}={}){const o=s?`${s}.order`:"order",a=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${a?`${a},`:""}${e}.${t?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:t,referencedTable:r=t}={}){const i=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(i,`${e}`),this}range(e,t,{foreignTable:r,referencedTable:i=r}={}){const s=typeof i>"u"?"offset":`${i}.offset`,o=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(s,`${e}`),this.url.searchParams.set(o,`${t-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:e=!1,verbose:t=!1,settings:r=!1,buffers:i=!1,wal:s=!1,format:o="text"}={}){var a;const l=[e?"analyze":null,t?"verbose":null,r?"settings":null,i?"buffers":null,s?"wal":null].filter(Boolean).join("|"),u=(a=this.headers.Accept)!==null&&a!==void 0?a:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${o}; for="${u}"; options=${l};`,o==="json"?this:this}rollback(){var e;return((e=this.headers.Prefer)!==null&&e!==void 0?e:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}class Fc extends fK{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}in(e,t){const r=t.map(i=>typeof i=="string"&&new RegExp("[,()]").test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}contains(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return typeof t=="string"?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:r,type:i}={}){let s="";i==="plain"?s="pl":i==="phrase"?s="ph":i==="websearch"&&(s="w");const o=r===void 0?"":`(${r})`;return this.url.searchParams.append(e,`${s}fts${o}.${t}`),this}match(e){return Object.entries(e).forEach(([t,r])=>{this.url.searchParams.append(t,`eq.${r}`)}),this}not(e,t,r){return this.url.searchParams.append(e,`not.${t}.${r}`),this}or(e,{foreignTable:t,referencedTable:r=t}={}){const i=r?`${r}.or`:"or";return this.url.searchParams.append(i,`(${e})`),this}filter(e,t,r){return this.url.searchParams.append(e,`${t}.${r}`),this}}class hK{constructor(e,{headers:t={},schema:r,fetch:i}){this.url=e,this.headers=t,this.schema=r,this.fetch=i}select(e,{head:t=!1,count:r}={}){const i=t?"HEAD":"GET";let s=!1;const o=(e??"*").split("").map(a=>/\s/.test(a)&&!s?"":(a==='"'&&(s=!s),a)).join("");return this.url.searchParams.set("select",o),r&&(this.headers.Prefer=`count=${r}`),new Fc({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(e,{count:t,defaultToNull:r=!0}={}){const i="POST",s=[];if(this.headers.Prefer&&s.push(this.headers.Prefer),t&&s.push(`count=${t}`),r||s.push("missing=default"),this.headers.Prefer=s.join(","),Array.isArray(e)){const o=e.reduce((a,l)=>a.concat(Object.keys(l)),[]);if(o.length>0){const a=[...new Set(o)].map(l=>`"${l}"`);this.url.searchParams.set("columns",a.join(","))}}return new Fc({method:i,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}upsert(e,{onConflict:t,ignoreDuplicates:r=!1,count:i,defaultToNull:s=!0}={}){const o="POST",a=[`resolution=${r?"ignore":"merge"}-duplicates`];if(t!==void 0&&this.url.searchParams.set("on_conflict",t),this.headers.Prefer&&a.push(this.headers.Prefer),i&&a.push(`count=${i}`),s||a.push("missing=default"),this.headers.Prefer=a.join(","),Array.isArray(e)){const l=e.reduce((u,f)=>u.concat(Object.keys(f)),[]);if(l.length>0){const u=[...new Set(l)].map(f=>`"${f}"`);this.url.searchParams.set("columns",u.join(","))}}return new Fc({method:o,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}update(e,{count:t}={}){const r="PATCH",i=[];return this.headers.Prefer&&i.push(this.headers.Prefer),t&&i.push(`count=${t}`),this.headers.Prefer=i.join(","),new Fc({method:r,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}delete({count:e}={}){const t="DELETE",r=[];return e&&r.push(`count=${e}`),this.headers.Prefer&&r.unshift(this.headers.Prefer),this.headers.Prefer=r.join(","),new Fc({method:t,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}const pK="1.9.0",mK={"X-Client-Info":`postgrest-js/${pK}`};class FE{constructor(e,{headers:t={},schema:r,fetch:i}={}){this.url=e,this.headers=Object.assign(Object.assign({},mK),t),this.schemaName=r,this.fetch=i}from(e){const t=new URL(`${this.url}/${e}`);return new hK(t,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new FE(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,t={},{head:r=!1,count:i}={}){let s;const o=new URL(`${this.url}/rpc/${e}`);let a;r?(s="HEAD",Object.entries(t).forEach(([u,f])=>{o.searchParams.append(u,`${f}`)})):(s="POST",a=t);const l=Object.assign({},this.headers);return i&&(l.Prefer=`count=${i}`),new Fc({method:s,url:o,headers:l,schema:this.schemaName,body:a,fetch:this.fetch,allowEmpty:!1})}}const gK="2.9.0",vK={"X-Client-Info":`realtime-js/${gK}`},yK="1.0.0",MN=1e4,xK=1e3;var lf;(function(n){n[n.connecting=0]="connecting",n[n.open=1]="open",n[n.closing=2]="closing",n[n.closed=3]="closed"})(lf||(lf={}));var hi;(function(n){n.closed="closed",n.errored="errored",n.joined="joined",n.joining="joining",n.leaving="leaving"})(hi||(hi={}));var is;(function(n){n.close="phx_close",n.error="phx_error",n.join="phx_join",n.reply="phx_reply",n.leave="phx_leave",n.access_token="access_token"})(is||(is={}));var Kw;(function(n){n.websocket="websocket"})(Kw||(Kw={}));var ol;(function(n){n.Connecting="connecting",n.Open="open",n.Closing="closing",n.Closed="closed"})(ol||(ol={}));class TN{constructor(e,t){this.callback=e,this.timerCalc=t,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=t}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}class _K{constructor(){this.HEADER_LENGTH=1}decode(e,t){return e.constructor===ArrayBuffer?t(this._binaryDecode(e)):t(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const t=new DataView(e),r=new TextDecoder;return this._decodeBroadcast(e,t,r)}_decodeBroadcast(e,t,r){const i=t.getUint8(1),s=t.getUint8(2);let o=this.HEADER_LENGTH+2;const a=r.decode(e.slice(o,o+i));o=o+i;const l=r.decode(e.slice(o,o+s));o=o+s;const u=JSON.parse(r.decode(e.slice(o,e.byteLength)));return{ref:null,topic:a,event:l,payload:u}}}class O_{constructor(e,t,r={},i=MN){this.channel=e,this.event=t,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,t){var r;return this._hasReceived(e)&&t((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:t}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=t=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=t,this._matchReceive(t)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,t){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:t})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:t}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(t))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var OR;(function(n){n.SYNC="sync",n.JOIN="join",n.LEAVE="leave"})(OR||(OR={}));class cf{constructor(e,t){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(t==null?void 0:t.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},i=>{const{onJoin:s,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=cf.syncState(this.state,i,s,o),this.pendingDiffs.forEach(l=>{this.state=cf.syncDiff(this.state,l,s,o)}),this.pendingDiffs=[],a()}),this.channel._on(r.diff,{},i=>{const{onJoin:s,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=cf.syncDiff(this.state,i,s,o),a())}),this.onJoin((i,s,o)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:s,newPresences:o})}),this.onLeave((i,s,o)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:s,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,t,r,i){const s=this.cloneDeep(e),o=this.transformState(t),a={},l={};return this.map(s,(u,f)=>{o[u]||(l[u]=f)}),this.map(o,(u,f)=>{const h=s[u];if(h){const p=f.map(_=>_.presence_ref),g=h.map(_=>_.presence_ref),v=f.filter(_=>g.indexOf(_.presence_ref)<0),x=h.filter(_=>p.indexOf(_.presence_ref)<0);v.length>0&&(a[u]=v),x.length>0&&(l[u]=x)}else a[u]=f}),this.syncDiff(s,{joins:a,leaves:l},r,i)}static syncDiff(e,t,r,i){const{joins:s,leaves:o}={joins:this.transformState(t.joins),leaves:this.transformState(t.leaves)};return r||(r=()=>{}),i||(i=()=>{}),this.map(s,(a,l)=>{var u;const f=(u=e[a])!==null&&u!==void 0?u:[];if(e[a]=this.cloneDeep(l),f.length>0){const h=e[a].map(g=>g.presence_ref),p=f.filter(g=>h.indexOf(g.presence_ref)<0);e[a].unshift(...p)}r(a,f,l)}),this.map(o,(a,l)=>{let u=e[a];if(!u)return;const f=l.map(h=>h.presence_ref);u=u.filter(h=>f.indexOf(h.presence_ref)<0),e[a]=u,i(a,u,l),u.length===0&&delete e[a]}),e}static map(e,t){return Object.getOwnPropertyNames(e).map(r=>t(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((t,r)=>{const i=e[r];return"metas"in i?t[r]=i.metas.map(s=>(s.presence_ref=s.phx_ref,delete s.phx_ref,delete s.phx_ref_prev,s)):t[r]=i,t},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var rn;(function(n){n.abstime="abstime",n.bool="bool",n.date="date",n.daterange="daterange",n.float4="float4",n.float8="float8",n.int2="int2",n.int4="int4",n.int4range="int4range",n.int8="int8",n.int8range="int8range",n.json="json",n.jsonb="jsonb",n.money="money",n.numeric="numeric",n.oid="oid",n.reltime="reltime",n.text="text",n.time="time",n.timestamp="timestamp",n.timestamptz="timestamptz",n.timetz="timetz",n.tsrange="tsrange",n.tstzrange="tstzrange"})(rn||(rn={}));const kR=(n,e,t={})=>{var r;const i=(r=t.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(e).reduce((s,o)=>(s[o]=wK(o,n,e,i),s),{})},wK=(n,e,t,r)=>{const i=e.find(a=>a.name===n),s=i==null?void 0:i.type,o=t[n];return s&&!r.includes(s)?CN(s,o):Jw(o)},CN=(n,e)=>{if(n.charAt(0)==="_"){const t=n.slice(1,n.length);return MK(e,t)}switch(n){case rn.bool:return SK(e);case rn.float4:case rn.float8:case rn.int2:case rn.int4:case rn.int8:case rn.numeric:case rn.oid:return bK(e);case rn.json:case rn.jsonb:return EK(e);case rn.timestamp:return TK(e);case rn.abstime:case rn.date:case rn.daterange:case rn.int4range:case rn.int8range:case rn.money:case rn.reltime:case rn.text:case rn.time:case rn.timestamptz:case rn.timetz:case rn.tsrange:case rn.tstzrange:return Jw(e);default:return Jw(e)}},Jw=n=>n,SK=n=>{switch(n){case"t":return!0;case"f":return!1;default:return n}},bK=n=>{if(typeof n=="string"){const e=parseFloat(n);if(!Number.isNaN(e))return e}return n},EK=n=>{if(typeof n=="string")try{return JSON.parse(n)}catch(e){return console.log(`JSON parse error: ${e}`),n}return n},MK=(n,e)=>{if(typeof n!="string")return n;const t=n.length-1,r=n[t];if(n[0]==="{"&&r==="}"){let s;const o=n.slice(1,t);try{s=JSON.parse("["+o+"]")}catch{s=o?o.split(","):[]}return s.map(a=>CN(e,a))}return n},TK=n=>typeof n=="string"?n.replace(" ","T"):n;var IR;(function(n){n.ALL="*",n.INSERT="INSERT",n.UPDATE="UPDATE",n.DELETE="DELETE"})(IR||(IR={}));var NR;(function(n){n.BROADCAST="broadcast",n.PRESENCE="presence",n.POSTGRES_CHANGES="postgres_changes"})(NR||(NR={}));var DR;(function(n){n.SUBSCRIBED="SUBSCRIBED",n.TIMED_OUT="TIMED_OUT",n.CLOSED="CLOSED",n.CHANNEL_ERROR="CHANNEL_ERROR"})(DR||(DR={}));class zE{constructor(e,t={config:{}},r){this.topic=e,this.params=t,this.socket=r,this.bindings={},this.state=hi.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""}},t.config),this.timeout=this.socket.timeout,this.joinPush=new O_(this,is.join,this.params,this.timeout),this.rejoinTimer=new TN(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=hi.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=hi.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=hi.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=hi.errored,this.rejoinTimer.scheduleTimeout())}),this._on(is.reply,{},(i,s)=>{this._trigger(this._replyEventName(s),i)}),this.presence=new cf(this),this.broadcastEndpointURL=this._broadcastEndpointURL()}subscribe(e,t=this.timeout){var r,i;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:s,presence:o}}=this.params;this._onError(u=>e&&e("CHANNEL_ERROR",u)),this._onClose(()=>e&&e("CLOSED"));const a={},l={broadcast:s,presence:o,postgres_changes:(i=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(u=>u.filter))!==null&&i!==void 0?i:[]};this.socket.accessToken&&(a.access_token=this.socket.accessToken),this.updateJoinPayload(Object.assign({config:l},a)),this.joinedOnce=!0,this._rejoin(t),this.joinPush.receive("ok",({postgres_changes:u})=>{var f;if(this.socket.accessToken&&this.socket.setAuth(this.socket.accessToken),u===void 0){e&&e("SUBSCRIBED");return}else{const h=this.bindings.postgres_changes,p=(f=h==null?void 0:h.length)!==null&&f!==void 0?f:0,g=[];for(let v=0;v<p;v++){const x=h[v],{filter:{event:_,schema:m,table:w,filter:S}}=x,M=u&&u[v];if(M&&M.event===_&&M.schema===m&&M.table===w&&M.filter===S)g.push(Object.assign(Object.assign({},x),{id:M.id}));else{this.unsubscribe(),e&&e("CHANNEL_ERROR",new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=g,e&&e("SUBSCRIBED");return}}).receive("error",u=>{e&&e("CHANNEL_ERROR",new Error(JSON.stringify(Object.values(u).join(", ")||"error")))}).receive("timeout",()=>{e&&e("TIMED_OUT")})}return this}presenceState(){return this.presence.state}async track(e,t={}){return await this.send({type:"presence",event:"track",payload:e},t.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,t,r){return this._on(e,t,r)}async send(e,t={}){var r,i;if(!this._canPush()&&e.type==="broadcast"){const{event:s,payload:o}=e,a={method:"POST",headers:{apikey:(r=this.socket.accessToken)!==null&&r!==void 0?r:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:o}]})};try{return(await this._fetchWithTimeout(this.broadcastEndpointURL,a,(i=t.timeout)!==null&&i!==void 0?i:this.timeout)).ok?"ok":"error"}catch(l){return l.name==="AbortError"?"timed out":"error"}}else return new Promise(s=>{var o,a,l;const u=this._push(e.type,e,t.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&s("ok"),u.receive("ok",()=>s("ok")),u.receive("timeout",()=>s("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=hi.leaving;const t=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(is.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(r=>{const i=new O_(this,is.leave,{},e);i.receive("ok",()=>{t(),r("ok")}).receive("timeout",()=>{t(),r("timed out")}).receive("error",()=>{r("error")}),i.send(),this._canPush()||i.trigger("ok",{})})}_broadcastEndpointURL(){let e=this.socket.endPoint;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")+"/api/broadcast"}async _fetchWithTimeout(e,t,r){const i=new AbortController,s=setTimeout(()=>i.abort(),r),o=await this.socket.fetch(e,Object.assign(Object.assign({},t),{signal:i.signal}));return clearTimeout(s),o}_push(e,t,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new O_(this,e,t,r);return this._canPush()?i.send():(i.startTimeout(),this.pushBuffer.push(i)),i}_onMessage(e,t,r){return t}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,t,r){var i,s;const o=e.toLocaleLowerCase(),{close:a,error:l,leave:u,join:f}=is;if(r&&[a,l,u,f].indexOf(o)>=0&&r!==this._joinRef())return;let p=this._onMessage(o,t,r);if(t&&!p)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(g=>{var v,x,_;return((v=g.filter)===null||v===void 0?void 0:v.event)==="*"||((_=(x=g.filter)===null||x===void 0?void 0:x.event)===null||_===void 0?void 0:_.toLocaleLowerCase())===o}).map(g=>g.callback(p,r)):(s=this.bindings[o])===null||s===void 0||s.filter(g=>{var v,x,_,m,w,S;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in g){const M=g.id,R=(v=g.filter)===null||v===void 0?void 0:v.event;return M&&((x=t.ids)===null||x===void 0?void 0:x.includes(M))&&(R==="*"||(R==null?void 0:R.toLocaleLowerCase())===((_=t.data)===null||_===void 0?void 0:_.type.toLocaleLowerCase()))}else{const M=(w=(m=g==null?void 0:g.filter)===null||m===void 0?void 0:m.event)===null||w===void 0?void 0:w.toLocaleLowerCase();return M==="*"||M===((S=t==null?void 0:t.event)===null||S===void 0?void 0:S.toLocaleLowerCase())}else return g.type.toLocaleLowerCase()===o}).map(g=>{if(typeof p=="object"&&"ids"in p){const v=p.data,{schema:x,table:_,commit_timestamp:m,type:w,errors:S}=v;p=Object.assign(Object.assign({},{schema:x,table:_,commit_timestamp:m,eventType:w,new:{},old:{},errors:S}),this._getPayloadRecords(v))}g.callback(p,r)})}_isClosed(){return this.state===hi.closed}_isJoined(){return this.state===hi.joined}_isJoining(){return this.state===hi.joining}_isLeaving(){return this.state===hi.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,t,r){const i=e.toLocaleLowerCase(),s={type:i,filter:t,callback:r};return this.bindings[i]?this.bindings[i].push(s):this.bindings[i]=[s],this}_off(e,t){const r=e.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(i=>{var s;return!(((s=i.type)===null||s===void 0?void 0:s.toLocaleLowerCase())===r&&zE.isEqual(i.filter,t))}),this}static isEqual(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(is.close,{},e)}_onError(e){this._on(is.error,{},t=>e(t))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=hi.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const t={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(t.new=kR(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(t.old=kR(e.columns,e.old_record)),t}}const CK=()=>{},AN=typeof WebSocket<"u",AK=AN?WebSocket:require("ws");class RK{constructor(e,t){var r;this.accessToken=null,this.channels=[],this.endPoint="",this.headers=vK,this.params={},this.timeout=MN,this.transport=AK,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=CK,this.conn=null,this.sendBuffer=[],this.serializer=new _K,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this._resolveFetch=s=>{let o;return s?o=s:typeof fetch>"u"?o=(...a)=>Lh(()=>Promise.resolve().then(()=>Oh),void 0).then(({default:l})=>l(...a)):o=fetch,(...a)=>o(...a)},this.endPoint=`${e}/${Kw.websocket}`,t!=null&&t.params&&(this.params=t.params),t!=null&&t.headers&&(this.headers=Object.assign(Object.assign({},this.headers),t.headers)),t!=null&&t.timeout&&(this.timeout=t.timeout),t!=null&&t.logger&&(this.logger=t.logger),t!=null&&t.transport&&(this.transport=t.transport),t!=null&&t.heartbeatIntervalMs&&(this.heartbeatIntervalMs=t.heartbeatIntervalMs);const i=(r=t==null?void 0:t.params)===null||r===void 0?void 0:r.apikey;i&&(this.accessToken=i),this.reconnectAfterMs=t!=null&&t.reconnectAfterMs?t.reconnectAfterMs:s=>[1e3,2e3,5e3,1e4][s-1]||1e4,this.encode=t!=null&&t.encode?t.encode:(s,o)=>o(JSON.stringify(s)),this.decode=t!=null&&t.decode?t.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new TN(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(t==null?void 0:t.fetch)}connect(){this.conn||(AN?this.conn=new this.transport(this._endPointURL()):this.conn=new this.transport(this._endPointURL(),void 0,{headers:this.headers}),this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e)))}disconnect(e,t){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,t??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(e){const t=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),t}async removeAllChannels(){const e=await Promise.all(this.channels.map(t=>t.unsubscribe()));return this.disconnect(),e}log(e,t,r){this.logger(e,t,r)}connectionState(){switch(this.conn&&this.conn.readyState){case lf.connecting:return ol.Connecting;case lf.open:return ol.Open;case lf.closing:return ol.Closing;default:return ol.Closed}}isConnected(){return this.connectionState()===ol.Open}channel(e,t={config:{}}){const r=new zE(`realtime:${e}`,t,this);return this.channels.push(r),r}push(e){const{topic:t,event:r,payload:i,ref:s}=e,o=()=>{this.encode(e,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${t} ${r} (${s})`,i),this.isConnected()?o():this.sendBuffer.push(o)}setAuth(e){this.accessToken=e,this.channels.forEach(t=>{e&&t.updateJoinPayload({access_token:e}),t.joinedOnce&&t._isJoined()&&t._push(is.access_token,{access_token:e})})}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let t=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));t&&(this.log("transport",`leaving duplicate topic "${e}"`),t.unsubscribe())}_remove(e){this.channels=this.channels.filter(t=>t._joinRef()!==e._joinRef())}_endPointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:yK}))}_onConnMessage(e){this.decode(e.data,t=>{let{topic:r,event:i,payload:s,ref:o}=t;(o&&o===this.pendingHeartbeatRef||i===(s==null?void 0:s.type))&&(this.pendingHeartbeatRef=null),this.log("receive",`${s.status||""} ${r} ${i} ${o&&"("+o+")"||""}`,s),this.channels.filter(a=>a._isMember(r)).forEach(a=>a._trigger(i,s,o)),this.stateChangeCallbacks.message.forEach(a=>a(t))})}_onConnOpen(){this.log("transport",`connected to ${this._endPointURL()}`),this._flushSendBuffer(),this.reconnectTimer.reset(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this._sendHeartbeat(),this.heartbeatIntervalMs),this.stateChangeCallbacks.open.forEach(e=>e())}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(t=>t(e))}_onConnError(e){this.log("transport",e.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(t=>t(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(is.error))}_appendParams(e,t){if(Object.keys(t).length===0)return e;const r=e.match(/\?/)?"&":"?",i=new URLSearchParams(t);return`${e}${r}${i}`}_flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_sendHeartbeat(){var e;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(e=this.conn)===null||e===void 0||e.close(xK,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth(this.accessToken)}}}class BE extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function Tr(n){return typeof n=="object"&&n!==null&&"__isStorageError"in n}class PK extends BE{constructor(e,t){super(e),this.name="StorageApiError",this.status=t}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class UR extends BE{constructor(e,t){super(e),this.name="StorageUnknownError",this.originalError=t}}var LK=globalThis&&globalThis.__awaiter||function(n,e,t,r){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(f){try{u(r.next(f))}catch(h){o(h)}}function l(f){try{u(r.throw(f))}catch(h){o(h)}}function u(f){f.done?s(f.value):i(f.value).then(a,l)}u((r=r.apply(n,e||[])).next())})};const RN=n=>{let e;return n?e=n:typeof fetch>"u"?e=(...t)=>Lh(()=>Promise.resolve().then(()=>Oh),void 0).then(({default:r})=>r(...t)):e=fetch,(...t)=>e(...t)},OK=()=>LK(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Lh(()=>Promise.resolve().then(()=>Oh),void 0)).Response:Response});var Hu=globalThis&&globalThis.__awaiter||function(n,e,t,r){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(f){try{u(r.next(f))}catch(h){o(h)}}function l(f){try{u(r.throw(f))}catch(h){o(h)}}function u(f){f.done?s(f.value):i(f.value).then(a,l)}u((r=r.apply(n,e||[])).next())})};const k_=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n),kK=(n,e)=>Hu(void 0,void 0,void 0,function*(){const t=yield OK();n instanceof t?n.json().then(r=>{e(new PK(k_(r),n.status||500))}).catch(r=>{e(new UR(k_(r),r))}):e(new UR(k_(n),n))}),IK=(n,e,t,r)=>{const i={method:n,headers:(e==null?void 0:e.headers)||{}};return n==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),t))};function Xv(n,e,t,r,i,s){return Hu(this,void 0,void 0,function*(){return new Promise((o,a)=>{n(t,IK(e,r,i,s)).then(l=>{if(!l.ok)throw l;return r!=null&&r.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>kK(l,a))})})}function Zw(n,e,t,r){return Hu(this,void 0,void 0,function*(){return Xv(n,"GET",e,t,r)})}function Jo(n,e,t,r,i){return Hu(this,void 0,void 0,function*(){return Xv(n,"POST",e,r,i,t)})}function NK(n,e,t,r,i){return Hu(this,void 0,void 0,function*(){return Xv(n,"PUT",e,r,i,t)})}function PN(n,e,t,r,i){return Hu(this,void 0,void 0,function*(){return Xv(n,"DELETE",e,r,i,t)})}var Di=globalThis&&globalThis.__awaiter||function(n,e,t,r){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(f){try{u(r.next(f))}catch(h){o(h)}}function l(f){try{u(r.throw(f))}catch(h){o(h)}}function u(f){f.done?s(f.value):i(f.value).then(a,l)}u((r=r.apply(n,e||[])).next())})};const DK={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},FR={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class UK{constructor(e,t={},r,i){this.url=e,this.headers=t,this.bucketId=r,this.fetch=RN(i)}uploadOrUpdate(e,t,r,i){return Di(this,void 0,void 0,function*(){try{let s;const o=Object.assign(Object.assign({},FR),i),a=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});typeof Blob<"u"&&r instanceof Blob?(s=new FormData,s.append("cacheControl",o.cacheControl),s.append("",r)):typeof FormData<"u"&&r instanceof FormData?(s=r,s.append("cacheControl",o.cacheControl)):(s=r,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType);const l=this._removeEmptyFolders(t),u=this._getFinalPath(l),f=yield this.fetch(`${this.url}/object/${u}`,Object.assign({method:e,body:s,headers:a},o!=null&&o.duplex?{duplex:o.duplex}:{})),h=yield f.json();return f.ok?{data:{path:l,id:h.Id,fullPath:h.Key},error:null}:{data:null,error:h}}catch(s){if(Tr(s))return{data:null,error:s};throw s}})}upload(e,t,r){return Di(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,t,r)})}uploadToSignedUrl(e,t,r,i){return Di(this,void 0,void 0,function*(){const s=this._removeEmptyFolders(e),o=this._getFinalPath(s),a=new URL(this.url+`/object/upload/sign/${o}`);a.searchParams.set("token",t);try{let l;const u=Object.assign({upsert:FR.upsert},i),f=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.append("cacheControl",u.cacheControl)):(l=r,f["cache-control"]=`max-age=${u.cacheControl}`,f["content-type"]=u.contentType);const h=yield this.fetch(a.toString(),{method:"PUT",body:l,headers:f}),p=yield h.json();return h.ok?{data:{path:s,fullPath:p.Key},error:null}:{data:null,error:p}}catch(l){if(Tr(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(e){return Di(this,void 0,void 0,function*(){try{let t=this._getFinalPath(e);const r=yield Jo(this.fetch,`${this.url}/object/upload/sign/${t}`,{},{headers:this.headers}),i=new URL(this.url+r.url),s=i.searchParams.get("token");if(!s)throw new BE("No token returned by API");return{data:{signedUrl:i.toString(),path:e,token:s},error:null}}catch(t){if(Tr(t))return{data:null,error:t};throw t}})}update(e,t,r){return Di(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,t,r)})}move(e,t){return Di(this,void 0,void 0,function*(){try{return{data:yield Jo(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t},{headers:this.headers}),error:null}}catch(r){if(Tr(r))return{data:null,error:r};throw r}})}copy(e,t){return Di(this,void 0,void 0,function*(){try{return{data:{path:(yield Jo(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t},{headers:this.headers})).Key},error:null}}catch(r){if(Tr(r))return{data:null,error:r};throw r}})}createSignedUrl(e,t,r){return Di(this,void 0,void 0,function*(){try{let i=this._getFinalPath(e),s=yield Jo(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:t},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return s={signedUrl:encodeURI(`${this.url}${s.signedURL}${o}`)},{data:s,error:null}}catch(i){if(Tr(i))return{data:null,error:i};throw i}})}createSignedUrls(e,t,r){return Di(this,void 0,void 0,function*(){try{const i=yield Jo(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:t,paths:e},{headers:this.headers}),s=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:i.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${s}`):null})),error:null}}catch(i){if(Tr(i))return{data:null,error:i};throw i}})}download(e,t){return Di(this,void 0,void 0,function*(){const i=typeof(t==null?void 0:t.transform)<"u"?"render/image/authenticated":"object",s=this.transformOptsToQueryString((t==null?void 0:t.transform)||{}),o=s?`?${s}`:"";try{const a=this._getFinalPath(e);return{data:yield(yield Zw(this.fetch,`${this.url}/${i}/${a}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(Tr(a))return{data:null,error:a};throw a}})}getPublicUrl(e,t){const r=this._getFinalPath(e),i=[],s=t!=null&&t.download?`download=${t.download===!0?"":t.download}`:"";s!==""&&i.push(s);const a=typeof(t==null?void 0:t.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((t==null?void 0:t.transform)||{});l!==""&&i.push(l);let u=i.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${r}${u}`)}}}remove(e){return Di(this,void 0,void 0,function*(){try{return{data:yield PN(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(t){if(Tr(t))return{data:null,error:t};throw t}})}list(e,t,r){return Di(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},DK),t),{prefix:e||""});return{data:yield Jo(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},r),error:null}}catch(i){if(Tr(i))return{data:null,error:i};throw i}})}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}}const FK="2.5.5",zK={"X-Client-Info":`storage-js/${FK}`};var Pc=globalThis&&globalThis.__awaiter||function(n,e,t,r){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(f){try{u(r.next(f))}catch(h){o(h)}}function l(f){try{u(r.throw(f))}catch(h){o(h)}}function u(f){f.done?s(f.value):i(f.value).then(a,l)}u((r=r.apply(n,e||[])).next())})};class BK{constructor(e,t={},r){this.url=e,this.headers=Object.assign(Object.assign({},zK),t),this.fetch=RN(r)}listBuckets(){return Pc(this,void 0,void 0,function*(){try{return{data:yield Zw(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(Tr(e))return{data:null,error:e};throw e}})}getBucket(e){return Pc(this,void 0,void 0,function*(){try{return{data:yield Zw(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(t){if(Tr(t))return{data:null,error:t};throw t}})}createBucket(e,t={public:!1}){return Pc(this,void 0,void 0,function*(){try{return{data:yield Jo(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(Tr(r))return{data:null,error:r};throw r}})}updateBucket(e,t){return Pc(this,void 0,void 0,function*(){try{return{data:yield NK(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(Tr(r))return{data:null,error:r};throw r}})}emptyBucket(e){return Pc(this,void 0,void 0,function*(){try{return{data:yield Jo(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(t){if(Tr(t))return{data:null,error:t};throw t}})}deleteBucket(e){return Pc(this,void 0,void 0,function*(){try{return{data:yield PN(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(t){if(Tr(t))return{data:null,error:t};throw t}})}}class jK extends BK{constructor(e,t={},r){super(e,t,r)}from(e){return new UK(this.url,this.headers,e,this.fetch)}}const HK="2.39.0";let Wd="";typeof Deno<"u"?Wd="deno":typeof document<"u"?Wd="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Wd="react-native":Wd="node";const VK={"X-Client-Info":`supabase-js-${Wd}/${HK}`};var WK=globalThis&&globalThis.__awaiter||function(n,e,t,r){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(f){try{u(r.next(f))}catch(h){o(h)}}function l(f){try{u(r.throw(f))}catch(h){o(h)}}function u(f){f.done?s(f.value):i(f.value).then(a,l)}u((r=r.apply(n,e||[])).next())})};const GK=n=>{let e;return n?e=n:typeof fetch>"u"?e=UE:e=fetch,(...t)=>e(...t)},$K=()=>typeof Headers>"u"?EN:Headers,XK=(n,e,t)=>{const r=GK(t),i=$K();return(s,o)=>WK(void 0,void 0,void 0,function*(){var a;const l=(a=yield e())!==null&&a!==void 0?a:n;let u=new i(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",n),u.has("Authorization")||u.set("Authorization",`Bearer ${l}`),r(s,Object.assign(Object.assign({},o),{headers:u}))})};function qK(n){return n.replace(/\/$/,"")}function YK(n,e){const{db:t,auth:r,realtime:i,global:s}=n,{db:o,auth:a,realtime:l,global:u}=e;return{db:Object.assign(Object.assign({},o),t),auth:Object.assign(Object.assign({},a),r),realtime:Object.assign(Object.assign({},l),i),global:Object.assign(Object.assign({},u),s)}}function KK(n){return Math.round(Date.now()/1e3)+n}function JK(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(n){const e=Math.random()*16|0;return(n=="x"?e:e&3|8).toString(16)})}const co=()=>typeof document<"u",Ya={tested:!1,writable:!1},uf=()=>{if(!co())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Ya.tested)return Ya.writable;const n=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(n,n),globalThis.localStorage.removeItem(n),Ya.tested=!0,Ya.writable=!0}catch{Ya.tested=!0,Ya.writable=!1}return Ya.writable};function I_(n){const e={},t=new URL(n);if(t.hash&&t.hash[0]==="#")try{new URLSearchParams(t.hash.substring(1)).forEach((i,s)=>{e[s]=i})}catch{}return t.searchParams.forEach((r,i)=>{e[i]=r}),e}const LN=n=>{let e;return n?e=n:typeof fetch>"u"?e=(...t)=>Lh(()=>Promise.resolve().then(()=>Oh),void 0).then(({default:r})=>r(...t)):e=fetch,(...t)=>e(...t)},ZK=n=>typeof n=="object"&&n!==null&&"status"in n&&"ok"in n&&"json"in n&&typeof n.json=="function",Ka=async(n,e,t)=>{await n.setItem(e,JSON.stringify(t))},Hm=async(n,e)=>{const t=await n.getItem(e);if(!t)return null;try{return JSON.parse(t)}catch{return t}},N_=async(n,e)=>{await n.removeItem(e)};function QK(n){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let t="",r,i,s,o,a,l,u,f=0;for(n=n.replace("-","+").replace("_","/");f<n.length;)o=e.indexOf(n.charAt(f++)),a=e.indexOf(n.charAt(f++)),l=e.indexOf(n.charAt(f++)),u=e.indexOf(n.charAt(f++)),r=o<<2|a>>4,i=(a&15)<<4|l>>2,s=(l&3)<<6|u,t=t+String.fromCharCode(r),l!=64&&i!=0&&(t=t+String.fromCharCode(i)),u!=64&&s!=0&&(t=t+String.fromCharCode(s));return t}class qv{constructor(){this.promise=new qv.promiseConstructor((e,t)=>{this.resolve=e,this.reject=t})}}qv.promiseConstructor=Promise;function zR(n){const e=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}=?$|[a-z0-9_-]{2}(==)?$)$/i,t=n.split(".");if(t.length!==3)throw new Error("JWT is not valid: not a JWT structure");if(!e.test(t[1]))throw new Error("JWT is not valid: payload is not in base64url format");const r=t[1];return JSON.parse(QK(r))}async function eJ(n){return await new Promise(e=>{setTimeout(()=>e(null),n)})}function tJ(n,e){return new Promise((r,i)=>{(async()=>{for(let s=0;s<1/0;s++)try{const o=await n(s);if(!e(s,null,o)){r(o);return}}catch(o){if(!e(s,o)){i(o);return}}})()})}function nJ(n){return("0"+n.toString(16)).substr(-2)}function Lc(){const e=new Uint32Array(56);if(typeof crypto>"u"){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=t.length;let i="";for(let s=0;s<56;s++)i+=t.charAt(Math.floor(Math.random()*r));return i}return crypto.getRandomValues(e),Array.from(e,nJ).join("")}async function rJ(n){const t=new TextEncoder().encode(n),r=await crypto.subtle.digest("SHA-256",t),i=new Uint8Array(r);return Array.from(i).map(s=>String.fromCharCode(s)).join("")}function iJ(n){return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Oc(n){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),n;const t=await rJ(n);return iJ(t)}class jE extends Error{constructor(e,t){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=t}}function It(n){return typeof n=="object"&&n!==null&&"__isAuthError"in n}class sJ extends jE{constructor(e,t){super(e,t),this.name="AuthApiError",this.status=t}toJSON(){return{name:this.name,message:this.message,status:this.status}}}function oJ(n){return It(n)&&n.name==="AuthApiError"}class ON extends jE{constructor(e,t){super(e),this.name="AuthUnknownError",this.originalError=t}}class Vu extends jE{constructor(e,t,r){super(e),this.name=t,this.status=r}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class kc extends Vu{constructor(){super("Auth session missing!","AuthSessionMissingError",400)}}class D_ extends Vu{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500)}}class Vm extends Vu{constructor(e){super(e,"AuthInvalidCredentialsError",400)}}class Wm extends Vu{constructor(e,t=null){super(e,"AuthImplicitGrantRedirectError",500),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class BR extends Vu{constructor(e,t=null){super(e,"AuthPKCEGrantCodeExchangeError",500),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Qw extends Vu{constructor(e,t){super(e,"AuthRetryableFetchError",t)}}function U_(n){return It(n)&&n.name==="AuthRetryableFetchError"}var aJ=globalThis&&globalThis.__rest||function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t};const Gd=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n),lJ=[502,503,504];async function jR(n){if(!ZK(n))throw new Qw(Gd(n),0);if(lJ.includes(n.status))throw new Qw(Gd(n),n.status);let e;try{e=await n.json()}catch(t){throw new ON(Gd(t),t)}throw new sJ(Gd(e),n.status||500)}const cJ=(n,e,t,r)=>{const i={method:n,headers:(e==null?void 0:e.headers)||{}};return n==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),t))};async function Ht(n,e,t,r){var i;const s=Object.assign({},r==null?void 0:r.headers);r!=null&&r.jwt&&(s.Authorization=`Bearer ${r.jwt}`);const o=(i=r==null?void 0:r.query)!==null&&i!==void 0?i:{};r!=null&&r.redirectTo&&(o.redirect_to=r.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await uJ(n,e,t+a,{headers:s,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(l):{data:Object.assign({},l),error:null}}async function uJ(n,e,t,r,i,s){const o=cJ(e,r,i,s);let a;try{a=await n(t,o)}catch(l){throw console.error(l),new Qw(Gd(l),0)}if(a.ok||await jR(a),r!=null&&r.noResolveJson)return a;try{return await a.json()}catch(l){await jR(l)}}function Xo(n){var e;let t=null;pJ(n)&&(t=Object.assign({},n),n.expires_at||(t.expires_at=KK(n.expires_in)));const r=(e=n.user)!==null&&e!==void 0?e:n;return{data:{session:t,user:r},error:null}}function na(n){var e;return{data:{user:(e=n.user)!==null&&e!==void 0?e:n},error:null}}function dJ(n){return{data:n,error:null}}function fJ(n){const{action_link:e,email_otp:t,hashed_token:r,redirect_to:i,verification_type:s}=n,o=aJ(n,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:e,email_otp:t,hashed_token:r,redirect_to:i,verification_type:s},l=Object.assign({},o);return{data:{properties:a,user:l},error:null}}function hJ(n){return n}function pJ(n){return n.access_token&&n.refresh_token&&n.expires_in}var mJ=globalThis&&globalThis.__rest||function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t};class gJ{constructor({url:e="",headers:t={},fetch:r}){this.url=e,this.headers=t,this.fetch=LN(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,t="global"){try{return await Ht(this.fetch,"POST",`${this.url}/logout?scope=${t}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(It(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,t={}){try{return await Ht(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:t.data},headers:this.headers,redirectTo:t.redirectTo,xform:na})}catch(r){if(It(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:t}=e,r=mJ(e,["options"]),i=Object.assign(Object.assign({},r),t);return"newEmail"in r&&(i.new_email=r==null?void 0:r.newEmail,delete i.newEmail),await Ht(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:fJ,redirectTo:t==null?void 0:t.redirectTo})}catch(t){if(It(t))return{data:{properties:null,user:null},error:t};throw t}}async createUser(e){try{return await Ht(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:na})}catch(t){if(It(t))return{data:{user:null},error:t};throw t}}async listUsers(e){var t,r,i,s,o,a,l;try{const u={nextPage:null,lastPage:0,total:0},f=await Ht(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(t=e==null?void 0:e.page)===null||t===void 0?void 0:t.toString())!==null&&r!==void 0?r:"",per_page:(s=(i=e==null?void 0:e.perPage)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:""},xform:hJ});if(f.error)throw f.error;const h=await f.json(),p=(o=f.headers.get("x-total-count"))!==null&&o!==void 0?o:0,g=(l=(a=f.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return g.length>0&&(g.forEach(v=>{const x=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),_=JSON.parse(v.split(";")[1].split("=")[1]);u[`${_}Page`]=x}),u.total=parseInt(p)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if(It(u))return{data:{users:[]},error:u};throw u}}async getUserById(e){try{return await Ht(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:na})}catch(t){if(It(t))return{data:{user:null},error:t};throw t}}async updateUserById(e,t){try{return await Ht(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:t,headers:this.headers,xform:na})}catch(r){if(It(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,t=!1){try{return await Ht(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:t},xform:na})}catch(r){if(It(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){try{const{data:t,error:r}=await Ht(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:t,error:r}}catch(t){if(It(t))return{data:null,error:t};throw t}}async _deleteFactor(e){try{return{data:await Ht(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(t){if(It(t))return{data:null,error:t};throw t}}}const kN="2.58.0",vJ="http://localhost:9999",yJ="supabase.auth.token",xJ={"X-Client-Info":`gotrue-js/${kN}`},HR=10,_J={getItem:n=>uf()?globalThis.localStorage.getItem(n):null,setItem:(n,e)=>{uf()&&globalThis.localStorage.setItem(n,e)},removeItem:n=>{uf()&&globalThis.localStorage.removeItem(n)}};function VR(n={}){return{getItem:e=>n[e]||null,setItem:(e,t)=>{n[e]=t},removeItem:e=>{delete n[e]}}}function wJ(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}globalThis&&uf()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug");class SJ extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}wJ();const bJ={url:vJ,storageKey:yJ,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:xJ,flowType:"implicit",debug:!1},Id=30*1e3,WR=3;async function EJ(n,e,t){return await t()}class rh{constructor(e){var t;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=rh.nextInstanceID,rh.nextInstanceID+=1,this.instanceID>0&&co()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const r=Object.assign(Object.assign({},bJ),e);if(this.logDebugMessages=!!r.debug,typeof r.debug=="function"&&(this.logger=r.debug),this.persistSession=r.persistSession,this.storageKey=r.storageKey,this.autoRefreshToken=r.autoRefreshToken,this.admin=new gJ({url:r.url,headers:r.headers,fetch:r.fetch}),this.url=r.url,this.headers=r.headers,this.fetch=LN(r.fetch),this.lock=r.lock||EJ,this.detectSessionInUrl=r.detectSessionInUrl,this.flowType=r.flowType,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?r.storage?this.storage=r.storage:uf()?this.storage=_J:(this.memoryStorage={},this.storage=VR(this.memoryStorage)):(this.memoryStorage={},this.storage=VR(this.memoryStorage)),co()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(t=this.broadcastChannel)===null||t===void 0||t.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${kN}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){try{const e=co()?await this._isPKCEFlow():!1;if(this._debug("#_initialize()","begin","is PKCE flow",e),e||this.detectSessionInUrl&&this._isImplicitGrantFlow()){const{data:t,error:r}=await this._getSessionFromURL(e);if(r)return this._debug("#_initialize()","error detecting session from URL",r),await this._removeSession(),{error:r};const{session:i,redirectType:s}=t;return this._debug("#_initialize()","detected session in URL",i,"redirect type",s),await this._saveSession(i),setTimeout(async()=>{s==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",i):await this._notifyAllSubscribers("SIGNED_IN",i)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(e){return It(e)?{error:e}:{error:new ON("Unexpected error during initialization",e)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signUp(e){var t,r,i;try{await this._removeSession();let s;if("email"in e){const{email:f,password:h,options:p}=e;let g=null,v=null;if(this.flowType==="pkce"){const x=Lc();await Ka(this.storage,`${this.storageKey}-code-verifier`,x),g=await Oc(x),v=x===g?"plain":"s256"}s=await Ht(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:p==null?void 0:p.emailRedirectTo,body:{email:f,password:h,data:(t=p==null?void 0:p.data)!==null&&t!==void 0?t:{},gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken},code_challenge:g,code_challenge_method:v},xform:Xo})}else if("phone"in e){const{phone:f,password:h,options:p}=e;s=await Ht(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:f,password:h,data:(r=p==null?void 0:p.data)!==null&&r!==void 0?r:{},channel:(i=p==null?void 0:p.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken}},xform:Xo})}else throw new Vm("You must provide either an email or phone number and a password");const{data:o,error:a}=s;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(s){if(It(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithPassword(e){try{await this._removeSession();let t;if("email"in e){const{email:s,password:o,options:a}=e;t=await Ht(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Xo})}else if("phone"in e){const{phone:s,password:o,options:a}=e;t=await Ht(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Xo})}else throw new Vm("You must provide either an email or phone number and a password");const{data:r,error:i}=t;return i?{data:{user:null,session:null},error:i}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new D_}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:{user:r.user,session:r.session},error:i})}catch(t){if(It(t))return{data:{user:null,session:null},error:t};throw t}}async signInWithOAuth(e){var t,r,i,s;return await this._removeSession(),await this._handleProviderSignIn(e.provider,{redirectTo:(t=e.options)===null||t===void 0?void 0:t.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(i=e.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(s=e.options)===null||s===void 0?void 0:s.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async _exchangeCodeForSession(e){const[t,r]=(await Hm(this.storage,`${this.storageKey}-code-verifier`)).split("/"),{data:i,error:s}=await Ht(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:t},xform:Xo});return await N_(this.storage,`${this.storageKey}-code-verifier`),s?{data:{user:null,session:null,redirectType:null},error:s}:!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new D_}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:r??null}),error:s})}async signInWithIdToken(e){await this._removeSession();try{const{options:t,provider:r,token:i,access_token:s,nonce:o}=e,a=await Ht(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:i,access_token:s,nonce:o,gotrue_meta_security:{captcha_token:t==null?void 0:t.captchaToken}},xform:Xo}),{data:l,error:u}=a;return u?{data:{user:null,session:null},error:u}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new D_}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:u})}catch(t){if(It(t))return{data:{user:null,session:null},error:t};throw t}}async signInWithOtp(e){var t,r,i,s,o;try{if(await this._removeSession(),"email"in e){const{email:a,options:l}=e;let u=null,f=null;if(this.flowType==="pkce"){const p=Lc();await Ka(this.storage,`${this.storageKey}-code-verifier`,p),u=await Oc(p),f=p===u?"plain":"s256"}const{error:h}=await Ht(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(t=l==null?void 0:l.data)!==null&&t!==void 0?t:{},create_user:(r=l==null?void 0:l.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:u,code_challenge_method:f},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in e){const{phone:a,options:l}=e,{data:u,error:f}=await Ht(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(i=l==null?void 0:l.data)!==null&&i!==void 0?i:{},create_user:(s=l==null?void 0:l.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(o=l==null?void 0:l.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:f}}throw new Vm("You must provide either an email or phone number.")}catch(a){if(It(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(e){var t,r;try{e.type!=="email_change"&&e.type!=="phone_change"&&await this._removeSession();let i,s;"options"in e&&(i=(t=e.options)===null||t===void 0?void 0:t.redirectTo,s=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:a}=await Ht(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:s}}),redirectTo:i,xform:Xo});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,u=o.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(i){if(It(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithSSO(e){var t,r,i;try{await this._removeSession();let s=null,o=null;if(this.flowType==="pkce"){const a=Lc();await Ka(this.storage,`${this.storageKey}-code-verifier`,a),s=await Oc(a),o=a===s?"plain":"s256"}return await Ht(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(t=e.options)===null||t===void 0?void 0:t.redirectTo)!==null&&r!==void 0?r:void 0}),!((i=e==null?void 0:e.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:s,code_challenge_method:o}),headers:this.headers,xform:dJ})}catch(s){if(It(s))return{data:null,error:s};throw s}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:t},error:r}=e;if(r)throw r;if(!t)throw new kc;const{error:i}=await Ht(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:t.access_token});return{data:{user:null,session:null},error:i}})}catch(e){if(It(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{e.type!="email_change"&&e.type!="phone_change"&&await this._removeSession();const t=`${this.url}/resend`;if("email"in e){const{email:r,type:i,options:s}=e,{error:o}=await Ht(this.fetch,"POST",t,{headers:this.headers,body:{email:r,type:i,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},redirectTo:s==null?void 0:s.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in e){const{phone:r,type:i,options:s}=e,{data:o,error:a}=await Ht(this.fetch,"POST",t,{headers:this.headers,body:{phone:r,type:i,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:a}}throw new Vm("You must provide either an email or phone number and a type")}catch(t){if(It(t))return{data:{user:null,session:null},error:t};throw t}}async getSession(){return await this.initializePromise,this._acquireLock(-1,async()=>this._useSession(async e=>e))}async _acquireLock(e,t){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await r,await t()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=t();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const t=await this.__loadSession();return await e(t)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const t=await Hm(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",t),t!==null&&(this._isValidSession(t)?e=t:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at<=Date.now()/1e3:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r)return{data:{session:e},error:null};const{session:i,error:s}=await this._callRefreshToken(e.refresh_token);return s?{data:{session:null},error:s}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await Ht(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:na}):await this._useSession(async t=>{var r,i;const{data:s,error:o}=t;if(o)throw o;return await Ht(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(r=s.session)===null||r===void 0?void 0:r.access_token)!==null&&i!==void 0?i:void 0,xform:na})})}catch(t){if(It(t))return{data:{user:null},error:t};throw t}}async updateUser(e,t={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,t))}async _updateUser(e,t={}){try{return await this._useSession(async r=>{const{data:i,error:s}=r;if(s)throw s;if(!i.session)throw new kc;const o=i.session;let a=null,l=null;if(this.flowType==="pkce"&&e.email!=null){const h=Lc();await Ka(this.storage,`${this.storageKey}-code-verifier`,h),a=await Oc(h),l=h===a?"plain":"s256"}const{data:u,error:f}=await Ht(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:t==null?void 0:t.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:a,code_challenge_method:l}),jwt:o.access_token,xform:na});if(f)throw f;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(r){if(It(r))return{data:{user:null},error:r};throw r}}_decodeJWT(e){return zR(e)}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new kc;const t=Date.now()/1e3;let r=t,i=!0,s=null;const o=zR(e.access_token);if(o.exp&&(r=o.exp,i=r<=t),i){const{session:a,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!a)return{data:{user:null,session:null},error:null};s=a}else{const{data:a,error:l}=await this._getUser(e.access_token);if(l)throw l;s={access_token:e.access_token,refresh_token:e.refresh_token,user:a.user,token_type:"bearer",expires_in:r-t,expires_at:r},await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)}return{data:{user:s.user,session:s},error:null}}catch(t){if(It(t))return{data:{session:null,user:null},error:t};throw t}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async t=>{var r;if(!e){const{data:o,error:a}=t;if(a)throw a;e=(r=o.session)!==null&&r!==void 0?r:void 0}if(!(e!=null&&e.refresh_token))throw new kc;const{session:i,error:s}=await this._callRefreshToken(e.refresh_token);return s?{data:{user:null,session:null},error:s}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}})}catch(t){if(It(t))return{data:{user:null,session:null},error:t};throw t}}async _getSessionFromURL(e){try{if(!co())throw new Wm("No browser detected.");if(this.flowType==="implicit"&&!this._isImplicitGrantFlow())throw new Wm("Not a valid implicit grant flow url.");if(this.flowType=="pkce"&&!e)throw new BR("Not a valid PKCE flow url.");const t=I_(window.location.href);if(e){if(!t.code)throw new BR("No code detected.");const{data:w,error:S}=await this._exchangeCodeForSession(t.code);if(S)throw S;const M=new URL(window.location.href);return M.searchParams.delete("code"),window.history.replaceState(window.history.state,"",M.toString()),{data:{session:w.session,redirectType:null},error:null}}if(t.error||t.error_description||t.error_code)throw new Wm(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});const{provider_token:r,provider_refresh_token:i,access_token:s,refresh_token:o,expires_in:a,expires_at:l,token_type:u}=t;if(!s||!a||!o||!u)throw new Wm("No session defined in URL");const f=Math.round(Date.now()/1e3),h=parseInt(a);let p=f+h;l&&(p=parseInt(l));const g=p-f;g*1e3<=Id&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${g}s, should have been closer to ${h}s`);const v=p-h;f-v>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",v,p,f):f-v<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clok for skew",v,p,f);const{data:x,error:_}=await this._getUser(s);if(_)throw _;const m={provider_token:r,provider_refresh_token:i,access_token:s,expires_in:h,expires_at:p,refresh_token:o,token_type:u,user:x.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:m,redirectType:t.type},error:null}}catch(t){if(It(t))return{data:{session:null,redirectType:null},error:t};throw t}}_isImplicitGrantFlow(){const e=I_(window.location.href);return!!(co()&&(e.access_token||e.error_description))}async _isPKCEFlow(){const e=I_(window.location.href),t=await Hm(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&t)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async t=>{var r;const{data:i,error:s}=t;if(s)return{error:s};const o=(r=i.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:a}=await this.admin.signOut(o,e);if(a&&!(oJ(a)&&(a.status===404||a.status===401)))return{error:a}}return e!=="others"&&(await this._removeSession(),await N_(this.storage,`${this.storageKey}-code-verifier`),await this._notifyAllSubscribers("SIGNED_OUT",null)),{error:null}})}onAuthStateChange(e){const t=JK(),r={id:t,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",t),this.stateChangeEmitters.delete(t)}};return this._debug("#onAuthStateChange()","registered callback with id",t),this.stateChangeEmitters.set(t,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(t)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async t=>{var r,i;try{const{data:{session:s},error:o}=t;if(o)throw o;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",s)),this._debug("INITIAL_SESSION","callback id",e,"session",s)}catch(s){await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",s),console.error(s)}})}async resetPasswordForEmail(e,t={}){let r=null,i=null;if(this.flowType==="pkce"){const s=Lc();await Ka(this.storage,`${this.storageKey}-code-verifier`,`${s}/PASSWORD_RECOVERY`),r=await Oc(s),i=s===r?"plain":"s256"}try{return await Ht(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:i,gotrue_meta_security:{captcha_token:t.captchaToken}},headers:this.headers,redirectTo:t.redirectTo})}catch(s){if(It(s))return{data:null,error:s};throw s}}async _refreshAccessToken(e){const t=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(t,"begin");try{const r=Date.now();return await tJ(async i=>(await eJ(i*200),this._debug(t,"refreshing attempt",i),await Ht(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Xo})),(i,s,o)=>o&&o.error&&U_(o.error)&&Date.now()+(i+1)*200-r<Id)}catch(r){if(this._debug(t,"error",r),It(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(t,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,t){const r=await this._getUrlForProvider(e,{redirectTo:t.redirectTo,scopes:t.scopes,queryParams:t.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",t,"url",r),co()&&!t.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e;const t="#_recoverAndRefresh()";this._debug(t,"begin");try{const r=await Hm(this.storage,this.storageKey);if(this._debug(t,"session from storage",r),!this._isValidSession(r)){this._debug(t,"session is not valid"),r!==null&&await this._removeSession();return}const i=Math.round(Date.now()/1e3),s=((e=r.expires_at)!==null&&e!==void 0?e:1/0)<i+HR;if(this._debug(t,`session has${s?"":" not"} expired with margin of ${HR}s`),s){if(this.autoRefreshToken&&r.refresh_token){const{error:o}=await this._callRefreshToken(r.refresh_token);o&&(console.error(o),U_(o)||(this._debug(t,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",r)}catch(r){this._debug(t,"error",r),console.error(r);return}finally{this._debug(t,"end")}}async _callRefreshToken(e){var t,r;if(!e)throw new kc;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new qv;const{data:s,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!s.session)throw new kc;await this._saveSession(s.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);const a={session:s.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(s){if(this._debug(i,"error",s),It(s)){const o={session:null,error:s};return U_(s)||(await this._removeSession(),await this._notifyAllSubscribers("SIGNED_OUT",null)),(t=this.refreshingDeferred)===null||t===void 0||t.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(s),s}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(e,t,r=!0){const i=`#_notifyAllSubscribers(${e})`;this._debug(i,"begin",t,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:t});const s=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(e,t)}catch(l){s.push(l)}});if(await Promise.all(o),s.length>0){for(let a=0;a<s.length;a+=1)console.error(s[a]);throw s[0]}}finally{this._debug(i,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),await this._persistSession(e)}_persistSession(e){return this._debug("#_persistSession()",e),Ka(this.storage,this.storageKey,e)}async _removeSession(){this._debug("#_removeSession()"),await N_(this.storage,this.storageKey)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&co()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(t){console.error("removing visibilitychange callback failed",t)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Id);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async t=>{const{data:{session:r}}=t;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((r.expires_at*1e3-e)/Id);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${Id}ms, refresh threshold is ${WR} ticks`),i<=WR&&await this._callRefreshToken(r.refresh_token)})}catch(t){console.error("Auto refresh tick failed with error. This is likely a transient error.",t)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof SJ)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!co()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const t=`#_onVisibilityChanged(${e})`;this._debug(t,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(t,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,t){const r=[`provider=${encodeURIComponent(e)}`];if(t!=null&&t.redirectTo&&r.push(`redirect_to=${encodeURIComponent(t.redirectTo)}`),t!=null&&t.scopes&&r.push(`scopes=${encodeURIComponent(t.scopes)}`),this.flowType==="pkce"){const i=Lc();await Ka(this.storage,`${this.storageKey}-code-verifier`,i);const s=await Oc(i),o=i===s?"plain":"s256";this._debug("PKCE","code verifier",`${i.substring(0,5)}...`,"code challenge",s,"method",o);const a=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(o)}`});r.push(a.toString())}if(t!=null&&t.queryParams){const i=new URLSearchParams(t.queryParams);r.push(i.toString())}return`${this.url}/authorize?${r.join("&")}`}async _unenroll(e){try{return await this._useSession(async t=>{var r;const{data:i,error:s}=t;return s?{data:null,error:s}:await Ht(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token})})}catch(t){if(It(t))return{data:null,error:t};throw t}}async _enroll(e){try{return await this._useSession(async t=>{var r,i;const{data:s,error:o}=t;if(o)return{data:null,error:o};const{data:a,error:l}=await Ht(this.fetch,"POST",`${this.url}/factors`,{body:{friendly_name:e.friendlyName,factor_type:e.factorType,issuer:e.issuer},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return l?{data:null,error:l}:(!((i=a==null?void 0:a.totp)===null||i===void 0)&&i.qr_code&&(a.totp.qr_code=`data:image/svg+xml;utf-8,${a.totp.qr_code}`),{data:a,error:null})})}catch(t){if(It(t))return{data:null,error:t};throw t}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var r;const{data:i,error:s}=t;if(s)return{data:null,error:s};const{data:o,error:a}=await Ht(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return a?{data:null,error:a}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:a})})}catch(t){if(It(t))return{data:null,error:t};throw t}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var r;const{data:i,error:s}=t;return s?{data:null,error:s}:await Ht(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token})})}catch(t){if(It(t))return{data:null,error:t};throw t}})}async _challengeAndVerify(e){const{data:t,error:r}=await this._challenge({factorId:e.factorId});return r?{data:null,error:r}:await this._verify({factorId:e.factorId,challengeId:t.id,code:e.code})}async _listFactors(){const{data:{user:e},error:t}=await this.getUser();if(t)return{data:null,error:t};const r=(e==null?void 0:e.factors)||[],i=r.filter(s=>s.factor_type==="totp"&&s.status==="verified");return{data:{all:r,totp:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var t,r;const{data:{session:i},error:s}=e;if(s)return{data:null,error:s};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const o=this._decodeJWT(i.access_token);let a=null;o.aal&&(a=o.aal);let l=a;((r=(t=i.user.factors)===null||t===void 0?void 0:t.filter(h=>h.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(l="aal2");const f=o.amr||[];return{data:{currentLevel:a,nextLevel:l,currentAuthenticationMethods:f},error:null}}))}}rh.nextInstanceID=0;class MJ extends rh{constructor(e){super(e)}}var TJ=globalThis&&globalThis.__awaiter||function(n,e,t,r){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(f){try{u(r.next(f))}catch(h){o(h)}}function l(f){try{u(r.throw(f))}catch(h){o(h)}}function u(f){f.done?s(f.value):i(f.value).then(a,l)}u((r=r.apply(n,e||[])).next())})};const CJ={headers:VK},AJ={schema:"public"},RJ={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},PJ={};class LJ{constructor(e,t,r){var i,s,o,a,l,u,f,h;if(this.supabaseUrl=e,this.supabaseKey=t,!e)throw new Error("supabaseUrl is required.");if(!t)throw new Error("supabaseKey is required.");const p=qK(e);this.realtimeUrl=`${p}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${p}/auth/v1`,this.storageUrl=`${p}/storage/v1`,this.functionsUrl=`${p}/functions/v1`;const g=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,v={db:AJ,realtime:PJ,auth:Object.assign(Object.assign({},RJ),{storageKey:g}),global:CJ},x=YK(r??{},v);this.storageKey=(s=(i=x.auth)===null||i===void 0?void 0:i.storageKey)!==null&&s!==void 0?s:"",this.headers=(a=(o=x.global)===null||o===void 0?void 0:o.headers)!==null&&a!==void 0?a:{},this.auth=this._initSupabaseAuthClient((l=x.auth)!==null&&l!==void 0?l:{},this.headers,(u=x.global)===null||u===void 0?void 0:u.fetch),this.fetch=XK(t,this._getAccessToken.bind(this),(f=x.global)===null||f===void 0?void 0:f.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers},x.realtime)),this.rest=new FE(`${p}/rest/v1`,{headers:this.headers,schema:(h=x.db)===null||h===void 0?void 0:h.schema,fetch:this.fetch}),this._listenForAuthEvents()}get functions(){return new oK(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new jK(this.storageUrl,this.headers,this.fetch)}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},r){return this.rest.rpc(e,t,r)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,t;return TJ(this,void 0,void 0,function*(){const{data:r}=yield this.auth.getSession();return(t=(e=r.session)===null||e===void 0?void 0:e.access_token)!==null&&t!==void 0?t:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:i,storageKey:s,flowType:o,debug:a},l,u){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new MJ({url:this.authUrl,headers:Object.assign(Object.assign({},f),l),storageKey:s,autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:i,flowType:o,debug:a,fetch:u})}_initRealtimeClient(e){return new RK(this.realtimeUrl,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((t,r)=>{this._handleTokenChanged(t,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(e,t,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?(this.realtime.setAuth(r??null),this.changedAccessToken=r):e==="SIGNED_OUT"&&(this.realtime.setAuth(this.supabaseKey),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const OJ=(n,e,t)=>new LJ(n,e,t);function kJ({files:n,info:e}){const t=JSON.parse(localStorage.getItem("user")),[r,i]=N.useState(!1),[s,o]=N.useState(null);N.useEffect(()=>{o(t.id)});const a=async()=>{i(!0);try{const p=await Promise.all(n.map(async w=>{const S=new FormData;S.append("file",w);const M=await Jt.post("http://localhost:8080/aws/upload",S),R=w.name;return(await Jt.get("http://localhost:8080/aws/getFileUrl",{params:{key:R}})).data})),v=(await Jt.post("http://localhost:8080/printSettings/add",{filamentBrand:e.marcaFilamento,filamentColor:e.colorFilamento,filamentMaterial:e.materialFilamento,infill:parseInt(e.relleno),printerBrand:e.marcaImpresora,printerModel:e.modeloImpresora,resolution:parseFloat(e.resolucion),supports:e.soportes,payment:e.pago,price:parseFloat(e.precio)})).data;console.log(v);const x=await h(),m=(await Jt.post("http://localhost:8080/models/add",{title:e.title,description:e.description,category:e.categoria,tags:"whatever",author:t,printSettings:v,mainUrl:p[0],imageUrl:x,likeCounter:0})).data.id;await Promise.all(p.map(w=>Jt.post("http://localhost:8080/url/add",{id_model:m,url:w}))),alert("Files uploaded and model created successfully")}catch(p){console.error("Error uploading or getting file URL:",p),alert("Error uploading files")}finally{i(!1)}window.location.reload(!1)},l="https://ohjmhtpmzrwhleemxqgr.supabase.co",f=OJ(l,"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im9oam1odHBtenJ3aGxlZW14cWdyIiwicm9sZSI6ImFub24iLCJpYXQiOjE2OTkwMzA0NjQsImV4cCI6MjAxNDYwNjQ2NH0.a8yTP4L8J_qPPzOBasqmFjMuftpA279n4fgRoLWQgW8"),h=async()=>{const p=`public/${e.image.name}`,{data:g,error:v}=await f.storage.from("test").upload(p,e.image);if(v)return console.error("Error al subir la imagen:",v.message),null;{const x=`${l}/storage/v1/object/public/test/${p}`;return console.log("Imagen subida con éxito:",g),console.log("URL de la imagen:",x),x}};return E.jsxs(E.Fragment,{children:[E.jsx("button",{onClick:a,disabled:r,className:"text-gray-900 bg-gray-100 hover:bg-gray-400 focus:ring-4 focus:outline-2 focus:ring-gray-100 font-medium rounded-lg text-sm px-5 py-2.5 text-center inline-flex items-center dark:focus:ring-gray-500 mb-2",children:r?"Uploading...":"Subir Archivos"}),r&&E.jsx("div",{className:"fixed top-0 left-0 w-full h-full flex items-center justify-center bg-black bg-opacity-50 z-50",children:E.jsxs("div",{role:"status",children:[E.jsxs("svg",{"aria-hidden":"true",class:"inline w-10 h-10text-gray-200 animate-spin dark:text-gray-600 fill-blue-600",viewBox:"0 0 100 101",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[E.jsx("path",{d:"M100 50.5908C100 78.2051 77.6142 100.591 50 100.591C22.3858 100.591 0 78.2051 0 50.5908C0 22.9766 22.3858 0.59082 50 0.59082C77.6142 0.59082 100 22.9766 100 50.5908ZM9.08144 50.5908C9.08144 73.1895 27.4013 91.5094 50 91.5094C72.5987 91.5094 90.9186 73.1895 90.9186 50.5908C90.9186 27.9921 72.5987 9.67226 50 9.67226C27.4013 9.67226 9.08144 27.9921 9.08144 50.5908Z",fill:"currentColor"}),E.jsx("path",{d:"M93.9676 39.0409C96.393 38.4038 97.8624 35.9116 97.0079 33.5539C95.2932 28.8227 92.871 24.3692 89.8167 20.348C85.8452 15.1192 80.8826 10.7238 75.2124 7.41289C69.5422 4.10194 63.2754 1.94025 56.7698 1.05124C51.7666 0.367541 46.6976 0.446843 41.7345 1.27873C39.2613 1.69328 37.813 4.19778 38.4501 6.62326C39.0873 9.04874 41.5694 10.4717 44.0505 10.1071C47.8511 9.54855 51.7191 9.52689 55.5402 10.0491C60.8642 10.7766 65.9928 12.5457 70.6331 15.2552C75.2735 17.9648 79.3347 21.5619 82.5849 25.841C84.9175 28.9121 86.7997 32.2913 88.1811 35.8758C89.083 38.2158 91.5421 39.6781 93.9676 39.0409Z",fill:"currentFill"})]}),E.jsx("span",{class:"sr-only",children:"Loading..."})]})}),E.jsx("button",{onClick:()=>{console.log(e)},children:"imprimir info"})]})}function IJ({info:n}){const[e,t]=N.useState([]),[r,i]=N.useState([]),s=N.useCallback((h,p)=>{h!=null&&h.length&&t(g=>[...g,...h.map(v=>Object.assign(v,{preview:URL.createObjectURL(v)}))]),p!=null&&p.length&&alert("No se admite este tipo de archivo"),console.log(h)},[]),{getRootProps:o,getInputProps:a,isDragActive:l}=hE({onDrop:s,maxSize:1024*1e5,accept:{"model/stl":[".stl"]}}),u=h=>{t(p=>p.filter(g=>g.name!==h))},f=()=>{t([]),i([])};return E.jsx(E.Fragment,{children:E.jsxs("div",{className:"mx-auto p-2",children:[E.jsxs("div",{...o(),className:"rounded mx-auto",children:[E.jsx("input",{...a()}),l?E.jsx("p",{className:"drag-area active mx-auto LoosFont",children:"Drop the files here ..."}):E.jsx("p",{className:"drag-area mx-auto LoosFont",children:"Drag 'n' drop some files here, or click to select files"})]}),E.jsxs("div",{className:"flex justify-end mt-5",children:[E.jsx("div",{className:"",children:E.jsx("button",{type:"button",onClick:f,className:"text-gray-900 bg-red-400 hover:bg-red-600 focus:ring-4 focus:outline-2 focus:ring-gray-100 font-medium rounded-lg text-sm px-5 py-2.5 text-center inline-flex items-center dark:focus:ring-gray-500 mr-2 mb-2",children:"Eliminar Todos"})}),E.jsx(kJ,{files:e,info:n})]}),E.jsx("h3",{className:"font-bold",children:"Accepted Files"}),E.jsx("div",{className:"bg-gray-400 w-full h-[150px] overflow-auto",children:E.jsx("ul",{children:e.map(h=>E.jsx("li",{className:"li",children:E.jsxs("div",{className:"flex justify-between mb-5 mt-2 ml-2 mr-2",children:[E.jsx("div",{children:E.jsx("img",{src:"./stl_icon.png",width:40,height:40,onLoad:()=>{URL.revokeObjectURL(h.preview)}})}),E.jsx("div",{children:E.jsx("p",{className:"LoosFont",children:h.name})}),E.jsx("div",{children:E.jsx(FY,{"aria-label":"delete",onClick:()=>{u(h.name)},children:E.jsx(bN,{})})})]})},h.name))})})]})})}function NJ(){const[n,e]=N.useState({title:"",description:"",marcaFilamento:"",colorFilamento:"",materialFilamento:"",relleno:"",marcaImpresora:"",modeloImpresora:"",resolucion:"",soportes:"",categoria:"",pago:"",precio:"",image:null}),t=k=>{const C=k.target.value;e(A=>({...A,title:C}))},r=k=>{const C=k.target.value;e(A=>({...A,description:C}))},i=k=>{const C=k.target.value;e(A=>({...A,marcaFilamento:C}))},s=k=>{const C=k.target.value;e(A=>({...A,colorFilamento:C}))},o=k=>{const C=k.target.value;e(A=>({...A,materialFilamento:C}))},a=k=>{const C=k.target.value;e(A=>({...A,relleno:C}))},l=k=>{const C=k.target.value;e(A=>({...A,marcaImpresora:C}))},u=k=>{const C=k.target.value;e(A=>({...A,modeloImpresora:C}))},f=k=>{const C=k.target.value;e(A=>({...A,resolucion:C}))},h=k=>{const C=k.target.value==="si";e(A=>({...A,soportes:C}))},p=k=>{const C=k.target.value==="si";e(A=>({...A,pago:C}))},g=k=>{const C=k.target.value;e(A=>({...A,categoria:C}))},v=k=>{const C=k.target.value;e(A=>({...A,precio:C}))},[x,_]=N.useState(null),[m,w]=N.useState(!1),[S,M]=N.useState(null),[R,P]=N.useState("../default_image.png"),L=k=>{const C=k.target.files[0];if(_(C),e(A=>({...A,image:C})),P(null),k.target.files&&k.target.files.length>0){const A=URL.createObjectURL(k.target.files[0]);M(A)}};return E.jsxs("div",{className:"mx-auto",children:[E.jsx(IJ,{info:n}),E.jsx("h1",{className:"font-extrabold text-3xl mt-[10px]",children:"File details"}),E.jsxs("div",{className:"fileDetails",children:["Title (required)"," ",E.jsx("input",{type:"text",id:"resolucion",className:"w-full p-2 border rounded mb-4",onBlur:t})]}),E.jsxs("div",{className:"fileDetails",children:["Description (required)"," ",E.jsx("input",{type:"text",id:"resolucion",className:"w-full p-2 border rounded mb-4",onBlur:r,variant:"outlined"})]}),E.jsxs("div",{className:"mb-4",children:[E.jsx("label",{htmlFor:"marcaFilamento",className:"block",children:"Categoría"}),E.jsxs("select",{defaultValue:"",id:"categoria",className:"w-full p-2 border rounded",onChange:g,children:[E.jsx("option",{value:"",disabled:!0,children:"Seleccione una opción"}),E.jsx("option",{value:"Accesorios",children:"Accesorios"}),E.jsx("option",{value:"Herramientas",children:"Herramientas"}),E.jsx("option",{value:"Complementos",children:"Complementos"}),E.jsx("option",{value:"Juguetes",children:"Juguetes"}),E.jsx("option",{value:"Figuras",children:"Figuras"})]})]}),E.jsxs("div",{className:"mb-4",children:[E.jsx("label",{htmlFor:"marcaFilamento",className:"block",children:"Marca del Filamento"}),E.jsxs("select",{defaultValue:"",id:"marcaFilamento",className:"w-full p-2 border rounded",onChange:i,children:[E.jsx("option",{value:"",disabled:!0,children:"Seleccione una opción"}),E.jsx("option",{value:"marca1",children:"Marca 1"}),E.jsx("option",{value:"marca2",children:"Marca 2"})]})]}),E.jsxs("div",{className:"mb-4",children:[E.jsx("label",{htmlFor:"colorFilamento",className:"block",children:"Color del Filamento"}),E.jsxs("select",{defaultValue:"",id:"colorFilamento",className:"w-full p-2 border rounded",onChange:s,children:[E.jsx("option",{value:"",disabled:!0,children:"Seleccione una opción"}),E.jsx("option",{value:"color1",children:"Color 1"}),E.jsx("option",{value:"color2",children:"Color 2"})]})]}),E.jsxs("div",{className:"mb-4",children:[E.jsx("label",{htmlFor:"materialFilamento",className:"block",children:"Material del Filamento"}),E.jsxs("select",{defaultValue:"",id:"materialFilamento",className:"w-full p-2 border rounded",onChange:o,children:[E.jsx("option",{value:"",disabled:!0,children:"Seleccione una opción"}),E.jsx("option",{value:"material1",children:"Material 1"}),E.jsx("option",{value:"material2",children:"Material 2"})]})]}),E.jsxs("div",{className:"mb-4",children:[E.jsx("label",{htmlFor:"relleno",className:"block",children:"Relleno"}),E.jsx("input",{type:"number",id:"relleno",className:"w-full p-2 border rounded",max:100,onChange:a})]}),E.jsxs("div",{className:"mb-4",children:[E.jsx("label",{htmlFor:"marcaImpresora",className:"block",children:"Marca de la Impresora"}),E.jsxs("select",{defaultValue:"",id:"marcaImpresora",className:"w-full p-2 border rounded",onChange:l,children:[E.jsx("option",{value:"",disabled:!0,children:"Seleccione una opción"}),E.jsx("option",{value:"marca1",children:"Marca 1"}),E.jsx("option",{value:"marca2",children:"Marca 2"})]})]}),E.jsxs("div",{className:"mb-4",children:[E.jsx("label",{htmlFor:"modeloImpresora",className:"block",children:"Modelo de la Impresora"}),E.jsxs("select",{defaultValue:"",id:"modeloImpresora",className:"w-full p-2 border rounded",onChange:u,children:[E.jsx("option",{value:"",disabled:!0,children:"Seleccione una opción"}),E.jsx("option",{value:"modelo1",children:"Modelo 1"}),E.jsx("option",{value:"modelo2",children:"Modelo 2"})]})]}),E.jsxs("div",{className:"mb-4",children:[E.jsx("label",{htmlFor:"resolucion",className:"block",children:"Resolución"}),E.jsxs("select",{defaultValue:"",id:"resolucion",onChange:f,children:[E.jsx("option",{value:"",disabled:!0,children:"Seleccione una opción"}),E.jsx("option",{value:"0.2",children:"0.2"}),E.jsx("option",{value:"0.4",children:"0.4"}),E.jsx("option",{value:"0.8",children:"0.8"}),E.jsx("option",{value:"1",children:"1"})]})]}),E.jsxs("div",{className:"mb-4",children:[E.jsx("label",{className:"block",children:"Soportes"}),E.jsx("input",{type:"radio",id:"soportesSi",name:"soportes",value:"si",onChange:h}),E.jsx("label",{htmlFor:"soportesSi",className:"mr-2",children:"Sí"}),E.jsx("input",{type:"radio",id:"soportesNo",name:"soportes",value:"no",onChange:h}),E.jsx("label",{htmlFor:"soportesNo",children:"No"})]}),E.jsxs("div",{className:"mb-4",children:[E.jsx("label",{className:"block",children:"Modelo de pago"}),E.jsx("input",{type:"radio",id:"pagoSi",name:"pago",value:"si",onChange:p}),E.jsx("label",{htmlFor:"pagosSi",className:"mr-2",children:"Sí"}),E.jsx("input",{type:"radio",id:"pagoNo",name:"pago",value:"no",onChange:p}),E.jsx("label",{htmlFor:"pagoNo",children:"No"})]}),E.jsx("div",{children:n.pago&&E.jsxs("div",{className:"mb-4",children:[E.jsx("label",{htmlFor:"precio",className:"block",children:"Precio"}),E.jsx("input",{type:"number",id:"precio",className:"p-2 border rounded w-[100px]",onChange:v})]})}),E.jsxs("div",{children:[E.jsx("h1",{className:"font-extrabold text-3xl mt-[10px] my-4",children:" Image "}),E.jsx("div",{className:"w-36 h-36 border-2 border-black mb-4 overflow-hidden",children:E.jsx("img",{className:"w-full h-full object-cover",src:S||R})}),E.jsx("input",{className:" border-2 border-black rounded",type:"file",onChange:L}),m&&E.jsx("p",{children:"Subiendo..."})]})]})}function DJ(){const[n,e]=N.useState(""),[t,r]=N.useState(""),[i,s]=N.useState(""),[o,a]=N.useState(""),[l,u]=N.useState(""),[f,h]=N.useState(""),[p,g]=N.useState(""),v=16;N.useEffect(()=>{async function _(){try{const w=(await Jt.get(`http://localhost:8080/users/getUser?id=${v}`)).data;e(w.username),r(w.name),s(w.lastname),a(w.email),g(w.password)}catch(m){console.error("Error:",m)}}_()},[v]);async function x(_){if(_.preventDefault(),!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(o)){alert("Please enter a valid email address");return}if(l.length<7){alert("Password must be at least 7 characters long");return}if(f!==p){alert("Wrong password! Please try again or contact the administrator");return}const w={id:v,username:n,name:t,lastname:i,email:o,password:l};try{(await Jt.post("http://localhost:8080/users/updateUser",w)).status===200?alert("Update successful"):alert("Update failed")}catch(S){console.error("Error:",S),alert("Update failed")}}return E.jsx("div",{className:"container mt-4",children:E.jsxs("form",{children:[E.jsxs("div",{className:"form-group",children:[E.jsx("label",{children:"Username"}),E.jsx("input",{type:"text",className:"form-control",value:n,onChange:_=>{e(_.target.value)}})]}),E.jsxs("div",{className:"form-group",children:[E.jsx("label",{children:"Name"}),E.jsx("input",{type:"text",className:"form-control",value:t,onChange:_=>{r(_.target.value)}})]}),E.jsxs("div",{className:"form-group",children:[E.jsx("label",{children:"Lastname"}),E.jsx("input",{type:"text",className:"form-control",value:i,onChange:_=>{s(_.target.value)}})]}),E.jsxs("div",{className:"form-group",children:[E.jsx("label",{children:"Email"}),E.jsx("input",{type:"email",className:"form-control",pattern:"[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,}$",value:o,onChange:_=>{a(_.target.value)},required:!0})]}),E.jsxs("div",{className:"form-group",children:[E.jsx("label",{children:"New Password"}),E.jsx("input",{type:"password",className:"form-control",placeholder:"Insert new password",minLength:"7",value:l,onChange:_=>{u(_.target.value)},required:!0})]}),E.jsxs("div",{className:"form-group",children:[E.jsx("label",{children:"Old Password for Verification"}),E.jsx("input",{type:"password",className:"form-control",placeholder:"Insert old password",value:f,onChange:_=>{h(_.target.value)},required:!0})]}),E.jsx("button",{className:"btn btn-primary mt-4",onClick:x,children:"Update"})]})})}function GR(n){return typeof n=="string"}const UJ=["onChange","maxRows","minRows","style","value"];function Gm(n){return parseInt(n,10)||0}const FJ={shadow:{visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"}};function $R(n){return n==null||Object.keys(n).length===0||n.outerHeightStyle===0&&!n.overflow}const zJ=N.forwardRef(function(e,t){const{onChange:r,maxRows:i,minRows:s=1,style:o,value:a}=e,l=Vr(e,UJ),{current:u}=N.useRef(a!=null),f=N.useRef(null),h=Zf(t,f),p=N.useRef(null),g=N.useRef(0),[v,x]=N.useState({outerHeightStyle:0}),_=N.useCallback(()=>{const M=f.current,P=Vw(M).getComputedStyle(M);if(P.width==="0px")return{outerHeightStyle:0};const L=p.current;L.style.width=P.width,L.value=M.value||e.placeholder||"x",L.value.slice(-1)===`
`&&(L.value+=" ");const k=P.boxSizing,C=Gm(P.paddingBottom)+Gm(P.paddingTop),A=Gm(P.borderBottomWidth)+Gm(P.borderTopWidth),U=L.scrollHeight;L.value="x";const W=L.scrollHeight;let F=U;s&&(F=Math.max(Number(s)*W,F)),i&&(F=Math.min(Number(i)*W,F)),F=Math.max(F,W);const G=F+(k==="border-box"?C+A:0),X=Math.abs(F-U)<=1;return{outerHeightStyle:G,overflow:X}},[i,s,e.placeholder]),m=(M,R)=>{const{outerHeightStyle:P,overflow:L}=R;return g.current<20&&(P>0&&Math.abs((M.outerHeightStyle||0)-P)>1||M.overflow!==L)?(g.current+=1,{overflow:L,outerHeightStyle:P}):M},w=N.useCallback(()=>{const M=_();$R(M)||x(R=>m(R,M))},[_]);Jf(()=>{const M=()=>{const U=_();$R(U)||LL.flushSync(()=>{x(W=>m(W,U))})},R=()=>{g.current=0,M()};let P;const L=$I(R),k=f.current,C=Vw(k);C.addEventListener("resize",L);let A;return typeof ResizeObserver<"u"&&(A=new ResizeObserver(R),A.observe(k)),()=>{L.clear(),cancelAnimationFrame(P),C.removeEventListener("resize",L),A&&A.disconnect()}},[_]),Jf(()=>{w()}),N.useEffect(()=>{g.current=0},[a]);const S=M=>{g.current=0,u||w(),r&&r(M)};return E.jsxs(N.Fragment,{children:[E.jsx("textarea",tt({value:a,onChange:S,ref:h,rows:s,style:tt({height:v.outerHeightStyle,overflow:v.overflow?"hidden":void 0},o)},l)),E.jsx("textarea",{"aria-hidden":!0,className:e.className,readOnly:!0,ref:p,tabIndex:-1,style:tt({},FJ.shadow,o,{paddingTop:0,paddingBottom:0})})]})});function BJ({props:n,states:e,muiFormControl:t}){return e.reduce((r,i)=>(r[i]=n[i],t&&typeof n[i]>"u"&&(r[i]=t[i]),r),{})}const jJ=N.createContext(void 0),IN=jJ;function HJ(){return N.useContext(IN)}function VJ(n){return E.jsx(tq,tt({},n,{defaultTheme:LE,themeId:OE}))}function XR(n){return n!=null&&!(Array.isArray(n)&&n.length===0)}function WJ(n,e=!1){return n&&(XR(n.value)&&n.value!==""||e&&XR(n.defaultValue)&&n.defaultValue!=="")}function GJ(n){return Mh("MuiInputBase",n)}const $J=Th("MuiInputBase",["root","formControl","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","colorSecondary","fullWidth","hiddenLabel","readOnly","input","inputSizeSmall","inputMultiline","inputTypeSearch","inputAdornedStart","inputAdornedEnd","inputHiddenLabel"]),eS=$J,XJ=["aria-describedby","autoComplete","autoFocus","className","color","components","componentsProps","defaultValue","disabled","disableInjectingGlobalStyles","endAdornment","error","fullWidth","id","inputComponent","inputProps","inputRef","margin","maxRows","minRows","multiline","name","onBlur","onChange","onClick","onFocus","onKeyDown","onKeyUp","placeholder","readOnly","renderSuffix","rows","size","slotProps","slots","startAdornment","type","value"],qJ=(n,e)=>{const{ownerState:t}=n;return[e.root,t.formControl&&e.formControl,t.startAdornment&&e.adornedStart,t.endAdornment&&e.adornedEnd,t.error&&e.error,t.size==="small"&&e.sizeSmall,t.multiline&&e.multiline,t.color&&e[`color${Kn(t.color)}`],t.fullWidth&&e.fullWidth,t.hiddenLabel&&e.hiddenLabel]},YJ=(n,e)=>{const{ownerState:t}=n;return[e.input,t.size==="small"&&e.inputSizeSmall,t.multiline&&e.inputMultiline,t.type==="search"&&e.inputTypeSearch,t.startAdornment&&e.inputAdornedStart,t.endAdornment&&e.inputAdornedEnd,t.hiddenLabel&&e.inputHiddenLabel]},KJ=n=>{const{classes:e,color:t,disabled:r,error:i,endAdornment:s,focused:o,formControl:a,fullWidth:l,hiddenLabel:u,multiline:f,readOnly:h,size:p,startAdornment:g,type:v}=n,x={root:["root",`color${Kn(t)}`,r&&"disabled",i&&"error",l&&"fullWidth",o&&"focused",a&&"formControl",p&&p!=="medium"&&`size${Kn(p)}`,f&&"multiline",g&&"adornedStart",s&&"adornedEnd",u&&"hiddenLabel",h&&"readOnly"],input:["input",r&&"disabled",v==="search"&&"inputTypeSearch",f&&"inputMultiline",p==="small"&&"inputSizeSmall",u&&"inputHiddenLabel",g&&"inputAdornedStart",s&&"inputAdornedEnd",h&&"readOnly"]};return Mv(x,GJ,e)},JJ=qs("div",{name:"MuiInputBase",slot:"Root",overridesResolver:qJ})(({theme:n,ownerState:e})=>tt({},n.typography.body1,{color:(n.vars||n).palette.text.primary,lineHeight:"1.4375em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center",[`&.${eS.disabled}`]:{color:(n.vars||n).palette.text.disabled,cursor:"default"}},e.multiline&&tt({padding:"4px 0 5px"},e.size==="small"&&{paddingTop:1}),e.fullWidth&&{width:"100%"})),ZJ=qs("input",{name:"MuiInputBase",slot:"Input",overridesResolver:YJ})(({theme:n,ownerState:e})=>{const t=n.palette.mode==="light",r=tt({color:"currentColor"},n.vars?{opacity:n.vars.opacity.inputPlaceholder}:{opacity:t?.42:.5},{transition:n.transitions.create("opacity",{duration:n.transitions.duration.shorter})}),i={opacity:"0 !important"},s=n.vars?{opacity:n.vars.opacity.inputPlaceholder}:{opacity:t?.42:.5};return tt({font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"4px 0 5px",border:0,boxSizing:"content-box",background:"none",height:"1.4375em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%",animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&::-webkit-input-placeholder":r,"&::-moz-placeholder":r,"&:-ms-input-placeholder":r,"&::-ms-input-placeholder":r,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{WebkitAppearance:"none"},[`label[data-shrink=false] + .${eS.formControl} &`]:{"&::-webkit-input-placeholder":i,"&::-moz-placeholder":i,"&:-ms-input-placeholder":i,"&::-ms-input-placeholder":i,"&:focus::-webkit-input-placeholder":s,"&:focus::-moz-placeholder":s,"&:focus:-ms-input-placeholder":s,"&:focus::-ms-input-placeholder":s},[`&.${eS.disabled}`]:{opacity:1,WebkitTextFillColor:(n.vars||n).palette.text.disabled},"&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}},e.size==="small"&&{paddingTop:1},e.multiline&&{height:"auto",resize:"none",padding:0,paddingTop:0},e.type==="search"&&{MozAppearance:"textfield"})}),QJ=E.jsx(VJ,{styles:{"@keyframes mui-auto-fill":{from:{display:"block"}},"@keyframes mui-auto-fill-cancel":{from:{display:"block"}}}}),eZ=N.forwardRef(function(e,t){var r;const i=Ph({props:e,name:"MuiInputBase"}),{"aria-describedby":s,autoComplete:o,autoFocus:a,className:l,components:u={},componentsProps:f={},defaultValue:h,disabled:p,disableInjectingGlobalStyles:g,endAdornment:v,fullWidth:x=!1,id:_,inputComponent:m="input",inputProps:w={},inputRef:S,maxRows:M,minRows:R,multiline:P=!1,name:L,onBlur:k,onChange:C,onClick:A,onFocus:U,onKeyDown:W,onKeyUp:F,placeholder:G,readOnly:X,renderSuffix:Z,rows:J,slotProps:D={},slots:$={},startAdornment:q,type:Y="text",value:Q}=i,Ce=Vr(i,XJ),ge=w.value!=null?w.value:Q,{current:ie}=N.useRef(ge!=null),ce=N.useRef(),ke=N.useCallback(be=>{},[]),fe=Zf(ce,S,w.ref,ke),[Pe,Ue]=N.useState(!1),Ae=HJ(),j=BJ({props:i,muiFormControl:Ae,states:["color","disabled","error","hiddenLabel","size","required","filled"]});j.focused=Ae?Ae.focused:Pe,N.useEffect(()=>{!Ae&&p&&Pe&&(Ue(!1),k&&k())},[Ae,p,Pe,k]);const Me=Ae&&Ae.onFilled,ue=Ae&&Ae.onEmpty,Re=N.useCallback(be=>{WJ(be)?Me&&Me():ue&&ue()},[Me,ue]);Jf(()=>{ie&&Re({value:ge})},[ge,Re,ie]);const we=be=>{if(j.disabled){be.stopPropagation();return}U&&U(be),w.onFocus&&w.onFocus(be),Ae&&Ae.onFocus?Ae.onFocus(be):Ue(!0)},We=be=>{k&&k(be),w.onBlur&&w.onBlur(be),Ae&&Ae.onBlur?Ae.onBlur(be):Ue(!1)},ze=(be,...Te)=>{if(!ie){const Ne=be.target||ce.current;if(Ne==null)throw new Error(kl(1));Re({value:Ne.value})}w.onChange&&w.onChange(be,...Te),C&&C(be,...Te)};N.useEffect(()=>{Re(ce.current)},[]);const He=be=>{ce.current&&be.currentTarget===be.target&&ce.current.focus(),A&&A(be)};let Ke=m,rt=w;P&&Ke==="input"&&(J?rt=tt({type:void 0,minRows:J,maxRows:J},rt):rt=tt({type:void 0,maxRows:M,minRows:R},rt),Ke=zJ);const Ft=be=>{Re(be.animationName==="mui-auto-fill-cancel"?ce.current:{value:"x"})};N.useEffect(()=>{Ae&&Ae.setAdornedStart(!!q)},[Ae,q]);const H=tt({},i,{color:j.color||"primary",disabled:j.disabled,endAdornment:v,error:j.error,focused:j.focused,formControl:Ae,fullWidth:x,hiddenLabel:j.hiddenLabel,multiline:P,size:j.size,startAdornment:q,type:Y}),I=KJ(H),ne=$.root||u.Root||JJ,xe=D.root||f.root||{},Se=$.input||u.Input||ZJ;return rt=tt({},rt,(r=D.input)!=null?r:f.input),E.jsxs(N.Fragment,{children:[!g&&QJ,E.jsxs(ne,tt({},xe,!GR(ne)&&{ownerState:tt({},H,xe.ownerState)},{ref:t,onClick:He},Ce,{className:Yr(I.root,xe.className,l,X&&"MuiInputBase-readOnly"),children:[q,E.jsx(IN.Provider,{value:null,children:E.jsx(Se,tt({ownerState:H,"aria-invalid":j.error,"aria-describedby":s,autoComplete:o,autoFocus:a,defaultValue:h,disabled:j.disabled,id:_,onAnimationStart:Ft,name:L,placeholder:G,readOnly:X,required:j.required,rows:J,value:ge,onKeyDown:W,onKeyUp:F,type:Y},rt,!GR(Se)&&{as:Ke,ownerState:tt({},H,rt.ownerState)},{ref:fe,className:Yr(I.input,rt.className,X&&"MuiInputBase-readOnly"),onBlur:We,onChange:ze,onFocus:we}))}),v,Z?Z(tt({},j,{startAdornment:q})):null]}))]})}),tZ=eZ;qs("div")(({theme:n})=>({position:"relative",borderRadius:n.shape.borderRadius,backgroundColor:f0(n.palette.common.white,.15),"&:hover":{backgroundColor:f0(n.palette.common.white,.25)},marginLeft:0,width:"100%",[n.breakpoints.up("sm")]:{marginLeft:n.spacing(1),width:"auto"}}));qs("div")(({theme:n})=>({padding:n.spacing(0,2),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"}));qs(tZ)(({theme:n})=>({color:"inherit","& .MuiInputBase-input":{padding:n.spacing(1,1,1,0),paddingLeft:`calc(1em + ${n.spacing(0)})`,transition:n.transitions.create("width"),width:"100%",[n.breakpoints.up("sm")]:{width:"20ch","&:focus":{width:"20ch"}}}}));function nZ(){const[n,e]=N.useState({}),[t,r]=N.useState(0),[i,s]=N.useState([]),[o,a]=N.useState(!1),[l,u]=N.useState([]),f=parseInt(eF().id),h=localStorage.getItem("user"),p=h?JSON.parse(h).id:0;N.useEffect(()=>{(async()=>{try{const[w,S,M]=await Promise.all([Jt.get(`http://localhost:8080/tutorials/getDetails/${f}`),Jt.get(`http://localhost:8080/tutorials/likeCount/${f}`),Jt.get(`http://localhost:8080/tutorials/liked/${p}`)]);e(w.data),r(S.data),s(M.data)}catch(w){console.error("Error fetching data:",w)}})()},[f,p]);const g=async()=>{try{await Jt.post(`http://localhost:8080/tutorials/like/${f}?userId=${p}`).then(()=>{s([...i,f]),r(t+1)})}catch(m){console.error("Error liking tutorial:",m)}},v=async m=>{try{await Jt.delete(`http://localhost:8080/tutorials/dislike/${m}?userId=${p}`).then(()=>{s(i.filter(w=>w!==m)),r(t-1)})}catch(w){console.error("Error unliking tutorial:",w)}},x=async m=>{try{return(await Jt.get(`http://localhost:8080/tutorials/userInteractions/${m}`)).data}catch(w){return console.error("Error fetching liked users:",w),[]}},_=async()=>{if(o){a(!o);return}try{const m=await x(f);a(!o),u(m)}catch(m){console.error("Error fetching liked users:",m)}};return E.jsxs(E.Fragment,{children:[E.jsxs("div",{className:"main-content",children:[E.jsx("h1",{children:n.title}),E.jsx("p",{children:n.content}),n.user&&E.jsxs("p",{children:["Author: ",n.user.name," ",n.user.lastname]}),E.jsx("br",{})]}),E.jsxs("div",{className:"tutorial-likes-container",children:[E.jsxs("button",{onClick:()=>{t>0&&_()},children:["Like Counter: ",t]}),E.jsx("br",{}),o&&E.jsxs("div",{className:"modal",children:[E.jsx("div",{onClick:_,className:"overlay"}),E.jsxs("div",{className:"modal-bg",children:[E.jsx("div",{className:"Header",children:E.jsxs("p",{children:[t," Tutorial likes"]})}),E.jsx("div",{className:"modal-content",children:E.jsx("ul",{children:l.map(m=>E.jsxs("li",{children:[m.name," ",m.lastname]},m.id))})}),E.jsx("button",{className:"close-modal",onClick:_,children:"Close"})]})]}),p!==0&&i.includes(f)?E.jsx("button",{onClick:()=>v(f),children:"Dislike"}):p!==0&&E.jsx("button",{onClick:()=>g(),children:"Like"})]})]})}class rZ extends Lr{constructor(e){super(e)}load(e,t,r,i){const s=this,o=new ms(this.manager);o.setPath(this.path),o.setResponseType("arraybuffer"),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(a){try{t(s.parse(a))}catch(l){i?i(l):console.error(l),s.manager.itemError(e)}},r,i)}parse(e){function t(u){const f=new DataView(u),h=32/8*3+32/8*3*3+16/8,p=f.getUint32(80,!0);if(80+32/8+p*h===f.byteLength)return!0;const v=[115,111,108,105,100];for(let x=0;x<5;x++)if(r(v,f,x))return!1;return!0}function r(u,f,h){for(let p=0,g=u.length;p<g;p++)if(u[p]!==f.getUint8(h+p))return!1;return!0}function i(u){const f=new DataView(u),h=f.getUint32(80,!0);let p,g,v,x=!1,_,m,w,S,M;for(let U=0;U<80-10;U++)f.getUint32(U,!1)==1129270351&&f.getUint8(U+4)==82&&f.getUint8(U+5)==61&&(x=!0,_=new Float32Array(h*3*3),m=f.getUint8(U+6)/255,w=f.getUint8(U+7)/255,S=f.getUint8(U+8)/255,M=f.getUint8(U+9)/255);const R=84,P=12*4+2,L=new mt,k=new Float32Array(h*3*3),C=new Float32Array(h*3*3),A=new Ye;for(let U=0;U<h;U++){const W=R+U*P,F=f.getFloat32(W,!0),G=f.getFloat32(W+4,!0),X=f.getFloat32(W+8,!0);if(x){const Z=f.getUint16(W+48,!0);Z&32768?(p=m,g=w,v=S):(p=(Z&31)/31,g=(Z>>5&31)/31,v=(Z>>10&31)/31)}for(let Z=1;Z<=3;Z++){const J=W+Z*12,D=U*3*3+(Z-1)*3;k[D]=f.getFloat32(J,!0),k[D+1]=f.getFloat32(J+4,!0),k[D+2]=f.getFloat32(J+8,!0),C[D]=F,C[D+1]=G,C[D+2]=X,x&&(A.set(p,g,v).convertSRGBToLinear(),_[D]=A.r,_[D+1]=A.g,_[D+2]=A.b)}}return L.setAttribute("position",new Ut(k,3)),L.setAttribute("normal",new Ut(C,3)),x&&(L.setAttribute("color",new Ut(_,3)),L.hasColors=!0,L.alpha=M),L}function s(u){const f=new mt,h=/solid([\s\S]*?)endsolid/g,p=/facet([\s\S]*?)endfacet/g;let g=0;const v=/[\s]+([+-]?(?:\d*)(?:\.\d*)?(?:[eE][+-]?\d+)?)/.source,x=new RegExp("vertex"+v+v+v,"g"),_=new RegExp("normal"+v+v+v,"g"),m=[],w=[],S=new z;let M,R=0,P=0,L=0;for(;(M=h.exec(u))!==null;){P=L;const k=M[0];for(;(M=p.exec(k))!==null;){let U=0,W=0;const F=M[0];for(;(M=_.exec(F))!==null;)S.x=parseFloat(M[1]),S.y=parseFloat(M[2]),S.z=parseFloat(M[3]),W++;for(;(M=x.exec(F))!==null;)m.push(parseFloat(M[1]),parseFloat(M[2]),parseFloat(M[3])),w.push(S.x,S.y,S.z),U++,L++;W!==1&&console.error("THREE.STLLoader: Something isn't right with the normal of face number "+g),U!==3&&console.error("THREE.STLLoader: Something isn't right with the vertices of face number "+g),g++}const C=P,A=L-P;f.addGroup(C,A,R),R++}return f.setAttribute("position",new et(m,3)),f.setAttribute("normal",new et(w,3)),f}function o(u){return typeof u!="string"?new TextDecoder().decode(u):u}function a(u){if(typeof u=="string"){const f=new Uint8Array(u.length);for(let h=0;h<u.length;h++)f[h]=u.charCodeAt(h)&255;return f.buffer||f}else return u}const l=a(e);return t(l)?i(l):s(o(e))}}const iZ={PLA:1.24,ABS:1.04,PETG:1.27,TPU:1.21,Carbon:1.3,Nylon:1.52},sZ={PLA:20,ABS:22,PETG:25,TPU:30,Carbon:35,Nylon:40},oZ={.2:2,.4:1.5,.8:1,1:.5},aZ={Sin:0,Bajo:2,Medio:4,Alto:6};function lZ(){const[n,e]=N.useState([]),[t,r]=N.useState(null),[i,s]=N.useState(null),[o,a]=N.useState(1),[l,u]=N.useState(null),[f,h]=N.useState(null),[p,g]=N.useState(null),[v,x]=N.useState(null),[_,m]=N.useState(null),[w,S]=N.useState(null),M=(Z,J)=>J/1e3*iZ[Z]*sZ[Z],R=N.useCallback(Z=>{e(Z),new rZ().load(URL.createObjectURL(Z[0]),D=>{if(D){const $=L(D);r($),u($),console.log("Dimensiones del modelo:",$)}P(Z[0])})},[]);async function P(Z){let J=new FormData;J.append("file",Z);let D=await Jt.post("http://127.0.0.1:5000/process-stl",J,{headers:{"Content-Type":"multipart/form-data"}});console.log(D.data.volume),s(D.data.volume/1e3),h(D.data.volume/1e3)}const L=Z=>new Mi().setFromObject(new ir(Z)).getSize(new z),k=Z=>{const J=parseFloat(Z.target.value);a(J);const D={x:l.x*J,y:l.y*J,z:l.z*J};r(D);const $=f*J;s($)},{getRootProps:C,getInputProps:A,isDragActive:U}=hE({onDrop:R,accept:{"model/stl":[".stl"]}}),W=Z=>{const J=Z.target.value;g(J)},F=Z=>{const J=Z.target.value;x(J)},G=Z=>{const J=Z.target.value;m(J)},X=()=>{const Z=M(p,i),J=oZ[v],D=aZ[_],$=Z+J+D;S($)};return E.jsxs("div",{className:"flex h-screen w-[90%] pt-[7%]",children:[E.jsxs("div",{className:"w-[600px] h-[700px] bg-blue-400 mr-5",children:[E.jsx("div",{className:"mt-5",children:n.length>0&&E.jsx("div",{className:"w-[512px] h-[400px] bg-white",children:E.jsx(cI,{className:"w-[512px] h-[400px]",url:URL.createObjectURL(n[0]),orbitControls:!0,modelProps:{color:"gray",positionX:0,positionY:0,scale:o}})})}),n.length>0&&t&&E.jsxs("div",{children:[E.jsx("p",{children:"Información del modelo:"}),E.jsxs("div",{children:[E.jsxs("p",{children:["Ancho: ",t.x.toFixed(2)]}),E.jsxs("p",{children:["Alto: ",t.y.toFixed(2)]}),E.jsxs("p",{children:["Profundidad: ",t.z.toFixed(2)]})]}),i!==null&&E.jsxs("p",{children:["Volumen del modelo: ",i.toFixed(2)]}),E.jsxs("label",{children:["Cambiar tamaño:",E.jsx("input",{type:"number",step:"0.01",value:o,onChange:k})]})]})]}),E.jsxs("div",{className:"flex flex-col h-[700px] w-[1400px] bg-red-500 justify-center items-center",children:[E.jsxs("div",{...C(),className:"w-[550px] h-[75px]",children:[E.jsx("input",{...A()}),U?E.jsx("p",{className:"bg-blue-200 rounded w-[550px] h-[75px] border-4 border-dashed border-blue-500",children:"Drop the files here ..."}):E.jsx("p",{className:"bg-white w-[550px] h-[75px] rounded border-4 border-dashed border-gray-600",children:"Drag 'n' drop some files here, or click to select files"})]}),E.jsx("div",{children:"Material"}),E.jsxs("div",{className:"flex justify-center items-center mb-[50px]",children:[E.jsxs("div",{className:"flex flex-col items-center mr-5",children:[E.jsx("button",{value:"PLA",onClick:W,className:"inline-block w-[200px] rounded border-2 border-primary-100 px-6 pb-[6px] pt-2 text-xs font-medium uppercase leading-normal text-primary-700 transition duration-150 ease-in-out hover:border-primary-accent-100 hover:bg-neutral-500 hover:bg-opacity-10 focus:border-primary-accent-100 focus:outline-none focus:ring-0 active:border-primary-accent-200 dark:text-primary-100 dark:hover:bg-neutral-100 dark:hover:bg-opacity-10",children:"PLA"}),E.jsx("button",{value:"ABS",onClick:W,className:"inline-block w-[200px] rounded border-2 border-primary-100 px-6 pb-[6px] pt-2 text-xs font-medium uppercase leading-normal text-primary-700 transition duration-150 ease-in-out hover:border-primary-accent-100 hover:bg-neutral-500 hover:bg-opacity-10 focus:border-primary-accent-100 focus:outline-none focus:ring-0 active:border-primary-accent-200 dark:text-primary-100 dark:hover:bg-neutral-100 dark:hover:bg-opacity-10",children:"ABS"})]}),E.jsxs("div",{className:"flex flex-col items-center mr-5",children:[E.jsx("button",{value:"PETG",onClick:W,className:"inline-block w-[200px] rounded border-2 border-primary-100 px-6 pb-[6px] pt-2 text-xs font-medium uppercase leading-normal text-primary-700 transition duration-150 ease-in-out hover:border-primary-accent-100 hover:bg-neutral-500 hover:bg-opacity-10 focus:border-primary-accent-100 focus:outline-none focus:ring-0 active:border-primary-accent-200 dark:text-primary-100 dark:hover:bg-neutral-100 dark:hover:bg-opacity-10",children:"PETG"}),E.jsx("button",{value:"TPU",onClick:W,className:"inline-block w-[200px] rounded border-2 border-primary-100 px-6 pb-[6px] pt-2 text-xs font-medium uppercase leading-normal text-primary-700 transition duration-150 ease-in-out hover:border-primary-accent-100 hover:bg-neutral-500 hover:bg-opacity-10 focus:border-primary-accent-100 focus:outline-none focus:ring-0 active:border-primary-accent-200 dark:text-primary-100 dark:hover:bg-neutral-100 dark:hover:bg-opacity-10",children:"TPU"})]}),E.jsxs("div",{className:"flex flex-col items-center mr-5",children:[E.jsx("button",{value:"Carbon",onClick:W,className:"inline-block w-[200px] rounded border-2 border-primary-100 px-6 pb-[6px] pt-2 text-xs font-medium uppercase leading-normal text-primary-700 transition duration-150 ease-in-out hover:border-primary-accent-100 hover:bg-neutral-500 hover:bg-opacity-10 focus:border-primary-accent-100 focus:outline-none focus:ring-0 active:border-primary-accent-200 dark:text-primary-100 dark:hover:bg-neutral-100 dark:hover:bg-opacity-10",children:"Carbon"}),E.jsx("button",{value:"Nylon",onClick:W,className:"inline-block w-[200px] rounded border-2 border-primary-100 px-6 pb-[6px] pt-2 text-xs font-medium uppercase leading-normal text-primary-700 transition duration-150 ease-in-out hover:border-primary-accent-100 hover:bg-neutral-500 hover:bg-opacity-10 focus:border-primary-accent-100 focus:outline-none focus:ring-0 active:border-primary-accent-200 dark:text-primary-100 dark:hover:bg-neutral-100 dark:hover:bg-opacity-10",children:"Nylon"})]})]}),E.jsxs("div",{className:"flex flex-col justify-center items-center mb-[50px]",children:["Calidad",E.jsxs("div",{className:"flex-col",children:[E.jsx("button",{value:"0.2",onClick:F,className:"mr-5 inline-block w-[200px] rounded border-2 border-primary-100 px-6 pb-[6px] pt-2 text-xs font-medium uppercase leading-normal text-primary-700 transition duration-150 ease-in-out hover:border-primary-accent-100 hover:bg-neutral-500 hover:bg-opacity-10 focus:border-primary-accent-100 focus:outline-none focus:ring-0 active:border-primary-accent-200 dark:text-primary-100 dark:hover:bg-neutral-100 dark:hover:bg-opacity-10",children:"0.2"}),E.jsx("button",{value:"0.4",onClick:F,className:"mr-5 inline-block w-[200px] rounded border-2 border-primary-100 px-6 pb-[6px] pt-2 text-xs font-medium uppercase leading-normal text-primary-700 transition duration-150 ease-in-out hover:border-primary-accent-100 hover:bg-neutral-500 hover:bg-opacity-10 focus:border-primary-accent-100 focus:outline-none focus:ring-0 active:border-primary-accent-200 dark:text-primary-100 dark:hover:bg-neutral-100 dark:hover:bg-opacity-10",children:"0.4"}),E.jsx("button",{value:"0.8",onClick:F,className:"mr-5 inline-block w-[200px] rounded border-2 border-primary-100 px-6 pb-[6px] pt-2 text-xs font-medium uppercase leading-normal text-primary-700 transition duration-150 ease-in-out hover:border-primary-accent-100 hover:bg-neutral-500 hover:bg-opacity-10 focus:border-primary-accent-100 focus:outline-none focus:ring-0 active:border-primary-accent-200 dark:text-primary-100 dark:hover:bg-neutral-100 dark:hover:bg-opacity-10",children:"0.8"}),E.jsx("button",{value:"1",onClick:F,className:"mr-5 inline-block w-[200px] rounded border-2 border-primary-100 px-6 pb-[6px] pt-2 text-xs font-medium uppercase leading-normal text-primary-700 transition duration-150 ease-in-out hover:border-primary-accent-100 hover:bg-neutral-500 hover:bg-opacity-10 focus:border-primary-accent-100 focus:outline-none focus:ring-0 active:border-primary-accent-200 dark:text-primary-100 dark:hover:bg-neutral-100 dark:hover:bg-opacity-10",children:"1"})]})]}),E.jsxs("div",{className:"flex flex-col justify-center items-center mb-[60px]",children:["Acabado",E.jsxs("div",{className:"flex-col",children:[E.jsx("button",{value:"Sin",onClick:G,className:"mr-5 inline-block w-[200px] rounded border-2 border-primary-100 px-6 pb-[6px] pt-2 text-xs font-medium uppercase leading-normal text-primary-700 transition duration-150 ease-in-out hover:border-primary-accent-100 hover:bg-neutral-500 hover:bg-opacity-10 focus:border-primary-accent-100 focus:outline-none focus:ring-0 active:border-primary-accent-200 dark:text-primary-100 dark:hover:bg-neutral-100 dark:hover:bg-opacity-10",children:"Sin Procesar"}),E.jsx("button",{value:"Bajo",onClick:G,className:"mr-5 inline-block w-[200px] rounded border-2 border-primary-100 px-6 pb-[6px] pt-2 text-xs font-medium uppercase leading-normal text-primary-700 transition duration-150 ease-in-out hover:border-primary-accent-100 hover:bg-neutral-500 hover:bg-opacity-10 focus:border-primary-accent-100 focus:outline-none focus:ring-0 active:border-primary-accent-200 dark:text-primary-100 dark:hover:bg-neutral-100 dark:hover:bg-opacity-10",children:"Procesado Bajo"}),E.jsx("button",{value:"Medio",onClick:G,className:"mr-5 inline-block w-[200px] rounded border-2 border-primary-100 px-6 pb-[6px] pt-2 text-xs font-medium uppercase leading-normal text-primary-700 transition duration-150 ease-in-out hover:border-primary-accent-100 hover:bg-neutral-500 hover:bg-opacity-10 focus:border-primary-accent-100 focus:outline-none focus:ring-0 active:border-primary-accent-200 dark:text-primary-100 dark:hover:bg-neutral-100 dark:hover:bg-opacity-10",children:"Procesado Medio"}),E.jsx("button",{value:"Alto",onClick:G,className:"mr-5 inline-block w-[200px] rounded border-2 border-primary-100 px-6 pb-[6px] pt-2 text-xs font-medium uppercase leading-normal text-primary-700 transition duration-150 ease-in-out hover:border-primary-accent-100 hover:bg-neutral-500 hover:bg-opacity-10 focus:border-primary-accent-100 focus:outline-none focus:ring-0 active:border-primary-accent-200 dark:text-primary-100 dark:hover:bg-neutral-100 dark:hover:bg-opacity-10",children:"Procesado Alto"})]})]}),E.jsx("button",{onClick:X,className:"bg-blue-500",children:"Calcular"}),w!=null&&E.jsxs("p",{children:["Precio: ",w.toFixed(2)]})]})]})}function cZ(){const[n,e]=N.useState(null),[t,r]=N.useState(null),[i,s]=N.useState(null),[o,a]=N.useState(null),u=new URLSearchParams(window.location.search).get("id");return N.useEffect(()=>{(async()=>{try{const p=await(await fetch(`http://localhost:8080/models/getModel?id=${u}`)).json();e(p),r(p.author_id),s(p.print_settings_id)}catch(h){a("Error fetching data. Please try again later."),console.error("Error fetching data:",h)}})()},[u]),E.jsxs("div",{className:"center",children:[o&&E.jsxs("p",{children:["Error: ",o]}),n&&E.jsxs("div",{children:[E.jsx("h1",{className:"title",children:n.title}),E.jsx("table",{className:"table",children:E.jsxs("tbody",{children:[E.jsxs("tr",{children:[E.jsx("td",{children:E.jsx("b",{children:"Categoría:"})}),E.jsx("td",{children:n.cathegory})]}),E.jsxs("tr",{children:[E.jsx("td",{children:E.jsx("b",{children:"Descripción:"})}),E.jsx("td",{children:n.description})]}),E.jsxs("tr",{children:[E.jsx("td",{children:E.jsx("b",{children:"Tags:"})}),E.jsx("td",{children:n.tags})]})]})})]})]})}function uZ(){return E.jsxs("div",{className:"w-[70%] bg-[#548DB0] h-screen justify-center",children:[E.jsx("div",{className:"w-full h-[300px] px-[15%] flex justify-center mt-[80px] drop-shadow-lg",children:E.jsx("img",{src:"../../public/AboutUsIMG.jpg",alt:"About US",className:"w-full h-auto object-cover rounded-md"})}),E.jsxs("div",{className:"w-full px-[15%] mt-4",children:[E.jsx("h1",{className:"text-[30px] font-[600]",children:"About Volume"}),E.jsx("p",{className:"text-justify text-white",children:"Volume is an innovative platform designed to bring 3D modeling closer to individuals, enabling them to effortlessly design, publish, and download a diverse array of three-dimensional models. This revolutionary project seeks to democratize the world of 3D design, empowering users of all skill levels to unleash their creativity in the realm of digital sculpting and model creation. Volume aims to be more than just a design hub; it is a community where users can share their creations, fostering a collaborative environment that thrives on inspiration and collective growth. One of Volume's primary missions is to promote responsible usage of 3D printing materials. By encouraging the adoption of recycled materials, the platform not only facilitates sustainable practices but also aligns with the United Nations' Sustainable Development Goals (SDGs). This commitment to environmental consciousness reflects Volume's dedication to making a positive impact on the world. Users are not just crafting models; they are contributing to a greener, more sustainable future. Through Volume, individuals can embrace the potential of 3D printing as a force for positive change. It is a platform where creativity converges with environmental responsibility, bridging the gap between design enthusiasts and sustainable practices in a way that echoes the ethos of the modern world's commitment to a more eco-conscious future."})]})]})}function dZ(){return E.jsxs("div",{id:"footerClipContainer",className:"bg-greenFooter pt-32 px-12 pb-12",children:[E.jsxs("div",{className:"grid grid-cols-2 gap-14 lg:flex justify-between md:px-20 mt-40",children:[E.jsxs("div",{className:"order-2 lg:order-1",children:[E.jsx("p",{className:"hover:underline cursor-pointer w-fit text-md md:text-xl",children:"Catálogo"}),E.jsx("p",{className:"hover:underline cursor-pointer mt-2 w-fit text-md md:text-xl",children:"Tutoriales"}),E.jsx("p",{className:"hover:underline cursor-pointer mt-2 w-fit text-md md:text-xl",children:"Foro"})]}),E.jsxs("div",{className:"order-1 lg:order-2",children:[E.jsx("p",{className:"text-xl md:text-2xl",children:"Servicio Técnico"}),E.jsx("p",{className:"max-w-[240px] mt-2 text-sm text-slate-600",children:"Ponle fin a los problemas tecnicos sobre tu impresora 3D"}),E.jsx("p",{className:"hover:underline cursor-pointer mt-2 w-fit text-sm md:text-base",children:"volumetecnico@gmail.com"})]}),E.jsxs("div",{className:"order-4 lg:order-3",children:[E.jsx("p",{className:"text-xl md:text-2xl max-w-[270px]",children:"Siguenos en nuestras redes sociales"}),E.jsx("p",{className:"mt-2 hover:underline cursor-pointer w-fit",children:"Instagram"}),E.jsx("p",{className:"mt-2 hover:underline cursor-pointer w-fit",children:"Twitter"}),E.jsx("p",{className:"mt-2 hover:underline cursor-pointer w-fit",children:"Tik Tok"})]}),E.jsxs("div",{className:"order-3 lg:order-4",children:[E.jsx("p",{className:"text-xl md:text-2xl",children:"Trabaja con nosotros"}),E.jsx("p",{className:"mt-2",children:"Contacto de información"}),E.jsx("p",{className:"hover:underline cursor-pointer mt-2 w-fit",children:"900 676 283"}),E.jsx("p",{className:"hover:underline cursor-pointer mt-2 w-fit text-sm md:text-base",children:"volume@gmail.com"})]})]}),E.jsxs("div",{className:"sm:flex items-end gap-10 mt-24",children:[E.jsx("img",{className:"max-w-[747px] w-full object-contain",src:"../../VolumeLogoXL.svg",alt:"Volume logo"}),E.jsxs("div",{className:"flex md:flex-row flex-col  w-full justify-between",children:[E.jsx("p",{className:"cursor-pointer hover:underline hidden sm:block",children:"Back to menu"}),E.jsx("p",{className:"text-xs mt-4 sm:mt-0",children:"Copyright © Volume 2023"})]})]})]})}function qR(){const n=gs();N.useEffect(()=>{window.scroll(0,0)},[]);const e=()=>{n("/volume/tutorials")},t=()=>{n("/volume/catalogo")},r=()=>{n("/volume/subirarchivo")};return E.jsxs("div",{id:"mainHomeUIContainer",className:"md:w-[80%] w-full mt-14 font-loos",children:[E.jsxs("div",{id:"landingContainer",className:"max-w-[1340px] md:p-0 p-6 mx-auto animate-fade animate-delay-200",children:[E.jsx("img",{src:"../../VolumeLanding.svg",draggable:!1}),E.jsx("p",{className:"w-full text-center lg:text-5xl text-3xl mt-3.5",children:"Dale vida a tus objetos"})]}),E.jsxs("div",{id:"secondSectionContainer",className:"w-full relative mt-72 sm:mt-52 2xl:mt-72 px-6 md:px-0",children:[E.jsx("img",{className:"absolute max-h-[400px] top-52 blur-sm w-auto hidden 2xl:block",src:"../../LeftJarron.png",alt:"Jarron Izq"}),E.jsx("img",{className:"absolute max-h-[400px] top-52 blur-sm end-0 w-auto hidden 2xl:block",src:"../../RightJarron.png",alt:"Jarron Der"}),E.jsx("div",{id:"modelOfTheDayContainer",className:"flex items-start justify-center",children:E.jsxs("div",{className:"w-fit sm:flex 2xl:grid grid-cols-3",children:[E.jsx("img",{className:"w-full mx-auto sm:mx-0 xl:w-fit max-w-[300px] xl:max-w-[400px] h-auto object-contain col-start-2 hover:drop-shadow-2xl transition duration-300",src:"../../3DModelPreview.png",alt:"3D Model Preview"}),E.jsxs("div",{className:"w-fit p-8 col-start-3 mx-auto sm:mx-0",children:[E.jsxs("div",{className:"flex gap-4 items-center",children:[E.jsx("div",{className:"bg-neutral-400 rounded-full w-12 h-12"}),E.jsx("p",{className:"text-2xl",children:"orhugo"})]}),E.jsx("p",{className:"text-5xl md:text-6xl lg:text-8xl max-w-sm LoosFont font-[900] hover:text-azulVolume cursor-pointer transition duration-300",children:"Diseño Jarrones"}),E.jsxs("div",{className:"flex gap-4 mt-6",children:[E.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11.48 3.499a.562.562 0 011.04 0l2.125 5.111a.563.563 0 00.475.345l5.518.442c.499.04.701.663.321.988l-4.204 3.602a.563.563 0 00-.182.557l1.285 5.385a.562.562 0 01-.84.61l-4.725-2.885a.563.563 0 00-.586 0L6.982 20.54a.562.562 0 01-.84-.61l1.285-5.386a.562.562 0 00-.182-.557l-4.204-3.602a.563.563 0 01.321-.988l5.518-.442a.563.563 0 00.475-.345L11.48 3.5z"})}),E.jsx("p",{children:"4,6/5"})]})]})]})})]}),E.jsxs("div",{id:"thirdSectionContainer",className:"w-full mt-72",children:[E.jsx("div",{id:"aprendeDesdeCeroDiv",className:"relative bg-marronPocho px-6 pt-2 pb-8 mx-3 lg:hover:scale-105 transition duration-300 cursor-pointer font-loos text-3xl xl:z-10 xl:hover:z-50",onClick:e,children:E.jsx("p",{className:"LoosFont font-[550]",children:"Aprende desde cero"})}),E.jsx("div",{id:"buscaDiseñoDiv",className:"relative bg-greenFooter p-6 pb-8 -mt-7 md:-mt-5 mx-3 lg:hover:scale-105 transition duration-300 cursor-pointer font-loos text-3xl xl:z-10 xl:hover:z-50",onClick:t,children:E.jsx("p",{className:"LoosFont font-[550]",children:"Busca el diseño hecho para ti"})}),E.jsxs("div",{id:"hazRealidadDiv",className:"relative bg-azulVolume p-6 pt-10 pb-12 -mt-10 md:-mt-7 lg:hover:scale-105 transition duration-300 cursor-pointer font-loos text-3xl xl:z-10 xl:hover:z-50",onClick:r,children:[E.jsx("p",{className:"LoosFont font-[550]",children:"Haz realidad tu creacion"}),E.jsx("div",{className:"flex justify-end mt-16",children:E.jsxs("div",{children:[E.jsx("img",{className:"w-full max-w-[578px]",src:"../../Solicita%20una.svg",alt:"Solicita una",draggable:!1}),E.jsx("img",{className:"w-full max-w-[578px] mt-6 lg:ml-20 ml-0",src:"../../impresión%203D.svg",alt:"Impresion 3D",draggable:!1}),E.jsx("p",{className:"text-2xl lg:ml-20 ml-0 mt-6",children:"¡Piénsalo y créalo!"}),E.jsx("p",{className:"text-base lg:ml-20 ml-0 flex max-w-[500px] mt-6",children:"Volume tiene habilitado un servicio de impresión y envío. Descarga o compra el modelo hecho para ti y te lo enviamos a casa."})]})})]})]})]})}function fZ(){const n=gs(),e=()=>{n("/volume")};return E.jsxs("svg",{onClick:e,width:"120",height:"17",viewBox:"0 0 120 17",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"object-contain cursor-pointer",children:[E.jsx("path",{d:"M0 1.58667H3.91264L9.02394 13.464H9.99644L15.0625 1.58667H18.8168L15.5714 9.18L12.3259 16.7733H6.53614L0 1.58667Z",fill:"black"}),E.jsx("path",{d:"M25.8956 4.91867H40.5662C44.8859 4.91867 47.9164 6.82267 47.9164 10.5627V11.3333C47.9164 15.1413 44.8859 16.9773 40.5662 16.9773H25.8956C21.5533 16.9773 18.5453 15.1413 18.5453 11.3333V10.5627C18.5453 6.82267 21.5533 4.91867 25.8956 4.91867ZM25.8956 7.82C23.3626 7.82 22.2996 8.908 22.2996 10.54V11.356C22.2996 13.0107 23.3626 14.0987 25.8956 14.0987H40.5662C43.0992 14.0987 44.1621 13.0107 44.1621 11.356V10.54C44.1621 8.908 43.0992 7.82 40.5662 7.82H25.8956Z",fill:"black"}),E.jsx("path",{d:"M50.259 0H54.0131V16.7733H50.259V0Z",fill:"black"}),E.jsx("path",{d:"M70.6871 16.7733H66.9329V15.096H66.3901C65.6212 16.252 64.1511 17 62.0252 17H61.5277C58.2031 17 56.4619 15.2773 56.4619 11.764V5.14533H60.216V11.152C60.216 12.9427 61.1658 13.9853 63.2917 13.9853H63.8119C65.8926 13.9853 66.9329 12.92 66.9329 11.152V5.14533H70.6871V16.7733Z",fill:"black"}),E.jsx("path",{d:"M73.2943 5.14533H77.0485V6.84533H77.5458C78.2695 5.644 79.7848 4.91867 81.8429 4.91867H82.069C83.9462 4.91867 85.258 5.576 86.0269 6.84533H86.5923C87.4065 5.59867 88.9444 4.91867 90.7537 4.91867H90.9799C94.0557 4.91867 95.7972 6.30133 95.7972 9.86V16.7733H92.0429V10.336C92.0429 8.772 91.1834 7.91067 89.3515 7.91067H89.1253C87.3387 7.91067 86.4114 8.79467 86.4114 10.3587V16.7733H82.6571V10.336C82.6571 8.81733 81.7976 7.91067 79.9883 7.91067H79.7622C77.9755 7.91067 77.0485 8.79467 77.0485 10.336V16.7733H73.2943V5.14533Z",fill:"black"}),E.jsx("path",{d:"M105.217 4.91867H112.854C116.925 4.91867 120 6.77733 120 10.6307V11.7867H101.553C101.598 13.464 102.865 14.416 105.217 14.416H112.854C114.731 14.416 115.974 13.9853 116.404 12.8747H119.864C119.457 15.2093 117.309 16.9773 112.854 16.9773H105.217C101.124 16.9773 98.025 15.2093 98.025 11.4013V10.6307C98.025 6.77733 101.101 4.91867 105.217 4.91867ZM105.194 7.50267C103.069 7.50267 101.87 8.228 101.598 9.54267H116.449C116.178 8.25067 114.844 7.50267 112.854 7.50267H105.194Z",fill:"black"})]})}function Nd({name:n,urlNavigate:e}){const t=gs(),r=()=>{t(e)};return E.jsx("div",{className:"cursor-pointer hover:text-cyan-800 hidden lg:block",onClick:r,children:n})}function hZ(){const[n,e]=N.useState(!1),t="/volume/",r="/volume/catalogo",i="/volume/tutorials",s="/volume/calcularpresupuesto",o=JSON.parse(localStorage.getItem("user")),a=localStorage.getItem("isLoggedIn");N.useEffect(()=>{o!=null?e(!0):e(!1)},[]);const l=gs(),u=()=>{l("/volume/profile",{state:{user:o.username}})},f=()=>{l("/volume/subirarchivo")},h=()=>{l("/volume/userlogin")},p=()=>{l("/volume/userregistration")};return E.jsxs("div",{id:"navigationBar",className:"w-[60%] min-w-[216px] lg:w-[935px] sticky top-0 px-8 py-2 flex border-[1px] border-black rounded-full items-center justify-between animate-fade-down animate-delay-200 backdrop-blur-sm",children:[E.jsx("div",{children:E.jsxs("div",{id:"logoContainer",className:"flex items-center gap-12 my-2",children:[E.jsx(fZ,{urlNavigate:t}),E.jsx("svg",{id:"menuLgIcon",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6 hidden sm:block lg:hidden cursor-pointer hover:text-cyan-600",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"})}),E.jsx(Nd,{name:"Catalogo",urlNavigate:r}),E.jsx(Nd,{name:"3D Of the day"}),E.jsx(Nd,{name:"Tutoriales",urlNavigate:i}),E.jsx(Nd,{name:"Foro"}),E.jsx(Nd,{name:"Presupuesto",urlNavigate:s})]})}),E.jsx("div",{className:"flex items-center gap-4",children:a?E.jsxs(E.Fragment,{children:[E.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-8 h-8 hover:text-cyan-600 cursor-pointer hidden sm:block",onClick:f,children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 005.25 21h13.5A2.25 2.25 0 0021 18.75V16.5m-13.5-9L12 3m0 0l4.5 4.5M12 3v13.5"})}),E.jsx("div",{id:"profileImgContainer",className:"w-10 h-10 rounded-full bg-slate-800 hidden sm:block cursor-pointer hover:drop-shadow-slim transition duration-300",onClick:u}),E.jsx("svg",{id:"menuIcon",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5 ml-2 sm:hidden cursor-pointer hover:text-cyan-600",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"})})]}):E.jsx(E.Fragment,{children:E.jsxs("div",{className:"flex gap-4 items-center",children:[E.jsx("p",{className:"hover:underline transition duration-300 cursor-pointer text-sm",onClick:h,children:"Iniciar sesión"}),E.jsx("p",{className:"text-lg cursor-default",children:"|"}),E.jsx("p",{className:"hover:underline transition duration-300 cursor-pointer text-sm",onClick:p,children:"Registrarse"})]})})})]})}function pZ(){const n=JSON.parse(localStorage.getItem("user")),e=gs();return N.useEffect(()=>{window.scroll(0,0),n===null&&e("/Volume/UserRegistration")},[n,e]),E.jsx("div",{children:n!==null?E.jsxs("div",{className:"md:w-[80%] w-full mt-14 font-loos animate-fade",children:[E.jsx("div",{className:"mainLabelContainer",children:E.jsxs("svg",{className:"max-w-[1440px] mx-auto w-full object-contain",width:"1047",height:"90",viewBox:"0 0 1047 90",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[E.jsx("path",{d:"M40.6039 7.87799H43.4359C66.5639 7.87799 81.7859 16.256 81.7859 33.248V37.378H66.2099V33.248C66.2099 24.044 57.1239 20.268 43.3179 20.268H40.6039C26.5619 20.268 17.8299 23.926 17.8299 30.062V31.36C17.8299 38.204 24.5559 39.738 47.8019 42.452C73.0539 45.638 83.4379 51.892 83.4379 65.226V66.642C83.4379 80.212 69.6319 89.062 43.7899 89.062H41.0759C14.5259 89.062 0.837891 80.094 0.837891 62.984V58.736H16.4139V62.984C16.4139 73.25 25.2639 76.554 41.0759 76.554H43.9079C58.8939 76.554 67.6259 73.368 67.6259 66.878V65.462C67.6259 58.972 60.3099 56.612 37.6539 54.016C14.2899 51.42 2.01789 45.992 2.01789 32.068V30.652C2.01789 16.256 16.8859 7.87799 40.6039 7.87799Z",fill:"black"}),E.jsx("path",{d:"M198.701 88H183.007V79.032H180.175C176.045 85.05 168.375 89.062 157.283 89.062H120.986C103.876 89.062 94.5539 80.094 94.5539 62.158V28.174H110.248V59.798C110.248 70.3 116.03 76.318 128.302 76.318H164.599C176.399 76.318 183.007 70.182 183.007 59.798V28.174H198.701V88Z",fill:"black"}),E.jsx("path",{d:"M212.864 0.679993H228.558V37.26H231.272C236.582 30.652 244.606 27.112 254.99 27.112H257.822C275.404 27.112 288.856 36.552 288.856 56.258V59.916C288.856 79.858 275.404 89.062 257.822 89.062H254.99C244.252 89.062 236.228 85.522 231.272 78.796H228.558V88H212.864V0.679993ZM249.444 39.384C237.172 39.384 228.558 45.166 228.558 56.258V60.034C228.558 71.244 237.29 76.79 249.444 76.79H252.158C264.666 76.79 273.044 70.89 273.044 60.034V56.258C273.044 45.402 264.666 39.384 252.158 39.384H249.444Z",fill:"black"}),E.jsx("path",{d:"M301.48 28.174H317.174V88H301.48V28.174ZM308.678 2.92199H310.094C314.696 2.92199 318.354 6.10799 318.354 10.238C318.354 14.604 314.696 17.672 310.094 17.672H308.678C304.076 17.672 300.418 14.604 300.418 10.238C300.418 6.10799 304.076 2.92199 308.678 2.92199Z",fill:"black"}),E.jsx("path",{d:"M331.095 28.174H346.789V35.608H349.385C353.397 30.298 359.533 27.112 369.445 27.112C384.549 27.112 392.573 34.546 392.573 51.538V54.96H377.941V52.246C377.941 44.104 372.867 39.738 362.601 39.738C352.217 39.738 346.789 44.104 346.789 52.246V88H331.095V28.174Z",fill:"black"}),E.jsx("path",{d:"M463.703 27.112H466.535C488.601 27.112 499.339 35.136 499.339 48.942V88H483.645V79.622H480.459C474.323 86.23 465.827 89.062 453.791 89.062C439.159 89.062 429.247 83.28 429.247 71.008C429.247 58.854 438.097 52.482 456.741 52.482H483.645V48.942C483.645 41.272 477.273 37.85 466.417 37.85H463.703C453.319 37.85 446.593 41.154 446.593 48.588H430.899C430.899 35.018 441.873 27.112 463.703 27.112ZM459.101 61.568C449.307 61.568 445.177 64.046 445.177 69.592C445.177 75.02 449.897 77.852 460.399 77.852C470.193 77.852 483.645 74.784 483.645 64.518V61.568H459.101Z",fill:"black"}),E.jsx("path",{d:"M512.704 28.174H528.398V35.608H530.994C535.006 30.298 541.142 27.112 551.054 27.112C566.158 27.112 574.182 34.546 574.182 51.538V54.96H559.55V52.246C559.55 44.104 554.476 39.738 544.21 39.738C533.826 39.738 528.398 44.104 528.398 52.246V88H512.704V28.174Z",fill:"black"}),E.jsx("path",{d:"M618.499 27.112H652C672.296 27.112 687.518 35.49 687.518 52.482H671.824C671.824 44.34 664.154 39.384 652 39.384H618.499C605.755 39.384 598.203 45.638 598.203 56.494V60.27C598.203 70.89 605.755 76.79 618.499 76.79H652C663.918 76.79 672.178 72.306 672.178 64.282H687.872C687.872 80.566 672.296 89.062 652 89.062H618.499C596.905 89.062 582.509 79.622 582.509 60.27V56.494C582.509 37.142 596.905 27.112 618.499 27.112Z",fill:"black"}),E.jsx("path",{d:"M700.671 0.679993H716.365V37.142H719.197C723.327 31.124 730.997 27.112 742.089 27.112H744.331C761.441 27.112 770.763 36.198 770.763 54.016V88H755.069V56.376C755.069 45.874 749.287 39.856 737.015 39.856H734.773C722.973 39.856 716.365 45.992 716.365 56.376V88H700.671V0.679993Z",fill:"black"}),E.jsx("path",{d:"M784.101 28.174H799.795V88H784.101V28.174ZM791.299 2.92199H792.715C797.317 2.92199 800.975 6.10799 800.975 10.238C800.975 14.604 797.317 17.672 792.715 17.672H791.299C786.697 17.672 783.039 14.604 783.039 10.238C783.039 6.10799 786.697 2.92199 791.299 2.92199Z",fill:"black"}),E.jsx("path",{d:"M808.406 28.174H825.516L846.756 71.952H851.594L872.362 28.174H888.056L859.618 88H837.434L808.406 28.174Z",fill:"black"}),E.jsx("path",{d:"M928.167 27.112H930.999C952.121 27.112 967.579 37.024 967.579 56.258V59.916C967.579 79.504 952.121 89.062 930.999 89.062H928.167C906.927 89.062 891.587 79.504 891.587 59.916V56.258C891.587 37.024 906.927 27.112 928.167 27.112ZM928.167 39.384C914.479 39.384 907.281 45.874 907.281 56.258V60.034C907.281 70.418 914.479 76.79 928.167 76.79H930.999C944.687 76.79 951.767 70.418 951.767 60.034V56.258C951.767 45.874 944.687 39.384 930.999 39.384H928.167Z",fill:"black"}),E.jsx("path",{d:"M1010.33 27.112H1013.04C1032.16 27.112 1045.61 33.366 1045.61 47.172V48.352H1030.03V47.172C1030.03 39.974 1022.6 37.26 1013.04 37.26H1010.33C1000.3 37.26 994.041 39.502 994.041 44.812C994.041 50.594 1000.18 51.774 1015.99 53.072C1038.53 55.078 1046.79 59.916 1046.79 70.3V71.126C1046.79 82.808 1034.99 89.062 1013.51 89.062H1010.8C989.439 89.062 977.639 82.808 977.639 69.12V67.94H993.215V69.12C993.215 75.964 999.233 78.796 1010.8 78.796H1013.51C1026.02 78.796 1031.09 76.436 1031.09 71.362C1031.09 65.816 1025.08 64.164 1008.2 62.866C988.495 61.332 978.347 57.32 978.347 45.874V44.93C978.347 33.13 991.799 27.112 1010.33 27.112Z",fill:"black"})]})}),E.jsx("div",{className:"flex w-full max-w-[1000px] mx-auto mt-16 min-h-[400px]",children:E.jsx(NJ,{})})]}):null})}var mZ={},NN={},Yv={},DN={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var e={animating:!1,autoplaying:null,currentDirection:0,currentLeft:null,currentSlide:0,direction:1,dragging:!1,edgeDragged:!1,initialized:!1,lazyLoadedList:[],listHeight:null,listWidth:null,scrolling:!1,slideCount:null,slideHeight:null,slideWidth:null,swipeLeft:null,swiped:!1,swiping:!1,touchObject:{startX:0,startY:0,curX:0,curY:0},trackStyle:{},trackWidth:0,targetSlide:0},t=e;n.default=t})(DN);var gZ="Expected a function",YR=0/0,vZ="[object Symbol]",yZ=/^\s+|\s+$/g,xZ=/^[-+]0x[0-9a-f]+$/i,_Z=/^0b[01]+$/i,wZ=/^0o[0-7]+$/i,SZ=parseInt,bZ=typeof Lp=="object"&&Lp&&Lp.Object===Object&&Lp,EZ=typeof self=="object"&&self&&self.Object===Object&&self,MZ=bZ||EZ||Function("return this")(),TZ=Object.prototype,CZ=TZ.toString,AZ=Math.max,RZ=Math.min,F_=function(){return MZ.Date.now()};function PZ(n,e,t){var r,i,s,o,a,l,u=0,f=!1,h=!1,p=!0;if(typeof n!="function")throw new TypeError(gZ);e=KR(e)||0,tS(t)&&(f=!!t.leading,h="maxWait"in t,s=h?AZ(KR(t.maxWait)||0,e):s,p="trailing"in t?!!t.trailing:p);function g(P){var L=r,k=i;return r=i=void 0,u=P,o=n.apply(k,L),o}function v(P){return u=P,a=setTimeout(m,e),f?g(P):o}function x(P){var L=P-l,k=P-u,C=e-L;return h?RZ(C,s-k):C}function _(P){var L=P-l,k=P-u;return l===void 0||L>=e||L<0||h&&k>=s}function m(){var P=F_();if(_(P))return w(P);a=setTimeout(m,x(P))}function w(P){return a=void 0,p&&r?g(P):(r=i=void 0,o)}function S(){a!==void 0&&clearTimeout(a),u=0,r=l=i=a=void 0}function M(){return a===void 0?o:w(F_())}function R(){var P=F_(),L=_(P);if(r=arguments,i=this,l=P,L){if(a===void 0)return v(l);if(h)return a=setTimeout(m,e),g(l)}return a===void 0&&(a=setTimeout(m,e)),o}return R.cancel=S,R.flush=M,R}function tS(n){var e=typeof n;return!!n&&(e=="object"||e=="function")}function LZ(n){return!!n&&typeof n=="object"}function OZ(n){return typeof n=="symbol"||LZ(n)&&CZ.call(n)==vZ}function KR(n){if(typeof n=="number")return n;if(OZ(n))return YR;if(tS(n)){var e=typeof n.valueOf=="function"?n.valueOf():n;n=tS(e)?e+"":e}if(typeof n!="string")return n===0?n:+n;n=n.replace(yZ,"");var t=_Z.test(n);return t||wZ.test(n)?SZ(n.slice(2),t?2:8):xZ.test(n)?YR:+n}var kZ=PZ,UN={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(n){(function(){var e={}.hasOwnProperty;function t(){for(var r=[],i=0;i<arguments.length;i++){var s=arguments[i];if(s){var o=typeof s;if(o==="string"||o==="number")r.push(s);else if(Array.isArray(s)){if(s.length){var a=t.apply(null,s);a&&r.push(a)}}else if(o==="object"){if(s.toString!==Object.prototype.toString&&!s.toString.toString().includes("[native code]")){r.push(s.toString());continue}for(var l in s)e.call(s,l)&&s[l]&&r.push(l)}}}return r.join(" ")}n.exports?(t.default=t,n.exports=t):window.classNames=t})()})(UN);var Kv=UN.exports,Xe={};Object.defineProperty(Xe,"__esModule",{value:!0});Xe.checkSpecKeys=Xe.checkNavigable=Xe.changeSlide=Xe.canUseDOM=Xe.canGoNext=void 0;Xe.clamp=FN;Xe.swipeStart=Xe.swipeMove=Xe.swipeEnd=Xe.slidesOnRight=Xe.slidesOnLeft=Xe.slideHandler=Xe.siblingDirection=Xe.safePreventDefault=Xe.lazyStartIndex=Xe.lazySlidesOnRight=Xe.lazySlidesOnLeft=Xe.lazyEndIndex=Xe.keyHandler=Xe.initializedState=Xe.getWidth=Xe.getTrackLeft=Xe.getTrackCSS=Xe.getTrackAnimateCSS=Xe.getTotalSlides=Xe.getSwipeDirection=Xe.getSlideCount=Xe.getRequiredLazySlides=Xe.getPreClones=Xe.getPostClones=Xe.getOnDemandLazySlides=Xe.getNavigableIndexes=Xe.getHeight=Xe.extractObject=void 0;var IZ=NZ(N);function NZ(n){return n&&n.__esModule?n:{default:n}}function JR(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function fn(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?JR(Object(t),!0).forEach(function(r){DZ(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):JR(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function DZ(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function FN(n,e,t){return Math.max(e,Math.min(n,t))}var bl=function(e){var t=["onTouchStart","onTouchMove","onWheel"];t.includes(e._reactName)||e.preventDefault()};Xe.safePreventDefault=bl;var HE=function(e){for(var t=[],r=VE(e),i=WE(e),s=r;s<i;s++)e.lazyLoadedList.indexOf(s)<0&&t.push(s);return t};Xe.getOnDemandLazySlides=HE;var UZ=function(e){for(var t=[],r=VE(e),i=WE(e),s=r;s<i;s++)t.push(s);return t};Xe.getRequiredLazySlides=UZ;var VE=function(e){return e.currentSlide-zN(e)};Xe.lazyStartIndex=VE;var WE=function(e){return e.currentSlide+BN(e)};Xe.lazyEndIndex=WE;var zN=function(e){return e.centerMode?Math.floor(e.slidesToShow/2)+(parseInt(e.centerPadding)>0?1:0):0};Xe.lazySlidesOnLeft=zN;var BN=function(e){return e.centerMode?Math.floor((e.slidesToShow-1)/2)+1+(parseInt(e.centerPadding)>0?1:0):e.slidesToShow};Xe.lazySlidesOnRight=BN;var h0=function(e){return e&&e.offsetWidth||0};Xe.getWidth=h0;var GE=function(e){return e&&e.offsetHeight||0};Xe.getHeight=GE;var $E=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,r,i,s,o;return r=e.startX-e.curX,i=e.startY-e.curY,s=Math.atan2(i,r),o=Math.round(s*180/Math.PI),o<0&&(o=360-Math.abs(o)),o<=45&&o>=0||o<=360&&o>=315?"left":o>=135&&o<=225?"right":t===!0?o>=35&&o<=135?"up":"down":"vertical"};Xe.getSwipeDirection=$E;var XE=function(e){var t=!0;return e.infinite||(e.centerMode&&e.currentSlide>=e.slideCount-1||e.slideCount<=e.slidesToShow||e.currentSlide>=e.slideCount-e.slidesToShow)&&(t=!1),t};Xe.canGoNext=XE;var FZ=function(e,t){var r={};return t.forEach(function(i){return r[i]=e[i]}),r};Xe.extractObject=FZ;var zZ=function(e){var t=IZ.default.Children.count(e.children),r=e.listRef,i=Math.ceil(h0(r)),s=e.trackRef&&e.trackRef.node,o=Math.ceil(h0(s)),a;if(e.vertical)a=i;else{var l=e.centerMode&&parseInt(e.centerPadding)*2;typeof e.centerPadding=="string"&&e.centerPadding.slice(-1)==="%"&&(l*=i/100),a=Math.ceil((i-l)/e.slidesToShow)}var u=r&&GE(r.querySelector('[data-index="0"]')),f=u*e.slidesToShow,h=e.currentSlide===void 0?e.initialSlide:e.currentSlide;e.rtl&&e.currentSlide===void 0&&(h=t-1-e.initialSlide);var p=e.lazyLoadedList||[],g=HE(fn(fn({},e),{},{currentSlide:h,lazyLoadedList:p}));p=p.concat(g);var v={slideCount:t,slideWidth:a,listWidth:i,trackWidth:o,currentSlide:h,slideHeight:u,listHeight:f,lazyLoadedList:p};return e.autoplaying===null&&e.autoplay&&(v.autoplaying="playing"),v};Xe.initializedState=zZ;var BZ=function(e){var t=e.waitForAnimate,r=e.animating,i=e.fade,s=e.infinite,o=e.index,a=e.slideCount,l=e.lazyLoad,u=e.currentSlide,f=e.centerMode,h=e.slidesToScroll,p=e.slidesToShow,g=e.useCSS,v=e.lazyLoadedList;if(t&&r)return{};var x=o,_,m,w,S={},M={},R=s?o:FN(o,0,a-1);if(i){if(!s&&(o<0||o>=a))return{};o<0?x=o+a:o>=a&&(x=o-a),l&&v.indexOf(x)<0&&(v=v.concat(x)),S={animating:!0,currentSlide:x,lazyLoadedList:v,targetSlide:x},M={animating:!1,targetSlide:x}}else _=x,x<0?(_=x+a,s?a%h!==0&&(_=a-a%h):_=0):!XE(e)&&x>u?x=_=u:f&&x>=a?(x=s?a:a-1,_=s?0:a-1):x>=a&&(_=x-a,s?a%h!==0&&(_=0):_=a-p),!s&&x+p>=a&&(_=a-p),m=sh(fn(fn({},e),{},{slideIndex:x})),w=sh(fn(fn({},e),{},{slideIndex:_})),s||(m===w&&(x=_),m=w),l&&(v=v.concat(HE(fn(fn({},e),{},{currentSlide:x})))),g?(S={animating:!0,currentSlide:_,trackStyle:qE(fn(fn({},e),{},{left:m})),lazyLoadedList:v,targetSlide:R},M={animating:!1,currentSlide:_,trackStyle:ih(fn(fn({},e),{},{left:w})),swipeLeft:null,targetSlide:R}):S={currentSlide:_,trackStyle:ih(fn(fn({},e),{},{left:w})),lazyLoadedList:v,targetSlide:R};return{state:S,nextState:M}};Xe.slideHandler=BZ;var jZ=function(e,t){var r,i,s,o,a,l=e.slidesToScroll,u=e.slidesToShow,f=e.slideCount,h=e.currentSlide,p=e.targetSlide,g=e.lazyLoad,v=e.infinite;if(o=f%l!==0,r=o?0:(f-h)%l,t.message==="previous")s=r===0?l:u-r,a=h-s,g&&!v&&(i=h-s,a=i===-1?f-1:i),v||(a=p-l);else if(t.message==="next")s=r===0?l:r,a=h+s,g&&!v&&(a=(h+l)%f+r),v||(a=p+l);else if(t.message==="dots")a=t.index*t.slidesToScroll;else if(t.message==="children"){if(a=t.index,v){var x=WN(fn(fn({},e),{},{targetSlide:a}));a>t.currentSlide&&x==="left"?a=a-f:a<t.currentSlide&&x==="right"&&(a=a+f)}}else t.message==="index"&&(a=Number(t.index));return a};Xe.changeSlide=jZ;var HZ=function(e,t,r){return e.target.tagName.match("TEXTAREA|INPUT|SELECT")||!t?"":e.keyCode===37?r?"next":"previous":e.keyCode===39?r?"previous":"next":""};Xe.keyHandler=HZ;var VZ=function(e,t,r){return e.target.tagName==="IMG"&&bl(e),!t||!r&&e.type.indexOf("mouse")!==-1?"":{dragging:!0,touchObject:{startX:e.touches?e.touches[0].pageX:e.clientX,startY:e.touches?e.touches[0].pageY:e.clientY,curX:e.touches?e.touches[0].pageX:e.clientX,curY:e.touches?e.touches[0].pageY:e.clientY}}};Xe.swipeStart=VZ;var WZ=function(e,t){var r=t.scrolling,i=t.animating,s=t.vertical,o=t.swipeToSlide,a=t.verticalSwiping,l=t.rtl,u=t.currentSlide,f=t.edgeFriction,h=t.edgeDragged,p=t.onEdge,g=t.swiped,v=t.swiping,x=t.slideCount,_=t.slidesToScroll,m=t.infinite,w=t.touchObject,S=t.swipeEvent,M=t.listHeight,R=t.listWidth;if(!r){if(i)return bl(e);s&&o&&a&&bl(e);var P,L={},k=sh(t);w.curX=e.touches?e.touches[0].pageX:e.clientX,w.curY=e.touches?e.touches[0].pageY:e.clientY,w.swipeLength=Math.round(Math.sqrt(Math.pow(w.curX-w.startX,2)));var C=Math.round(Math.sqrt(Math.pow(w.curY-w.startY,2)));if(!a&&!v&&C>10)return{scrolling:!0};a&&(w.swipeLength=C);var A=(l?-1:1)*(w.curX>w.startX?1:-1);a&&(A=w.curY>w.startY?1:-1);var U=Math.ceil(x/_),W=$E(t.touchObject,a),F=w.swipeLength;return m||(u===0&&(W==="right"||W==="down")||u+1>=U&&(W==="left"||W==="up")||!XE(t)&&(W==="left"||W==="up"))&&(F=w.swipeLength*f,h===!1&&p&&(p(W),L.edgeDragged=!0)),!g&&S&&(S(W),L.swiped=!0),s?P=k+F*(M/R)*A:l?P=k-F*A:P=k+F*A,a&&(P=k+F*A),L=fn(fn({},L),{},{touchObject:w,swipeLeft:P,trackStyle:ih(fn(fn({},t),{},{left:P}))}),Math.abs(w.curX-w.startX)<Math.abs(w.curY-w.startY)*.8||w.swipeLength>10&&(L.swiping=!0,bl(e)),L}};Xe.swipeMove=WZ;var GZ=function(e,t){var r=t.dragging,i=t.swipe,s=t.touchObject,o=t.listWidth,a=t.touchThreshold,l=t.verticalSwiping,u=t.listHeight,f=t.swipeToSlide,h=t.scrolling,p=t.onSwipe,g=t.targetSlide,v=t.currentSlide,x=t.infinite;if(!r)return i&&bl(e),{};var _=l?u/a:o/a,m=$E(s,l),w={dragging:!1,edgeDragged:!1,scrolling:!1,swiping:!1,swiped:!1,swipeLeft:null,touchObject:{}};if(h||!s.swipeLength)return w;if(s.swipeLength>_){bl(e),p&&p(m);var S,M,R=x?v:g;switch(m){case"left":case"up":M=R+rS(t),S=f?nS(t,M):M,w.currentDirection=0;break;case"right":case"down":M=R-rS(t),S=f?nS(t,M):M,w.currentDirection=1;break;default:S=R}w.triggerSlideHandler=S}else{var P=sh(t);w.trackStyle=qE(fn(fn({},t),{},{left:P}))}return w};Xe.swipeEnd=GZ;var jN=function(e){for(var t=e.infinite?e.slideCount*2:e.slideCount,r=e.infinite?e.slidesToShow*-1:0,i=e.infinite?e.slidesToShow*-1:0,s=[];r<t;)s.push(r),r=i+e.slidesToScroll,i+=Math.min(e.slidesToScroll,e.slidesToShow);return s};Xe.getNavigableIndexes=jN;var nS=function(e,t){var r=jN(e),i=0;if(t>r[r.length-1])t=r[r.length-1];else for(var s in r){if(t<r[s]){t=i;break}i=r[s]}return t};Xe.checkNavigable=nS;var rS=function(e){var t=e.centerMode?e.slideWidth*Math.floor(e.slidesToShow/2):0;if(e.swipeToSlide){var r,i=e.listRef,s=i.querySelectorAll&&i.querySelectorAll(".slick-slide")||[];if(Array.from(s).every(function(l){if(e.vertical){if(l.offsetTop+GE(l)/2>e.swipeLeft*-1)return r=l,!1}else if(l.offsetLeft-t+h0(l)/2>e.swipeLeft*-1)return r=l,!1;return!0}),!r)return 0;var o=e.rtl===!0?e.slideCount-e.currentSlide:e.currentSlide,a=Math.abs(r.dataset.index-o)||1;return a}else return e.slidesToScroll};Xe.getSlideCount=rS;var Jv=function(e,t){return t.reduce(function(r,i){return r&&e.hasOwnProperty(i)},!0)?null:console.error("Keys Missing:",e)};Xe.checkSpecKeys=Jv;var ih=function(e){Jv(e,["left","variableWidth","slideCount","slidesToShow","slideWidth"]);var t,r,i=e.slideCount+2*e.slidesToShow;e.vertical?r=i*e.slideHeight:t=VN(e)*e.slideWidth;var s={opacity:1,transition:"",WebkitTransition:""};if(e.useTransform){var o=e.vertical?"translate3d(0px, "+e.left+"px, 0px)":"translate3d("+e.left+"px, 0px, 0px)",a=e.vertical?"translate3d(0px, "+e.left+"px, 0px)":"translate3d("+e.left+"px, 0px, 0px)",l=e.vertical?"translateY("+e.left+"px)":"translateX("+e.left+"px)";s=fn(fn({},s),{},{WebkitTransform:o,transform:a,msTransform:l})}else e.vertical?s.top=e.left:s.left=e.left;return e.fade&&(s={opacity:1}),t&&(s.width=t),r&&(s.height=r),window&&!window.addEventListener&&window.attachEvent&&(e.vertical?s.marginTop=e.left+"px":s.marginLeft=e.left+"px"),s};Xe.getTrackCSS=ih;var qE=function(e){Jv(e,["left","variableWidth","slideCount","slidesToShow","slideWidth","speed","cssEase"]);var t=ih(e);return e.useTransform?(t.WebkitTransition="-webkit-transform "+e.speed+"ms "+e.cssEase,t.transition="transform "+e.speed+"ms "+e.cssEase):e.vertical?t.transition="top "+e.speed+"ms "+e.cssEase:t.transition="left "+e.speed+"ms "+e.cssEase,t};Xe.getTrackAnimateCSS=qE;var sh=function(e){if(e.unslick)return 0;Jv(e,["slideIndex","trackRef","infinite","centerMode","slideCount","slidesToShow","slidesToScroll","slideWidth","listWidth","variableWidth","slideHeight"]);var t=e.slideIndex,r=e.trackRef,i=e.infinite,s=e.centerMode,o=e.slideCount,a=e.slidesToShow,l=e.slidesToScroll,u=e.slideWidth,f=e.listWidth,h=e.variableWidth,p=e.slideHeight,g=e.fade,v=e.vertical,x=0,_,m,w=0;if(g||e.slideCount===1)return 0;var S=0;if(i?(S=-df(e),o%l!==0&&t+l>o&&(S=-(t>o?a-(t-o):o%l)),s&&(S+=parseInt(a/2))):(o%l!==0&&t+l>o&&(S=a-o%l),s&&(S=parseInt(a/2))),x=S*u,w=S*p,v?_=t*p*-1+w:_=t*u*-1+x,h===!0){var M,R=r&&r.node;if(M=t+df(e),m=R&&R.childNodes[M],_=m?m.offsetLeft*-1:0,s===!0){M=i?t+df(e):t,m=R&&R.children[M],_=0;for(var P=0;P<M;P++)_-=R&&R.children[P]&&R.children[P].offsetWidth;_-=parseInt(e.centerPadding),_+=m&&(f-m.offsetWidth)/2}}return _};Xe.getTrackLeft=sh;var df=function(e){return e.unslick||!e.infinite?0:e.variableWidth?e.slideCount:e.slidesToShow+(e.centerMode?1:0)};Xe.getPreClones=df;var HN=function(e){return e.unslick||!e.infinite?0:e.slideCount};Xe.getPostClones=HN;var VN=function(e){return e.slideCount===1?1:df(e)+e.slideCount+HN(e)};Xe.getTotalSlides=VN;var WN=function(e){return e.targetSlide>e.currentSlide?e.targetSlide>e.currentSlide+GN(e)?"left":"right":e.targetSlide<e.currentSlide-$N(e)?"right":"left"};Xe.siblingDirection=WN;var GN=function(e){var t=e.slidesToShow,r=e.centerMode,i=e.rtl,s=e.centerPadding;if(r){var o=(t-1)/2+1;return parseInt(s)>0&&(o+=1),i&&t%2===0&&(o+=1),o}return i?0:t-1};Xe.slidesOnRight=GN;var $N=function(e){var t=e.slidesToShow,r=e.centerMode,i=e.rtl,s=e.centerPadding;if(r){var o=(t-1)/2+1;return parseInt(s)>0&&(o+=1),!i&&t%2===0&&(o+=1),o}return i?t-1:0};Xe.slidesOnLeft=$N;var $Z=function(){return!!(typeof window<"u"&&window.document&&window.document.createElement)};Xe.canUseDOM=$Z;var Zv={};function iS(n){"@babel/helpers - typeof";return iS=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},iS(n)}Object.defineProperty(Zv,"__esModule",{value:!0});Zv.Track=void 0;var Zo=XN(N),z_=XN(Kv),B_=Xe;function XN(n){return n&&n.__esModule?n:{default:n}}function sS(){return sS=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},sS.apply(this,arguments)}function XZ(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function ZR(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function qZ(n,e,t){return e&&ZR(n.prototype,e),t&&ZR(n,t),Object.defineProperty(n,"prototype",{writable:!1}),n}function YZ(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&oS(n,e)}function oS(n,e){return oS=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},oS(n,e)}function KZ(n){var e=ZZ();return function(){var r=p0(n),i;if(e){var s=p0(this).constructor;i=Reflect.construct(r,arguments,s)}else i=r.apply(this,arguments);return JZ(this,i)}}function JZ(n,e){if(e&&(iS(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return aS(n)}function aS(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function ZZ(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function p0(n){return p0=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},p0(n)}function QR(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function Xr(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?QR(Object(t),!0).forEach(function(r){lS(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):QR(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function lS(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}var j_=function(e){var t,r,i,s,o;e.rtl?o=e.slideCount-1-e.index:o=e.index,i=o<0||o>=e.slideCount,e.centerMode?(s=Math.floor(e.slidesToShow/2),r=(o-e.currentSlide)%e.slideCount===0,o>e.currentSlide-s-1&&o<=e.currentSlide+s&&(t=!0)):t=e.currentSlide<=o&&o<e.currentSlide+e.slidesToShow;var a;e.targetSlide<0?a=e.targetSlide+e.slideCount:e.targetSlide>=e.slideCount?a=e.targetSlide-e.slideCount:a=e.targetSlide;var l=o===a;return{"slick-slide":!0,"slick-active":t,"slick-center":r,"slick-cloned":i,"slick-current":l}},QZ=function(e){var t={};return(e.variableWidth===void 0||e.variableWidth===!1)&&(t.width=e.slideWidth),e.fade&&(t.position="relative",e.vertical?t.top=-e.index*parseInt(e.slideHeight):t.left=-e.index*parseInt(e.slideWidth),t.opacity=e.currentSlide===e.index?1:0,e.useCSS&&(t.transition="opacity "+e.speed+"ms "+e.cssEase+", visibility "+e.speed+"ms "+e.cssEase)),t},H_=function(e,t){return e.key||t},eQ=function(e){var t,r=[],i=[],s=[],o=Zo.default.Children.count(e.children),a=(0,B_.lazyStartIndex)(e),l=(0,B_.lazyEndIndex)(e);return Zo.default.Children.forEach(e.children,function(u,f){var h,p={message:"children",index:f,slidesToScroll:e.slidesToScroll,currentSlide:e.currentSlide};!e.lazyLoad||e.lazyLoad&&e.lazyLoadedList.indexOf(f)>=0?h=u:h=Zo.default.createElement("div",null);var g=QZ(Xr(Xr({},e),{},{index:f})),v=h.props.className||"",x=j_(Xr(Xr({},e),{},{index:f}));if(r.push(Zo.default.cloneElement(h,{key:"original"+H_(h,f),"data-index":f,className:(0,z_.default)(x,v),tabIndex:"-1","aria-hidden":!x["slick-active"],style:Xr(Xr({outline:"none"},h.props.style||{}),g),onClick:function(w){h.props&&h.props.onClick&&h.props.onClick(w),e.focusOnSelect&&e.focusOnSelect(p)}})),e.infinite&&e.fade===!1){var _=o-f;_<=(0,B_.getPreClones)(e)&&o!==e.slidesToShow&&(t=-_,t>=a&&(h=u),x=j_(Xr(Xr({},e),{},{index:t})),i.push(Zo.default.cloneElement(h,{key:"precloned"+H_(h,t),"data-index":t,tabIndex:"-1",className:(0,z_.default)(x,v),"aria-hidden":!x["slick-active"],style:Xr(Xr({},h.props.style||{}),g),onClick:function(w){h.props&&h.props.onClick&&h.props.onClick(w),e.focusOnSelect&&e.focusOnSelect(p)}}))),o!==e.slidesToShow&&(t=o+f,t<l&&(h=u),x=j_(Xr(Xr({},e),{},{index:t})),s.push(Zo.default.cloneElement(h,{key:"postcloned"+H_(h,t),"data-index":t,tabIndex:"-1",className:(0,z_.default)(x,v),"aria-hidden":!x["slick-active"],style:Xr(Xr({},h.props.style||{}),g),onClick:function(w){h.props&&h.props.onClick&&h.props.onClick(w),e.focusOnSelect&&e.focusOnSelect(p)}})))}}),e.rtl?i.concat(r,s).reverse():i.concat(r,s)},tQ=function(n){YZ(t,n);var e=KZ(t);function t(){var r;XZ(this,t);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),lS(aS(r),"node",null),lS(aS(r),"handleRef",function(a){r.node=a}),r}return qZ(t,[{key:"render",value:function(){var i=eQ(this.props),s=this.props,o=s.onMouseEnter,a=s.onMouseOver,l=s.onMouseLeave,u={onMouseEnter:o,onMouseOver:a,onMouseLeave:l};return Zo.default.createElement("div",sS({ref:this.handleRef,className:"slick-track",style:this.props.trackStyle},u),i)}}]),t}(Zo.default.PureComponent);Zv.Track=tQ;var Qv={};function cS(n){"@babel/helpers - typeof";return cS=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cS(n)}Object.defineProperty(Qv,"__esModule",{value:!0});Qv.Dots=void 0;var $m=qN(N),nQ=qN(Kv),eP=Xe;function qN(n){return n&&n.__esModule?n:{default:n}}function tP(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function rQ(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?tP(Object(t),!0).forEach(function(r){iQ(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):tP(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function iQ(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function sQ(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function nP(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function oQ(n,e,t){return e&&nP(n.prototype,e),t&&nP(n,t),Object.defineProperty(n,"prototype",{writable:!1}),n}function aQ(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&uS(n,e)}function uS(n,e){return uS=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},uS(n,e)}function lQ(n){var e=dQ();return function(){var r=m0(n),i;if(e){var s=m0(this).constructor;i=Reflect.construct(r,arguments,s)}else i=r.apply(this,arguments);return cQ(this,i)}}function cQ(n,e){if(e&&(cS(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return uQ(n)}function uQ(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function dQ(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function m0(n){return m0=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},m0(n)}var fQ=function(e){var t;return e.infinite?t=Math.ceil(e.slideCount/e.slidesToScroll):t=Math.ceil((e.slideCount-e.slidesToShow)/e.slidesToScroll)+1,t},hQ=function(n){aQ(t,n);var e=lQ(t);function t(){return sQ(this,t),e.apply(this,arguments)}return oQ(t,[{key:"clickHandler",value:function(i,s){s.preventDefault(),this.props.clickHandler(i)}},{key:"render",value:function(){for(var i=this.props,s=i.onMouseEnter,o=i.onMouseOver,a=i.onMouseLeave,l=i.infinite,u=i.slidesToScroll,f=i.slidesToShow,h=i.slideCount,p=i.currentSlide,g=fQ({slideCount:h,slidesToScroll:u,slidesToShow:f,infinite:l}),v={onMouseEnter:s,onMouseOver:o,onMouseLeave:a},x=[],_=0;_<g;_++){var m=(_+1)*u-1,w=l?m:(0,eP.clamp)(m,0,h-1),S=w-(u-1),M=l?S:(0,eP.clamp)(S,0,h-1),R=(0,nQ.default)({"slick-active":l?p>=M&&p<=w:p===M}),P={message:"dots",index:_,slidesToScroll:u,currentSlide:p},L=this.clickHandler.bind(this,P);x=x.concat($m.default.createElement("li",{key:_,className:R},$m.default.cloneElement(this.props.customPaging(_),{onClick:L})))}return $m.default.cloneElement(this.props.appendDots(x),rQ({className:this.props.dotsClass},v))}}]),t}($m.default.PureComponent);Qv.Dots=hQ;var Cu={};function dS(n){"@babel/helpers - typeof";return dS=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dS(n)}Object.defineProperty(Cu,"__esModule",{value:!0});Cu.PrevArrow=Cu.NextArrow=void 0;var du=KN(N),YN=KN(Kv),pQ=Xe;function KN(n){return n&&n.__esModule?n:{default:n}}function g0(){return g0=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},g0.apply(this,arguments)}function rP(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function v0(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?rP(Object(t),!0).forEach(function(r){mQ(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):rP(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function mQ(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function JN(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function iP(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function ZN(n,e,t){return e&&iP(n.prototype,e),t&&iP(n,t),Object.defineProperty(n,"prototype",{writable:!1}),n}function QN(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&fS(n,e)}function fS(n,e){return fS=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},fS(n,e)}function eD(n){var e=yQ();return function(){var r=y0(n),i;if(e){var s=y0(this).constructor;i=Reflect.construct(r,arguments,s)}else i=r.apply(this,arguments);return gQ(this,i)}}function gQ(n,e){if(e&&(dS(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return vQ(n)}function vQ(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function yQ(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function y0(n){return y0=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},y0(n)}var xQ=function(n){QN(t,n);var e=eD(t);function t(){return JN(this,t),e.apply(this,arguments)}return ZN(t,[{key:"clickHandler",value:function(i,s){s&&s.preventDefault(),this.props.clickHandler(i,s)}},{key:"render",value:function(){var i={"slick-arrow":!0,"slick-prev":!0},s=this.clickHandler.bind(this,{message:"previous"});!this.props.infinite&&(this.props.currentSlide===0||this.props.slideCount<=this.props.slidesToShow)&&(i["slick-disabled"]=!0,s=null);var o={key:"0","data-role":"none",className:(0,YN.default)(i),style:{display:"block"},onClick:s},a={currentSlide:this.props.currentSlide,slideCount:this.props.slideCount},l;return this.props.prevArrow?l=du.default.cloneElement(this.props.prevArrow,v0(v0({},o),a)):l=du.default.createElement("button",g0({key:"0",type:"button"},o)," ","Previous"),l}}]),t}(du.default.PureComponent);Cu.PrevArrow=xQ;var _Q=function(n){QN(t,n);var e=eD(t);function t(){return JN(this,t),e.apply(this,arguments)}return ZN(t,[{key:"clickHandler",value:function(i,s){s&&s.preventDefault(),this.props.clickHandler(i,s)}},{key:"render",value:function(){var i={"slick-arrow":!0,"slick-next":!0},s=this.clickHandler.bind(this,{message:"next"});(0,pQ.canGoNext)(this.props)||(i["slick-disabled"]=!0,s=null);var o={key:"1","data-role":"none",className:(0,YN.default)(i),style:{display:"block"},onClick:s},a={currentSlide:this.props.currentSlide,slideCount:this.props.slideCount},l;return this.props.nextArrow?l=du.default.cloneElement(this.props.nextArrow,v0(v0({},o),a)):l=du.default.createElement("button",g0({key:"1",type:"button"},o)," ","Next"),l}}]),t}(du.default.PureComponent);Cu.NextArrow=_Q;var tD=function(){if(typeof Map<"u")return Map;function n(e,t){var r=-1;return e.some(function(i,s){return i[0]===t?(r=s,!0):!1}),r}return function(){function e(){this.__entries__=[]}return Object.defineProperty(e.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),e.prototype.get=function(t){var r=n(this.__entries__,t),i=this.__entries__[r];return i&&i[1]},e.prototype.set=function(t,r){var i=n(this.__entries__,t);~i?this.__entries__[i][1]=r:this.__entries__.push([t,r])},e.prototype.delete=function(t){var r=this.__entries__,i=n(r,t);~i&&r.splice(i,1)},e.prototype.has=function(t){return!!~n(this.__entries__,t)},e.prototype.clear=function(){this.__entries__.splice(0)},e.prototype.forEach=function(t,r){r===void 0&&(r=null);for(var i=0,s=this.__entries__;i<s.length;i++){var o=s[i];t.call(r,o[1],o[0])}},e}()}(),hS=typeof window<"u"&&typeof document<"u"&&window.document===document,x0=function(){return typeof global<"u"&&global.Math===Math?global:typeof self<"u"&&self.Math===Math?self:typeof window<"u"&&window.Math===Math?window:Function("return this")()}(),wQ=function(){return typeof requestAnimationFrame=="function"?requestAnimationFrame.bind(x0):function(n){return setTimeout(function(){return n(Date.now())},1e3/60)}}(),SQ=2;function bQ(n,e){var t=!1,r=!1,i=0;function s(){t&&(t=!1,n()),r&&a()}function o(){wQ(s)}function a(){var l=Date.now();if(t){if(l-i<SQ)return;r=!0}else t=!0,r=!1,setTimeout(o,e);i=l}return a}var EQ=20,MQ=["top","right","bottom","left","width","height","size","weight"],TQ=typeof MutationObserver<"u",CQ=function(){function n(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=bQ(this.refresh.bind(this),EQ)}return n.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},n.prototype.removeObserver=function(e){var t=this.observers_,r=t.indexOf(e);~r&&t.splice(r,1),!t.length&&this.connected_&&this.disconnect_()},n.prototype.refresh=function(){var e=this.updateObservers_();e&&this.refresh()},n.prototype.updateObservers_=function(){var e=this.observers_.filter(function(t){return t.gatherActive(),t.hasActive()});return e.forEach(function(t){return t.broadcastActive()}),e.length>0},n.prototype.connect_=function(){!hS||this.connected_||(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),TQ?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},n.prototype.disconnect_=function(){!hS||!this.connected_||(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},n.prototype.onTransitionEnd_=function(e){var t=e.propertyName,r=t===void 0?"":t,i=MQ.some(function(s){return!!~r.indexOf(s)});i&&this.refresh()},n.getInstance=function(){return this.instance_||(this.instance_=new n),this.instance_},n.instance_=null,n}(),nD=function(n,e){for(var t=0,r=Object.keys(e);t<r.length;t++){var i=r[t];Object.defineProperty(n,i,{value:e[i],enumerable:!1,writable:!1,configurable:!0})}return n},Au=function(n){var e=n&&n.ownerDocument&&n.ownerDocument.defaultView;return e||x0},rD=ey(0,0,0,0);function _0(n){return parseFloat(n)||0}function sP(n){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];return e.reduce(function(r,i){var s=n["border-"+i+"-width"];return r+_0(s)},0)}function AQ(n){for(var e=["top","right","bottom","left"],t={},r=0,i=e;r<i.length;r++){var s=i[r],o=n["padding-"+s];t[s]=_0(o)}return t}function RQ(n){var e=n.getBBox();return ey(0,0,e.width,e.height)}function PQ(n){var e=n.clientWidth,t=n.clientHeight;if(!e&&!t)return rD;var r=Au(n).getComputedStyle(n),i=AQ(r),s=i.left+i.right,o=i.top+i.bottom,a=_0(r.width),l=_0(r.height);if(r.boxSizing==="border-box"&&(Math.round(a+s)!==e&&(a-=sP(r,"left","right")+s),Math.round(l+o)!==t&&(l-=sP(r,"top","bottom")+o)),!OQ(n)){var u=Math.round(a+s)-e,f=Math.round(l+o)-t;Math.abs(u)!==1&&(a-=u),Math.abs(f)!==1&&(l-=f)}return ey(i.left,i.top,a,l)}var LQ=function(){return typeof SVGGraphicsElement<"u"?function(n){return n instanceof Au(n).SVGGraphicsElement}:function(n){return n instanceof Au(n).SVGElement&&typeof n.getBBox=="function"}}();function OQ(n){return n===Au(n).document.documentElement}function kQ(n){return hS?LQ(n)?RQ(n):PQ(n):rD}function IQ(n){var e=n.x,t=n.y,r=n.width,i=n.height,s=typeof DOMRectReadOnly<"u"?DOMRectReadOnly:Object,o=Object.create(s.prototype);return nD(o,{x:e,y:t,width:r,height:i,top:t,right:e+r,bottom:i+t,left:e}),o}function ey(n,e,t,r){return{x:n,y:e,width:t,height:r}}var NQ=function(){function n(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=ey(0,0,0,0),this.target=e}return n.prototype.isActive=function(){var e=kQ(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},n.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},n}(),DQ=function(){function n(e,t){var r=IQ(t);nD(this,{target:e,contentRect:r})}return n}(),UQ=function(){function n(e,t,r){if(this.activeObservations_=[],this.observations_=new tD,typeof e!="function")throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=t,this.callbackCtx_=r}return n.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(e instanceof Au(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)||(t.set(e,new NQ(e)),this.controller_.addObserver(this),this.controller_.refresh())}},n.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(e instanceof Au(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)&&(t.delete(e),t.size||this.controller_.removeObserver(this))}},n.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},n.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach(function(t){t.isActive()&&e.activeObservations_.push(t)})},n.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,t=this.activeObservations_.map(function(r){return new DQ(r.target,r.broadcastRect())});this.callback_.call(e,t,e),this.clearActive()}},n.prototype.clearActive=function(){this.activeObservations_.splice(0)},n.prototype.hasActive=function(){return this.activeObservations_.length>0},n}(),iD=typeof WeakMap<"u"?new WeakMap:new tD,sD=function(){function n(e){if(!(this instanceof n))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var t=CQ.getInstance(),r=new UQ(e,t,this);iD.set(this,r)}return n}();["observe","unobserve","disconnect"].forEach(function(n){sD.prototype[n]=function(){var e;return(e=iD.get(this))[n].apply(e,arguments)}});var FQ=function(){return typeof x0.ResizeObserver<"u"?x0.ResizeObserver:sD}();const zQ=Object.freeze(Object.defineProperty({__proto__:null,default:FQ},Symbol.toStringTag,{value:"Module"})),BQ=vP(zQ);Object.defineProperty(Yv,"__esModule",{value:!0});Yv.InnerSlider=void 0;var Nr=kh(N),jQ=kh(DN),HQ=kh(kZ),VQ=kh(Kv),gn=Xe,WQ=Zv,GQ=Qv,oP=Cu,$Q=kh(BQ);function kh(n){return n&&n.__esModule?n:{default:n}}function w0(n){"@babel/helpers - typeof";return w0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},w0(n)}function S0(){return S0=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},S0.apply(this,arguments)}function XQ(n,e){if(n==null)return{};var t=qQ(n,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(t[r]=n[r])}return t}function qQ(n,e){if(n==null)return{};var t={},r=Object.keys(n),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(t[i]=n[i]);return t}function aP(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function lt(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?aP(Object(t),!0).forEach(function(r){Pt(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):aP(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function YQ(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function lP(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function KQ(n,e,t){return e&&lP(n.prototype,e),t&&lP(n,t),Object.defineProperty(n,"prototype",{writable:!1}),n}function JQ(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&pS(n,e)}function pS(n,e){return pS=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},pS(n,e)}function ZQ(n){var e=eee();return function(){var r=b0(n),i;if(e){var s=b0(this).constructor;i=Reflect.construct(r,arguments,s)}else i=r.apply(this,arguments);return QQ(this,i)}}function QQ(n,e){if(e&&(w0(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Rt(n)}function Rt(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function eee(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function b0(n){return b0=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},b0(n)}function Pt(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}var tee=function(n){JQ(t,n);var e=ZQ(t);function t(r){var i;YQ(this,t),i=e.call(this,r),Pt(Rt(i),"listRefHandler",function(o){return i.list=o}),Pt(Rt(i),"trackRefHandler",function(o){return i.track=o}),Pt(Rt(i),"adaptHeight",function(){if(i.props.adaptiveHeight&&i.list){var o=i.list.querySelector('[data-index="'.concat(i.state.currentSlide,'"]'));i.list.style.height=(0,gn.getHeight)(o)+"px"}}),Pt(Rt(i),"componentDidMount",function(){if(i.props.onInit&&i.props.onInit(),i.props.lazyLoad){var o=(0,gn.getOnDemandLazySlides)(lt(lt({},i.props),i.state));o.length>0&&(i.setState(function(l){return{lazyLoadedList:l.lazyLoadedList.concat(o)}}),i.props.onLazyLoad&&i.props.onLazyLoad(o))}var a=lt({listRef:i.list,trackRef:i.track},i.props);i.updateState(a,!0,function(){i.adaptHeight(),i.props.autoplay&&i.autoPlay("update")}),i.props.lazyLoad==="progressive"&&(i.lazyLoadTimer=setInterval(i.progressiveLazyLoad,1e3)),i.ro=new $Q.default(function(){i.state.animating?(i.onWindowResized(!1),i.callbackTimers.push(setTimeout(function(){return i.onWindowResized()},i.props.speed))):i.onWindowResized()}),i.ro.observe(i.list),document.querySelectorAll&&Array.prototype.forEach.call(document.querySelectorAll(".slick-slide"),function(l){l.onfocus=i.props.pauseOnFocus?i.onSlideFocus:null,l.onblur=i.props.pauseOnFocus?i.onSlideBlur:null}),window.addEventListener?window.addEventListener("resize",i.onWindowResized):window.attachEvent("onresize",i.onWindowResized)}),Pt(Rt(i),"componentWillUnmount",function(){i.animationEndCallback&&clearTimeout(i.animationEndCallback),i.lazyLoadTimer&&clearInterval(i.lazyLoadTimer),i.callbackTimers.length&&(i.callbackTimers.forEach(function(o){return clearTimeout(o)}),i.callbackTimers=[]),window.addEventListener?window.removeEventListener("resize",i.onWindowResized):window.detachEvent("onresize",i.onWindowResized),i.autoplayTimer&&clearInterval(i.autoplayTimer),i.ro.disconnect()}),Pt(Rt(i),"componentDidUpdate",function(o){if(i.checkImagesLoad(),i.props.onReInit&&i.props.onReInit(),i.props.lazyLoad){var a=(0,gn.getOnDemandLazySlides)(lt(lt({},i.props),i.state));a.length>0&&(i.setState(function(f){return{lazyLoadedList:f.lazyLoadedList.concat(a)}}),i.props.onLazyLoad&&i.props.onLazyLoad(a))}i.adaptHeight();var l=lt(lt({listRef:i.list,trackRef:i.track},i.props),i.state),u=i.didPropsChange(o);u&&i.updateState(l,u,function(){i.state.currentSlide>=Nr.default.Children.count(i.props.children)&&i.changeSlide({message:"index",index:Nr.default.Children.count(i.props.children)-i.props.slidesToShow,currentSlide:i.state.currentSlide}),i.props.autoplay?i.autoPlay("update"):i.pause("paused")})}),Pt(Rt(i),"onWindowResized",function(o){i.debouncedResize&&i.debouncedResize.cancel(),i.debouncedResize=(0,HQ.default)(function(){return i.resizeWindow(o)},50),i.debouncedResize()}),Pt(Rt(i),"resizeWindow",function(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,a=!!(i.track&&i.track.node);if(a){var l=lt(lt({listRef:i.list,trackRef:i.track},i.props),i.state);i.updateState(l,o,function(){i.props.autoplay?i.autoPlay("update"):i.pause("paused")}),i.setState({animating:!1}),clearTimeout(i.animationEndCallback),delete i.animationEndCallback}}),Pt(Rt(i),"updateState",function(o,a,l){var u=(0,gn.initializedState)(o);o=lt(lt(lt({},o),u),{},{slideIndex:u.currentSlide});var f=(0,gn.getTrackLeft)(o);o=lt(lt({},o),{},{left:f});var h=(0,gn.getTrackCSS)(o);(a||Nr.default.Children.count(i.props.children)!==Nr.default.Children.count(o.children))&&(u.trackStyle=h),i.setState(u,l)}),Pt(Rt(i),"ssrInit",function(){if(i.props.variableWidth){var o=0,a=0,l=[],u=(0,gn.getPreClones)(lt(lt(lt({},i.props),i.state),{},{slideCount:i.props.children.length})),f=(0,gn.getPostClones)(lt(lt(lt({},i.props),i.state),{},{slideCount:i.props.children.length}));i.props.children.forEach(function(L){l.push(L.props.style.width),o+=L.props.style.width});for(var h=0;h<u;h++)a+=l[l.length-1-h],o+=l[l.length-1-h];for(var p=0;p<f;p++)o+=l[p];for(var g=0;g<i.state.currentSlide;g++)a+=l[g];var v={width:o+"px",left:-a+"px"};if(i.props.centerMode){var x="".concat(l[i.state.currentSlide],"px");v.left="calc(".concat(v.left," + (100% - ").concat(x,") / 2 ) ")}return{trackStyle:v}}var _=Nr.default.Children.count(i.props.children),m=lt(lt(lt({},i.props),i.state),{},{slideCount:_}),w=(0,gn.getPreClones)(m)+(0,gn.getPostClones)(m)+_,S=100/i.props.slidesToShow*w,M=100/w,R=-M*((0,gn.getPreClones)(m)+i.state.currentSlide)*S/100;i.props.centerMode&&(R+=(100-M*S/100)/2);var P={width:S+"%",left:R+"%"};return{slideWidth:M+"%",trackStyle:P}}),Pt(Rt(i),"checkImagesLoad",function(){var o=i.list&&i.list.querySelectorAll&&i.list.querySelectorAll(".slick-slide img")||[],a=o.length,l=0;Array.prototype.forEach.call(o,function(u){var f=function(){return++l&&l>=a&&i.onWindowResized()};if(!u.onclick)u.onclick=function(){return u.parentNode.focus()};else{var h=u.onclick;u.onclick=function(){h(),u.parentNode.focus()}}u.onload||(i.props.lazyLoad?u.onload=function(){i.adaptHeight(),i.callbackTimers.push(setTimeout(i.onWindowResized,i.props.speed))}:(u.onload=f,u.onerror=function(){f(),i.props.onLazyLoadError&&i.props.onLazyLoadError()}))})}),Pt(Rt(i),"progressiveLazyLoad",function(){for(var o=[],a=lt(lt({},i.props),i.state),l=i.state.currentSlide;l<i.state.slideCount+(0,gn.getPostClones)(a);l++)if(i.state.lazyLoadedList.indexOf(l)<0){o.push(l);break}for(var u=i.state.currentSlide-1;u>=-(0,gn.getPreClones)(a);u--)if(i.state.lazyLoadedList.indexOf(u)<0){o.push(u);break}o.length>0?(i.setState(function(f){return{lazyLoadedList:f.lazyLoadedList.concat(o)}}),i.props.onLazyLoad&&i.props.onLazyLoad(o)):i.lazyLoadTimer&&(clearInterval(i.lazyLoadTimer),delete i.lazyLoadTimer)}),Pt(Rt(i),"slideHandler",function(o){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,l=i.props,u=l.asNavFor,f=l.beforeChange,h=l.onLazyLoad,p=l.speed,g=l.afterChange,v=i.state.currentSlide,x=(0,gn.slideHandler)(lt(lt(lt({index:o},i.props),i.state),{},{trackRef:i.track,useCSS:i.props.useCSS&&!a})),_=x.state,m=x.nextState;if(_){f&&f(v,_.currentSlide);var w=_.lazyLoadedList.filter(function(S){return i.state.lazyLoadedList.indexOf(S)<0});h&&w.length>0&&h(w),!i.props.waitForAnimate&&i.animationEndCallback&&(clearTimeout(i.animationEndCallback),g&&g(v),delete i.animationEndCallback),i.setState(_,function(){u&&i.asNavForIndex!==o&&(i.asNavForIndex=o,u.innerSlider.slideHandler(o)),m&&(i.animationEndCallback=setTimeout(function(){var S=m.animating,M=XQ(m,["animating"]);i.setState(M,function(){i.callbackTimers.push(setTimeout(function(){return i.setState({animating:S})},10)),g&&g(_.currentSlide),delete i.animationEndCallback})},p))})}}),Pt(Rt(i),"changeSlide",function(o){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,l=lt(lt({},i.props),i.state),u=(0,gn.changeSlide)(l,o);if(!(u!==0&&!u)&&(a===!0?i.slideHandler(u,a):i.slideHandler(u),i.props.autoplay&&i.autoPlay("update"),i.props.focusOnSelect)){var f=i.list.querySelectorAll(".slick-current");f[0]&&f[0].focus()}}),Pt(Rt(i),"clickHandler",function(o){i.clickable===!1&&(o.stopPropagation(),o.preventDefault()),i.clickable=!0}),Pt(Rt(i),"keyHandler",function(o){var a=(0,gn.keyHandler)(o,i.props.accessibility,i.props.rtl);a!==""&&i.changeSlide({message:a})}),Pt(Rt(i),"selectHandler",function(o){i.changeSlide(o)}),Pt(Rt(i),"disableBodyScroll",function(){var o=function(l){l=l||window.event,l.preventDefault&&l.preventDefault(),l.returnValue=!1};window.ontouchmove=o}),Pt(Rt(i),"enableBodyScroll",function(){window.ontouchmove=null}),Pt(Rt(i),"swipeStart",function(o){i.props.verticalSwiping&&i.disableBodyScroll();var a=(0,gn.swipeStart)(o,i.props.swipe,i.props.draggable);a!==""&&i.setState(a)}),Pt(Rt(i),"swipeMove",function(o){var a=(0,gn.swipeMove)(o,lt(lt(lt({},i.props),i.state),{},{trackRef:i.track,listRef:i.list,slideIndex:i.state.currentSlide}));a&&(a.swiping&&(i.clickable=!1),i.setState(a))}),Pt(Rt(i),"swipeEnd",function(o){var a=(0,gn.swipeEnd)(o,lt(lt(lt({},i.props),i.state),{},{trackRef:i.track,listRef:i.list,slideIndex:i.state.currentSlide}));if(a){var l=a.triggerSlideHandler;delete a.triggerSlideHandler,i.setState(a),l!==void 0&&(i.slideHandler(l),i.props.verticalSwiping&&i.enableBodyScroll())}}),Pt(Rt(i),"touchEnd",function(o){i.swipeEnd(o),i.clickable=!0}),Pt(Rt(i),"slickPrev",function(){i.callbackTimers.push(setTimeout(function(){return i.changeSlide({message:"previous"})},0))}),Pt(Rt(i),"slickNext",function(){i.callbackTimers.push(setTimeout(function(){return i.changeSlide({message:"next"})},0))}),Pt(Rt(i),"slickGoTo",function(o){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(o=Number(o),isNaN(o))return"";i.callbackTimers.push(setTimeout(function(){return i.changeSlide({message:"index",index:o,currentSlide:i.state.currentSlide},a)},0))}),Pt(Rt(i),"play",function(){var o;if(i.props.rtl)o=i.state.currentSlide-i.props.slidesToScroll;else if((0,gn.canGoNext)(lt(lt({},i.props),i.state)))o=i.state.currentSlide+i.props.slidesToScroll;else return!1;i.slideHandler(o)}),Pt(Rt(i),"autoPlay",function(o){i.autoplayTimer&&clearInterval(i.autoplayTimer);var a=i.state.autoplaying;if(o==="update"){if(a==="hovered"||a==="focused"||a==="paused")return}else if(o==="leave"){if(a==="paused"||a==="focused")return}else if(o==="blur"&&(a==="paused"||a==="hovered"))return;i.autoplayTimer=setInterval(i.play,i.props.autoplaySpeed+50),i.setState({autoplaying:"playing"})}),Pt(Rt(i),"pause",function(o){i.autoplayTimer&&(clearInterval(i.autoplayTimer),i.autoplayTimer=null);var a=i.state.autoplaying;o==="paused"?i.setState({autoplaying:"paused"}):o==="focused"?(a==="hovered"||a==="playing")&&i.setState({autoplaying:"focused"}):a==="playing"&&i.setState({autoplaying:"hovered"})}),Pt(Rt(i),"onDotsOver",function(){return i.props.autoplay&&i.pause("hovered")}),Pt(Rt(i),"onDotsLeave",function(){return i.props.autoplay&&i.state.autoplaying==="hovered"&&i.autoPlay("leave")}),Pt(Rt(i),"onTrackOver",function(){return i.props.autoplay&&i.pause("hovered")}),Pt(Rt(i),"onTrackLeave",function(){return i.props.autoplay&&i.state.autoplaying==="hovered"&&i.autoPlay("leave")}),Pt(Rt(i),"onSlideFocus",function(){return i.props.autoplay&&i.pause("focused")}),Pt(Rt(i),"onSlideBlur",function(){return i.props.autoplay&&i.state.autoplaying==="focused"&&i.autoPlay("blur")}),Pt(Rt(i),"render",function(){var o=(0,VQ.default)("slick-slider",i.props.className,{"slick-vertical":i.props.vertical,"slick-initialized":!0}),a=lt(lt({},i.props),i.state),l=(0,gn.extractObject)(a,["fade","cssEase","speed","infinite","centerMode","focusOnSelect","currentSlide","lazyLoad","lazyLoadedList","rtl","slideWidth","slideHeight","listHeight","vertical","slidesToShow","slidesToScroll","slideCount","trackStyle","variableWidth","unslick","centerPadding","targetSlide","useCSS"]),u=i.props.pauseOnHover;l=lt(lt({},l),{},{onMouseEnter:u?i.onTrackOver:null,onMouseLeave:u?i.onTrackLeave:null,onMouseOver:u?i.onTrackOver:null,focusOnSelect:i.props.focusOnSelect&&i.clickable?i.selectHandler:null});var f;if(i.props.dots===!0&&i.state.slideCount>=i.props.slidesToShow){var h=(0,gn.extractObject)(a,["dotsClass","slideCount","slidesToShow","currentSlide","slidesToScroll","clickHandler","children","customPaging","infinite","appendDots"]),p=i.props.pauseOnDotsHover;h=lt(lt({},h),{},{clickHandler:i.changeSlide,onMouseEnter:p?i.onDotsLeave:null,onMouseOver:p?i.onDotsOver:null,onMouseLeave:p?i.onDotsLeave:null}),f=Nr.default.createElement(GQ.Dots,h)}var g,v,x=(0,gn.extractObject)(a,["infinite","centerMode","currentSlide","slideCount","slidesToShow","prevArrow","nextArrow"]);x.clickHandler=i.changeSlide,i.props.arrows&&(g=Nr.default.createElement(oP.PrevArrow,x),v=Nr.default.createElement(oP.NextArrow,x));var _=null;i.props.vertical&&(_={height:i.state.listHeight});var m=null;i.props.vertical===!1?i.props.centerMode===!0&&(m={padding:"0px "+i.props.centerPadding}):i.props.centerMode===!0&&(m={padding:i.props.centerPadding+" 0px"});var w=lt(lt({},_),m),S=i.props.touchMove,M={className:"slick-list",style:w,onClick:i.clickHandler,onMouseDown:S?i.swipeStart:null,onMouseMove:i.state.dragging&&S?i.swipeMove:null,onMouseUp:S?i.swipeEnd:null,onMouseLeave:i.state.dragging&&S?i.swipeEnd:null,onTouchStart:S?i.swipeStart:null,onTouchMove:i.state.dragging&&S?i.swipeMove:null,onTouchEnd:S?i.touchEnd:null,onTouchCancel:i.state.dragging&&S?i.swipeEnd:null,onKeyDown:i.props.accessibility?i.keyHandler:null},R={className:o,dir:"ltr",style:i.props.style};return i.props.unslick&&(M={className:"slick-list"},R={className:o}),Nr.default.createElement("div",R,i.props.unslick?"":g,Nr.default.createElement("div",S0({ref:i.listRefHandler},M),Nr.default.createElement(WQ.Track,S0({ref:i.trackRefHandler},l),i.props.children)),i.props.unslick?"":v,i.props.unslick?"":f)}),i.list=null,i.track=null,i.state=lt(lt({},jQ.default),{},{currentSlide:i.props.initialSlide,slideCount:Nr.default.Children.count(i.props.children)}),i.callbackTimers=[],i.clickable=!0,i.debouncedResize=null;var s=i.ssrInit();return i.state=lt(lt({},i.state),s),i}return KQ(t,[{key:"didPropsChange",value:function(i){for(var s=!1,o=0,a=Object.keys(this.props);o<a.length;o++){var l=a[o];if(!i.hasOwnProperty(l)){s=!0;break}if(!(w0(i[l])==="object"||typeof i[l]=="function")&&i[l]!==this.props[l]){s=!0;break}}return s||Nr.default.Children.count(this.props.children)!==Nr.default.Children.count(i.children)}}]),t}(Nr.default.Component);Yv.InnerSlider=tee;var nee=function(n){return n.replace(/[A-Z]/g,function(e){return"-"+e.toLowerCase()}).toLowerCase()},ree=nee,iee=ree,see=function(n){var e=/[height|width]$/;return e.test(n)},cP=function(n){var e="",t=Object.keys(n);return t.forEach(function(r,i){var s=n[r];r=iee(r),see(r)&&typeof s=="number"&&(s=s+"px"),s===!0?e+=r:s===!1?e+="not "+r:e+="("+r+": "+s+")",i<t.length-1&&(e+=" and ")}),e},oee=function(n){var e="";return typeof n=="string"?n:n instanceof Array?(n.forEach(function(t,r){e+=cP(t),r<n.length-1&&(e+=", ")}),e):cP(n)},aee=oee,oD={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var e=t(N);function t(s){return s&&s.__esModule?s:{default:s}}var r={accessibility:!0,adaptiveHeight:!1,afterChange:null,appendDots:function(o){return e.default.createElement("ul",{style:{display:"block"}},o)},arrows:!0,autoplay:!1,autoplaySpeed:3e3,beforeChange:null,centerMode:!1,centerPadding:"50px",className:"",cssEase:"ease",customPaging:function(o){return e.default.createElement("button",null,o+1)},dots:!1,dotsClass:"slick-dots",draggable:!0,easing:"linear",edgeFriction:.35,fade:!1,focusOnSelect:!1,infinite:!0,initialSlide:0,lazyLoad:null,nextArrow:null,onEdge:null,onInit:null,onLazyLoadError:null,onReInit:null,pauseOnDotsHover:!1,pauseOnFocus:!1,pauseOnHover:!0,prevArrow:null,responsive:null,rows:1,rtl:!1,slide:"div",slidesPerRow:1,slidesToScroll:1,slidesToShow:1,speed:500,swipe:!0,swipeEvent:null,swipeToSlide:!1,touchMove:!0,touchThreshold:5,useCSS:!0,useTransform:!0,variableWidth:!1,vertical:!1,waitForAnimate:!0},i=r;n.default=i})(oD);var V_,uP;function lee(){if(uP)return V_;uP=1;function n(e){this.options=e,!e.deferSetup&&this.setup()}return n.prototype={constructor:n,setup:function(){this.options.setup&&this.options.setup(),this.initialised=!0},on:function(){!this.initialised&&this.setup(),this.options.match&&this.options.match()},off:function(){this.options.unmatch&&this.options.unmatch()},destroy:function(){this.options.destroy?this.options.destroy():this.off()},equals:function(e){return this.options===e||this.options.match===e}},V_=n,V_}var W_,dP;function aD(){if(dP)return W_;dP=1;function n(r,i){var s=0,o=r.length,a;for(s;s<o&&(a=i(r[s],s),a!==!1);s++);}function e(r){return Object.prototype.toString.apply(r)==="[object Array]"}function t(r){return typeof r=="function"}return W_={isFunction:t,isArray:e,each:n},W_}var G_,fP;function cee(){if(fP)return G_;fP=1;var n=lee(),e=aD().each;function t(r,i){this.query=r,this.isUnconditional=i,this.handlers=[],this.mql=window.matchMedia(r);var s=this;this.listener=function(o){s.mql=o.currentTarget||o,s.assess()},this.mql.addListener(this.listener)}return t.prototype={constuctor:t,addHandler:function(r){var i=new n(r);this.handlers.push(i),this.matches()&&i.on()},removeHandler:function(r){var i=this.handlers;e(i,function(s,o){if(s.equals(r))return s.destroy(),!i.splice(o,1)})},matches:function(){return this.mql.matches||this.isUnconditional},clear:function(){e(this.handlers,function(r){r.destroy()}),this.mql.removeListener(this.listener),this.handlers.length=0},assess:function(){var r=this.matches()?"on":"off";e(this.handlers,function(i){i[r]()})}},G_=t,G_}var $_,hP;function uee(){if(hP)return $_;hP=1;var n=cee(),e=aD(),t=e.each,r=e.isFunction,i=e.isArray;function s(){if(!window.matchMedia)throw new Error("matchMedia not present, legacy browsers require a polyfill");this.queries={},this.browserIsIncapable=!window.matchMedia("only all").matches}return s.prototype={constructor:s,register:function(o,a,l){var u=this.queries,f=l&&this.browserIsIncapable;return u[o]||(u[o]=new n(o,f)),r(a)&&(a={match:a}),i(a)||(a=[a]),t(a,function(h){r(h)&&(h={match:h}),u[o].addHandler(h)}),this},unregister:function(o,a){var l=this.queries[o];return l&&(a?l.removeHandler(a):(l.clear(),delete this.queries[o])),this}},$_=s,$_}var X_,pP;function dee(){if(pP)return X_;pP=1;var n=uee();return X_=new n,X_}(function(n){function e(k){"@babel/helpers - typeof";return e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(C){return typeof C}:function(C){return C&&typeof Symbol=="function"&&C.constructor===Symbol&&C!==Symbol.prototype?"symbol":typeof C},e(k)}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var t=a(N),r=Yv,i=a(aee),s=a(oD),o=Xe;function a(k){return k&&k.__esModule?k:{default:k}}function l(){return l=Object.assign||function(k){for(var C=1;C<arguments.length;C++){var A=arguments[C];for(var U in A)Object.prototype.hasOwnProperty.call(A,U)&&(k[U]=A[U])}return k},l.apply(this,arguments)}function u(k,C){var A=Object.keys(k);if(Object.getOwnPropertySymbols){var U=Object.getOwnPropertySymbols(k);C&&(U=U.filter(function(W){return Object.getOwnPropertyDescriptor(k,W).enumerable})),A.push.apply(A,U)}return A}function f(k){for(var C=1;C<arguments.length;C++){var A=arguments[C]!=null?arguments[C]:{};C%2?u(Object(A),!0).forEach(function(U){R(k,U,A[U])}):Object.getOwnPropertyDescriptors?Object.defineProperties(k,Object.getOwnPropertyDescriptors(A)):u(Object(A)).forEach(function(U){Object.defineProperty(k,U,Object.getOwnPropertyDescriptor(A,U))})}return k}function h(k,C){if(!(k instanceof C))throw new TypeError("Cannot call a class as a function")}function p(k,C){for(var A=0;A<C.length;A++){var U=C[A];U.enumerable=U.enumerable||!1,U.configurable=!0,"value"in U&&(U.writable=!0),Object.defineProperty(k,U.key,U)}}function g(k,C,A){return C&&p(k.prototype,C),A&&p(k,A),Object.defineProperty(k,"prototype",{writable:!1}),k}function v(k,C){if(typeof C!="function"&&C!==null)throw new TypeError("Super expression must either be null or a function");k.prototype=Object.create(C&&C.prototype,{constructor:{value:k,writable:!0,configurable:!0}}),Object.defineProperty(k,"prototype",{writable:!1}),C&&x(k,C)}function x(k,C){return x=Object.setPrototypeOf||function(U,W){return U.__proto__=W,U},x(k,C)}function _(k){var C=S();return function(){var U=M(k),W;if(C){var F=M(this).constructor;W=Reflect.construct(U,arguments,F)}else W=U.apply(this,arguments);return m(this,W)}}function m(k,C){if(C&&(e(C)==="object"||typeof C=="function"))return C;if(C!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return w(k)}function w(k){if(k===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return k}function S(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function M(k){return M=Object.setPrototypeOf?Object.getPrototypeOf:function(A){return A.__proto__||Object.getPrototypeOf(A)},M(k)}function R(k,C,A){return C in k?Object.defineProperty(k,C,{value:A,enumerable:!0,configurable:!0,writable:!0}):k[C]=A,k}var P=(0,o.canUseDOM)()&&dee(),L=function(k){v(A,k);var C=_(A);function A(U){var W;return h(this,A),W=C.call(this,U),R(w(W),"innerSliderRefHandler",function(F){return W.innerSlider=F}),R(w(W),"slickPrev",function(){return W.innerSlider.slickPrev()}),R(w(W),"slickNext",function(){return W.innerSlider.slickNext()}),R(w(W),"slickGoTo",function(F){var G=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return W.innerSlider.slickGoTo(F,G)}),R(w(W),"slickPause",function(){return W.innerSlider.pause("paused")}),R(w(W),"slickPlay",function(){return W.innerSlider.autoPlay("play")}),W.state={breakpoint:null},W._responsiveMediaHandlers=[],W}return g(A,[{key:"media",value:function(W,F){P.register(W,F),this._responsiveMediaHandlers.push({query:W,handler:F})}},{key:"componentDidMount",value:function(){var W=this;if(this.props.responsive){var F=this.props.responsive.map(function(X){return X.breakpoint});F.sort(function(X,Z){return X-Z}),F.forEach(function(X,Z){var J;Z===0?J=(0,i.default)({minWidth:0,maxWidth:X}):J=(0,i.default)({minWidth:F[Z-1]+1,maxWidth:X}),(0,o.canUseDOM)()&&W.media(J,function(){W.setState({breakpoint:X})})});var G=(0,i.default)({minWidth:F.slice(-1)[0]});(0,o.canUseDOM)()&&this.media(G,function(){W.setState({breakpoint:null})})}}},{key:"componentWillUnmount",value:function(){this._responsiveMediaHandlers.forEach(function(W){P.unregister(W.query,W.handler)})}},{key:"render",value:function(){var W=this,F,G;this.state.breakpoint?(G=this.props.responsive.filter(function(ge){return ge.breakpoint===W.state.breakpoint}),F=G[0].settings==="unslick"?"unslick":f(f(f({},s.default),this.props),G[0].settings)):F=f(f({},s.default),this.props),F.centerMode&&(F.slidesToScroll>1,F.slidesToScroll=1),F.fade&&(F.slidesToShow>1,F.slidesToScroll>1,F.slidesToShow=1,F.slidesToScroll=1);var X=t.default.Children.toArray(this.props.children);X=X.filter(function(ge){return typeof ge=="string"?!!ge.trim():!!ge}),F.variableWidth&&(F.rows>1||F.slidesPerRow>1)&&(console.warn("variableWidth is not supported in case of rows > 1 or slidesPerRow > 1"),F.variableWidth=!1);for(var Z=[],J=null,D=0;D<X.length;D+=F.rows*F.slidesPerRow){for(var $=[],q=D;q<D+F.rows*F.slidesPerRow;q+=F.slidesPerRow){for(var Y=[],Q=q;Q<q+F.slidesPerRow&&(F.variableWidth&&X[Q].props.style&&(J=X[Q].props.style.width),!(Q>=X.length));Q+=1)Y.push(t.default.cloneElement(X[Q],{key:100*D+10*q+Q,tabIndex:-1,style:{width:"".concat(100/F.slidesPerRow,"%"),display:"inline-block"}}));$.push(t.default.createElement("div",{key:10*D+q},Y))}F.variableWidth?Z.push(t.default.createElement("div",{key:D,style:{width:J}},$)):Z.push(t.default.createElement("div",{key:D},$))}if(F==="unslick"){var Ce="regular slider "+(this.props.className||"");return t.default.createElement("div",{className:Ce},X)}else Z.length<=F.slidesToShow&&(F.unslick=!0);return t.default.createElement(r.InnerSlider,l({style:this.props.style,ref:this.innerSliderRefHandler},F),Z)}}]),A}(t.default.Component);n.default=L})(NN);(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var e=t(NN);function t(i){return i&&i.__esModule?i:{default:i}}var r=e.default;n.default=r})(mZ);function Dd({value:n}){return E.jsx("div",{id:"progressBarBackground",className:"rounded-full bg-chillGrey h-3 mx-3 my-1 w-full",children:E.jsx("div",{id:"progressBar",className:"rounded-full bg-blueVolume h-full",style:{width:n+"%"}})})}function Ic({name:n}){const e=Math.floor(Math.random()*2),t=Math.floor(Math.random()*3),r="bg-azulVolume",i="bg-greenFooter",s="bg-pinkVolume",o="rotate-6",a="-rotate-6",l=()=>t==1?r:t==2?i:s,u=()=>e==0?o:a;return E.jsx("div",{className:"bg-marronPocho w-96 h-52 rounded-2xl",children:E.jsxs("div",{className:`${l()} w-full h-full p-6 rounded-2xl transform ${u()}`,children:[E.jsxs("div",{className:"flex gap-4 items-center",children:[E.jsx("div",{className:"w-12 h-12 bg-slate-100 rounded-full"}),E.jsx("div",{className:"text-2xl",children:n})]}),E.jsx("div",{className:"text-sm mt-2",children:"Si tu archivo del modelo no está en formato STL. Es tan sencillo commo ir al menú del software que está utilizando y clique en “Guardar Como...” o “Exportar” y elegir STL."})]})})}function fee(){const n=gs(),{state:e}=dh(),t=e?e.mainUrl:"thinker.stl",r=e?e.modelName:"Nombre Predeterminado",i=e?e.author.username:"Null User";N.useEffect(()=>{window.scroll(0,0),console.log(t)},[]);const s=()=>{n(`/volume/authors/${i}`,{state:{user:i}})};return E.jsxs("div",{id:"mainModelViewUIContainer",className:"md:w-[80%] w-full mt-14 font-loos animate-fade",children:[E.jsx("div",{id:"mainLabelContainer",className:"w-full",children:E.jsx("p",{className:"LoosFont text-4xl sm:text-5xl md:text-6xl lg:text-7xl text-center",children:r})}),E.jsxs("div",{className:"w-full px-32",children:[E.jsxs("div",{id:"modelStatsContainer",className:"flex gap-6 p-2",children:[E.jsxs("div",{id:"likes",className:"flex gap-2",children:[E.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 8.25c0-2.485-2.099-4.5-4.688-4.5-1.935 0-3.597 1.126-4.312 2.733-.715-1.607-2.377-2.733-4.313-2.733C5.1 3.75 3 5.765 3 8.25c0 7.22 9 12 9 12s9-4.78 9-12z"})}),E.jsx("p",{children:"248"})]}),E.jsxs("div",{id:"views",className:"flex gap-2",children:[E.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",children:[E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.036 12.322a1.012 1.012 0 010-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178z"}),E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]}),E.jsx("p",{children:"2,6k"})]})]}),E.jsx("div",{id:"carrouselContainer",className:"h-[400px] w-full mx-auto inline-block bg-slate-300",children:E.jsx(cI,{style:{width:"100%",height:"400px"},orbitControls:!0,shadows:!0,url:t,modelProps:{color:"#0a6bc1",positionX:0,positionY:0}})}),E.jsxs("div",{id:"modelInfoMainContainer",className:"flex justify-between mt-4",children:[E.jsxs("div",{className:"w-fit max-w-md",children:[E.jsxs("div",{id:"userInfoContainer",className:"flex gap-4 items-center",children:[E.jsxs("div",{className:"flex gap-4 items-center",onClick:s,children:[E.jsx("div",{className:"w-8 h-8 rounded-full bg-slate-400 hover:drop-shadow-slim cursor-pointer transition duration-300"}),E.jsx("p",{className:"LoosFont text-xl hover:underline cursor-pointer transition duration-300",children:i})]}),E.jsx("button",{className:"rounded-full px-10 py-[0.5px] border-2 border-black text-lg hover:bg-black hover:text-white transition duration-300",children:"Seguir"})]}),E.jsx("div",{id:"modelDescription",className:"mt-4",children:E.jsx("p",{className:"text-sm",children:"Jarrón con Diseño Exclusivo. Es posible la modificación del color y el tamaño. El archivo ya contiene el STL."})}),E.jsxs("div",{id:"cathegoryContainer",className:"flex flex-wrap gap-2 mt-4",children:[E.jsx("p",{className:"w-fit text-black text-md bg-pinkVolume rounded-full px-8 py-2 hover:bg-pinkDarkVolume hover:text-white cursor-pointer transition duration-300",children:"Hogar"}),E.jsx("p",{className:"w-fit text-black text-md bg-pinkVolume rounded-full px-8 py-2 hover:bg-pinkDarkVolume hover:text-white cursor-pointer transition duration-300",children:"Decoración"}),E.jsx("p",{className:"w-fit text-black text-md bg-pinkVolume rounded-full px-8 py-2 hover:bg-pinkDarkVolume hover:text-white cursor-pointer transition duration-300",children:"Moda"}),E.jsx("p",{className:"w-fit text-black text-md bg-pinkVolume rounded-full px-8 py-2 hover:bg-pinkDarkVolume hover:text-white cursor-pointer transition duration-300",children:"STL"}),E.jsx("p",{className:"w-fit text-black text-md bg-pinkVolume rounded-full px-8 py-2 hover:bg-pinkDarkVolume hover:text-white cursor-pointer transition duration-300",children:"Sostenible"}),E.jsx("p",{className:"w-fit text-black text-md bg-pinkVolume rounded-full px-8 py-2 hover:bg-pinkDarkVolume hover:text-white cursor-pointer transition duration-300",children:"Para pintar"}),E.jsx("p",{className:"w-fit text-black text-md bg-pinkVolume rounded-full px-8 py-2 hover:bg-pinkDarkVolume hover:text-white cursor-pointer transition duration-300",children:"Diseño"})]})]}),E.jsxs("div",{children:[E.jsxs("div",{id:"iconsContainer",className:"flex gap-6 justify-center",children:[E.jsxs("div",{children:[E.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6 mx-auto hover:fill-black cursor-pointer",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 8.25c0-2.485-2.099-4.5-4.688-4.5-1.935 0-3.597 1.126-4.312 2.733-.715-1.607-2.377-2.733-4.313-2.733C5.1 3.75 3 5.765 3 8.25c0 7.22 9 12 9 12s9-4.78 9-12z"})}),E.jsx("p",{className:"text-xs mt-2",children:"1000"})]}),E.jsxs("div",{children:[E.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6 mx-auto hover:fill-black cursor-pointer",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M7.217 10.907a2.25 2.25 0 100 2.186m0-2.186c.18.324.283.696.283 1.093s-.103.77-.283 1.093m0-2.186l9.566-5.314m-9.566 7.5l9.566 5.314m0 0a2.25 2.25 0 103.935 2.186 2.25 2.25 0 00-3.935-2.186zm0-12.814a2.25 2.25 0 103.933-2.185 2.25 2.25 0 00-3.933 2.185z"})}),E.jsx("p",{className:"text-xs mt-2",children:"Compartir"})]}),E.jsxs("div",{children:[E.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6 mx-auto hover:fill-black cursor-pointer",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17.593 3.322c1.1.128 1.907 1.077 1.907 2.185V21L12 17.25 4.5 21V5.507c0-1.108.806-2.057 1.907-2.185a48.507 48.507 0 0111.186 0z"})}),E.jsx("p",{className:"text-xs mt-2",children:"Guardar"})]})]}),E.jsxs("div",{id:"buttonsContainer",className:"flex flex-col gap-4 mt-8",children:[E.jsx("button",{className:"LoosFont px-6 py-2 rounded-full text-lg bg-greenFooter hover:bg-green-900 hover:text-white transition duration-300",children:"Descargar Modelo"}),E.jsx("button",{className:"LoosFont px-6 py-2 rounded-full text-lg bg-greenFooter hover:bg-green-900 hover:text-white transition duration-300",children:"Solicitar Impresión"})]})]})]}),E.jsxs("div",{id:"columnContainer",className:"max-w-xl",children:[E.jsxs("div",{id:"makeCommentContainer",className:"flex items-center mt-8 gap-2",children:[E.jsx("div",{className:"w-12 h-12 bg-slate-400 rounded-full"}),E.jsx("div",{id:"commentTextField",className:"w-fit flex-grow",children:E.jsx("input",{className:"px-4 py-2 bg-pinkVolume placeholder-neutral-500 w-full rounded-full focus:outline-none focus:ring focus:ring-pink-200",placeholder:"Escribe un comentario..."})})]}),E.jsx("div",{id:"reviewsContainer",className:"mt-24",children:E.jsx("div",{id:"label",children:E.jsx("p",{className:"text-4xl",children:"Valoraciones y reseñas"})})}),E.jsxs("div",{id:"reviewPointContainer",className:"flex",children:[E.jsxs("div",{id:"number",children:[E.jsx("p",{className:"text-6xl mt-5 text-center",children:"4,6"}),E.jsxs("div",{className:"flex mt-4",children:[E.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5 fill-black",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11.48 3.499a.562.562 0 011.04 0l2.125 5.111a.563.563 0 00.475.345l5.518.442c.499.04.701.663.321.988l-4.204 3.602a.563.563 0 00-.182.557l1.285 5.385a.562.562 0 01-.84.61l-4.725-2.885a.563.563 0 00-.586 0L6.982 20.54a.562.562 0 01-.84-.61l1.285-5.386a.562.562 0 00-.182-.557l-4.204-3.602a.563.563 0 01.321-.988l5.518-.442a.563.563 0 00.475-.345L11.48 3.5z"})}),E.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5 fill-black",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11.48 3.499a.562.562 0 011.04 0l2.125 5.111a.563.563 0 00.475.345l5.518.442c.499.04.701.663.321.988l-4.204 3.602a.563.563 0 00-.182.557l1.285 5.385a.562.562 0 01-.84.61l-4.725-2.885a.563.563 0 00-.586 0L6.982 20.54a.562.562 0 01-.84-.61l1.285-5.386a.562.562 0 00-.182-.557l-4.204-3.602a.563.563 0 01.321-.988l5.518-.442a.563.563 0 00.475-.345L11.48 3.5z"})}),E.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5 fill-black",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11.48 3.499a.562.562 0 011.04 0l2.125 5.111a.563.563 0 00.475.345l5.518.442c.499.04.701.663.321.988l-4.204 3.602a.563.563 0 00-.182.557l1.285 5.385a.562.562 0 01-.84.61l-4.725-2.885a.563.563 0 00-.586 0L6.982 20.54a.562.562 0 01-.84-.61l1.285-5.386a.562.562 0 00-.182-.557l-4.204-3.602a.563.563 0 01.321-.988l5.518-.442a.563.563 0 00.475-.345L11.48 3.5z"})}),E.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5 fill-black",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11.48 3.499a.562.562 0 011.04 0l2.125 5.111a.563.563 0 00.475.345l5.518.442c.499.04.701.663.321.988l-4.204 3.602a.563.563 0 00-.182.557l1.285 5.385a.562.562 0 01-.84.61l-4.725-2.885a.563.563 0 00-.586 0L6.982 20.54a.562.562 0 01-.84-.61l1.285-5.386a.562.562 0 00-.182-.557l-4.204-3.602a.563.563 0 01.321-.988l5.518-.442a.563.563 0 00.475-.345L11.48 3.5z"})}),E.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11.48 3.499a.562.562 0 011.04 0l2.125 5.111a.563.563 0 00.475.345l5.518.442c.499.04.701.663.321.988l-4.204 3.602a.563.563 0 00-.182.557l1.285 5.385a.562.562 0 01-.84.61l-4.725-2.885a.563.563 0 00-.586 0L6.982 20.54a.562.562 0 01-.84-.61l1.285-5.386a.562.562 0 00-.182-.557l-4.204-3.602a.563.563 0 01.321-.988l5.518-.442a.563.563 0 00.475-.345L11.48 3.5z"})})]})]}),E.jsxs("div",{id:"bars",className:"w-full p-4",children:[E.jsxs("div",{className:"flex w-full items-center",children:[E.jsx("p",{className:"w-4 text-end",children:"5"}),E.jsx(Dd,{value:70})]}),E.jsxs("div",{className:"flex w-full items-center",children:[E.jsx("p",{className:"w-4 text-end",children:"4"}),E.jsx(Dd,{value:20})]}),E.jsxs("div",{className:"flex w-full items-center",children:[E.jsx("p",{className:"w-4 text-end",children:"3"}),E.jsx(Dd,{value:10})]}),E.jsxs("div",{className:"flex w-full items-center",children:[E.jsx("p",{className:"w-4 text-end",children:"2"}),E.jsx(Dd,{value:0})]}),E.jsxs("div",{className:"flex w-full items-center",children:[E.jsx("p",{className:"w-4 text-end",children:"1"}),E.jsx(Dd,{value:0})]})]})]}),E.jsxs("div",{id:"commentsContainer",className:"gap-12 flex flex-col mt-14",children:[E.jsx(Ic,{name:"carlos"}),E.jsx(Ic,{name:"fer"}),E.jsx(Ic,{name:"iván"}),E.jsx(Ic,{name:"orhugo"}),E.jsx(Ic,{name:"carla"}),E.jsx(Ic,{name:"elena"})]})]}),E.jsxs("div",{id:"exploreContainer",className:"mt-24",children:[E.jsx("div",{id:"exploreLabel",children:E.jsx("p",{className:"text-4xl",children:"Explora más esta categoría"})}),E.jsxs("div",{id:"galeryContainer",className:"grid grid-cols-4 gap-4 w-full mt-4",children:[E.jsx("img",{className:"hover:drop-shadow-2xl hover:scale-[1.02] transition duration-300 cursor-pointer",src:"../../public/GaleryItem1.svg"}),E.jsx("img",{className:"hover:drop-shadow-2xl hover:scale-[1.02] transition duration-300 cursor-pointer",src:"../../public/GaleryItem2.svg"}),E.jsx("img",{className:"hover:drop-shadow-2xl hover:scale-[1.02] transition duration-300 cursor-pointer",src:"../../public/GaleryItem3.svg"}),E.jsx("img",{className:"hover:drop-shadow-2xl hover:scale-[1.02] transition duration-300 cursor-pointer",src:"../../public/GaleryItem4.svg"})]}),E.jsx("div",{className:"mt-4 flex justify-end",children:E.jsx("button",{className:"LoosFont px-10 py-1 rounded-full text-lg bg-greenFooter hover:bg-green-900 hover:text-white transition duration-300",children:"More"})})]})]})]})}function hee(){const[n,e]=N.useState(!0),[t,r]=N.useState(""),[i,s]=N.useState("");N.useState(null);const[o,a]=N.useState(""),[l,u]=N.useState(null),f=gs();N.useEffect(()=>{window.scroll(0,0)},[]);const h=()=>{f("/volume/userregistration")},p=S=>{r(S.target.value)},g=S=>{s(S.target.value)};function v(S){t.length<1||i.length<1?e(!1):(console.log("Email: "+t+" Password: "+i),e(!0),w(S))}const x=()=>n?"hidden":"block animate-fade",_=()=>{e(!0)},m=S=>{S.key==="Enter"&&(console.log("enter"),v(S))};async function w(S){S.preventDefault();const M={email:t,password:i};try{const R=await Jt.post("http://localhost:8080/users/login",M);if(R.status===200){const{message:P,status:L,user:k}=R.data;L?(u(k),localStorage.setItem("user",JSON.stringify(k)),localStorage.setItem("isLoggedIn",!0),f("/volume",{state:{user:k}})):a("Mail or/and password incorrect. Try again")}else console.log("Login failed:",R.data),a("Mail or/and password incorrect")}catch(R){console.error("Error:",R),a("Mail or/and password incorrect")}}return E.jsxs("div",{id:"loginContainer",className:"mt-12 w-[80%]",onKeyPress:m,children:[E.jsx("div",{id:"mainLabelContainer",children:E.jsx("p",{className:"LoosFont w-full text-center text-4xl sm:text-5xl md:text-7xl lg:text-8xl",children:"Iniciar sesión"})}),E.jsxs("div",{id:"inputFieldsContainer",className:"flex flex-col justify-center w-fit mx-auto",children:[E.jsxs("div",{className:"w-fit mx-auto",children:[E.jsxs("div",{className:"mt-12 w-fit",children:[E.jsx("div",{children:E.jsx("p",{className:"LoosFont text-xl",children:"Email"})}),E.jsx("div",{className:"flex justify-center",children:E.jsx("input",{type:"email",value:t,onChange:p,className:"px-8 py-2 border-[1px] border-slate-400 w-full max-w-md",placeholder:"email@email.com"})})]}),E.jsxs("div",{className:"mt-12 w-fit",children:[E.jsx("div",{children:E.jsx("p",{className:"LoosFont text-xl",children:"Contraseña"})}),E.jsx("div",{children:E.jsx("input",{type:"password",value:i,onChange:g,className:"px-8 py-2 border-[1px] border-slate-400 w-full max-w-md",placeholder:"**********"})})]})]}),E.jsx("div",{id:"warning",className:`${x()} mt-6 transition animate-fade`,children:E.jsxs("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative w-[600px]",role:"alert",children:[E.jsx("strong",{className:"font-bold",children:"Ups! "}),E.jsx("span",{className:"block sm:inline",children:"Por favor asegurate de rellenar todos los campos"}),E.jsx("span",{className:"absolute top-0 bottom-0 right-0 px-4 py-3",children:E.jsxs("svg",{onClick:_,className:"fill-current h-6 w-6 text-red-500",role:"button",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",children:[E.jsx("title",{children:"Close"}),E.jsx("path",{d:"M14.348 14.849a1.2 1.2 0 0 1-1.697 0L10 11.819l-2.651 3.029a1.2 1.2 0 1 1-1.697-1.697l2.758-3.15-2.759-3.152a1.2 1.2 0 1 1 1.697-1.697L10 8.183l2.651-3.031a1.2 1.2 0 1 1 1.697 1.697l-2.758 3.152 2.758 3.15a1.2 1.2 0 0 1 0 1.698z"})]})})]})}),E.jsx("div",{className:"mt-8 flex justify-center max-w-md mx-auto",children:E.jsx("button",{onClick:v,className:"LoosFont px-6 py-2 rounded-full text-lg bg-greenFooter hover:bg-green-900 hover:text-white transition duration-300",children:"Entrar"})}),E.jsx("div",{className:"mt-8 flex justify-center max-w-md mx-auto",children:E.jsxs("p",{children:["Aún no tienes una cuenta? ",E.jsx("span",{className:"hover:underline cursor-pointer",onClick:h,children:"Regístrate"})]})})]})]})}function Ja(){return E.jsx("div",{className:"w-48 h-60 flex-none bg-pinkVolume rounded-md cursor-pointer hover:bg-pink-200 transition duration-300 no-scrollbar"})}function pee(){return N.useEffect(()=>{window.scroll(0,0)},[]),E.jsxs("div",{id:"mainTutorialsViewContainer",className:"max-w-4xl animate-fade",children:[E.jsx("div",{id:"mainLabelContainer",className:"mt-12",children:E.jsx("p",{className:"LoosFont max-w-4xl text-8xl",children:"Iníciate en la impresión 3D"})}),E.jsx("div",{id:"creaTuPropiaFiguraLabel",className:"mt-12",children:E.jsx("p",{className:"LoosFont text-2xl",children:"¡Crea tu propia figura!"})}),E.jsxs("div",{className:"mt-8",children:[E.jsxs("div",{id:"tutorialsFirstDiv",className:"bg-azulVolume px-14 py-10",children:[E.jsx("p",{className:"LoosFont text-3xl",children:"1"}),E.jsx("p",{className:"LoosFont text-2xl",children:"Descargar modelo"}),E.jsx("p",{className:"LoosFont text-sm max-w-xs mt-8",children:"Descarga el modelo que más te guste de la web"})]}),E.jsx("div",{id:"tutorialsSecondDiv",className:"bg-greenFooter px-14 pb-20 pt-16 flex justify-end -my-20",children:E.jsxs("div",{className:"w-fit",children:[E.jsx("p",{className:"LoosFont text-3xl",children:"2"}),E.jsx("p",{className:"LoosFont text-2xl",children:"Exportar y preparar el archivo STL"}),E.jsx("p",{className:"LoosFont text-sm max-w-xs mt-8",children:"Si tu archivo del modelo no está en formato STL. Es tan sencillo commo ir al menú del software que está utilizando y clique en “Guardar Como...” o “Exportar” y elegir STL. "}),E.jsx("p",{className:"LoosFont text-sm max-w-xs mt-4",children:"Esto es necesario para preparar el archivo para imprimir.*"})]})}),E.jsxs("div",{id:"tutorialsThirdDiv",className:"bg-marronPocho px-14 pt-14 pb-20 -my-28",children:[E.jsx("p",{className:"LoosFont text-3xl",children:"3"}),E.jsx("p",{className:"LoosFont text-2xl",children:"Preparacion del archivo para la impresora"}),E.jsxs("div",{className:"grid grid-cols-2 max-w-lg gap-8",children:[E.jsxs("div",{children:[E.jsx("p",{children:"A."}),E.jsx("p",{children:"Análisis. Evalúa su espesor, agujeros y ángulos del modelo. "})]}),E.jsxs("div",{children:[E.jsx("p",{children:"B."}),E.jsx("p",{children:"Estructuras de soporte. Añadir soportes según necesidad.  "})]}),E.jsxs("div",{children:[E.jsx("p",{children:"C."}),E.jsx("p",{children:"Relleno del modelo. Definir porcentaje y patrón de relleno.  "})]}),E.jsxs("div",{children:[E.jsx("p",{children:"D."}),E.jsx("p",{children:"Posicionamiento y orientación. Decidir ubicación óptima en la plataforma. "})]}),E.jsxs("div",{children:[E.jsx("p",{children:"E."}),E.jsx("p",{children:"Generación del G-Code. Traducir modelo a instrucciones para la máquina. "})]})]})]}),E.jsx("div",{id:"tutorialsFourthDiv",className:"px-14 pt-10 pb-16 flex justify-end bg-pinkVolume",children:E.jsxs("div",{className:"w-fit",children:[E.jsx("p",{className:"LoosFont text-3xl",children:"4"}),E.jsx("p",{className:"LoosFont text-2xl",children:"Impresion 3D"}),E.jsx("p",{className:"mt-4 max-w-xs",children:"Comprobar temperaturas, usar laca y enviar a G-Code"})]})}),E.jsxs("div",{id:"tutorialsFifthDiv",className:"bg-azulVolume px-14 py-10 -my-10",children:[E.jsx("p",{className:"LoosFont text-3xl",children:"5"}),E.jsx("p",{className:"LoosFont text-2xl max-w-md",children:"Extracción de piezas postproceso"}),E.jsx("p",{className:"text-sm max-w-xs mt-6",children:"Extracción de piezas: Manual o con herramientas según tecnología."}),E.jsx("p",{className:"text-sm max-w-xs mt-6",children:"Postprocesado: Quitar soportes, lijar, pulir y aplicar revestimientos"})]})]}),E.jsx("div",{className:"flex justify-end",children:E.jsx("button",{className:"LoosFont px-6 py-2 rounded-full text-lg bg-greenFooter hover:bg-green-900 hover:text-white transition duration-300 mt-16",children:"Descubre más"})}),E.jsx("div",{children:E.jsx("p",{className:"LoosFont text-4xl mt-12",children:"Continua aprendiendo"})}),E.jsx("div",{className:"w-full mx-auto mt-6",children:E.jsxs("div",{className:"flex w-full gap-4 overflow-x-auto",children:[E.jsx(Ja,{}),E.jsx(Ja,{}),E.jsx(Ja,{}),E.jsx(Ja,{}),E.jsx(Ja,{}),E.jsx(Ja,{}),E.jsx(Ja,{})]})})]})}function Nc({label:n,onToggle:e}){const t="text-black ",r="text-white bg-black",[i,s]=N.useState(!1),o=()=>{s(!i),e(!i,n)},a=()=>i?r:t;return E.jsx("div",{className:"flex justify-start",children:E.jsx("button",{className:`${a()} transition duration-300 px-8 py-2 w-52 border-[1px] border-black rounded-full text-md`,onClick:o,children:n})})}function lD({onClick:n,modelName:e,modelImage:t,modelAuthor:r}){const[i,s]=N.useState(!1),o="-translate-y-full";gs();const a=()=>{s(!0)},l=()=>{s(!1)},u=()=>i?o:"";return t=t??"../default_image.png",r=r??"nullUser",E.jsxs("div",{className:"w-full mx-auto h-96  flex flex-shrink flex-col relative overflow-y-hidden cursor-pointer  border border-gray-400",onMouseEnter:a,onMouseLeave:l,onClick:n,children:[E.jsx("div",{id:"imageContainer",className:"w-full h-full  flex items-center justify-center",children:E.jsx("img",{src:t,className:"w-full h-full object-cover"})}),E.jsxs("div",{id:"infoDrawer",className:`${u()} w-full bg-white px-4 py-2 absolute top-full transition duration-300`,children:[E.jsx("p",{className:"LoosFont",children:e}),E.jsxs("div",{id:"autorInfo",className:"flex gap-2 items-center",children:[E.jsx("div",{id:"autorImg",className:"w-6 h-6 rounded-full bg-slate-400"}),E.jsx("p",{className:"LoosFont",children:r.username})]})]})]})}function mee(){const[n,e]=N.useState(!1),t="translate-y-72",r="blur-sm",i=()=>{e(!0)},s="../loading.gif",o=()=>{e(!1)},a=()=>{if(n)return t},l=()=>{if(n)return r},[u,f]=N.useState([]),[h,p]=N.useState([]),[g,v]=N.useState(""),[x,_]=N.useState(!1),[m,w]=N.useState(!1),[S,M]=N.useState(!1),[R,P]=N.useState(!1),[L,k]=N.useState(!1),[C,A]=N.useState(!1),U=(fe,Pe)=>{Pe=="Accesorios"?_(fe):Pe=="Figuras"?k(fe):Pe=="Herramientas"?w(fe):Pe=="Complementos"?M(fe):Pe=="Juguetes"?P(fe):Pe=="Mecanismos"&&A(fe)},W=!(x||m||S||R||L||C);function F(fe){if(fe.key==="Enter")if(o(),g==null||g=="")if(W)p(u);else{let Pe=[],Ue=[];x&&(Pe=u.filter(Ae=>Ae.category=="Accesorios"),Ue=Ue.concat(Pe)),m&&(Pe=u.filter(Ae=>Ae.category=="Herramientas"),Ue=Ue.concat(Pe)),S&&(Pe=u.filter(Ae=>Ae.category=="Complementos"),Ue=Ue.concat(Pe)),R&&(Pe=u.filter(Ae=>Ae.category=="Juguetes"),Ue=Ue.concat(Pe)),L&&(Pe=u.filter(Ae=>Ae.category=="Figuras"),Ue=Ue.concat(Pe)),C&&(Pe=u.filter(Ae=>Ae.category=="Mecanismos"),Ue=Ue.concat(Pe)),p(Ue)}else if(W){const Pe=u.filter(Ue=>Ue.title.toLowerCase().includes(g.toLowerCase()));p(Pe)}else{let Pe=[],Ue=[];x&&(Pe=u.filter(j=>j.category=="Accesorios"),Ue=Ue.concat(Pe)),m&&(Pe=u.filter(j=>j.category=="Herramientas"),Ue=Ue.concat(Pe)),S&&(Pe=u.filter(j=>j.category=="Complementos"),Ue=Ue.concat(Pe)),R&&(Pe=u.filter(j=>j.category=="Juguetes"),Ue=Ue.concat(Pe)),L&&(Pe=u.filter(j=>j.category=="Figuras"),Ue=Ue.concat(Pe)),C&&(Pe=u.filter(j=>j.category=="Mecanismos"),Ue=Ue.concat(Pe));const Ae=Ue.filter(j=>j.title.toLowerCase().includes(g.toLowerCase()));p(Ae)}}const G=gs(),X=fe=>{console.log("id:  ",fe.id),fe.mainUrl==null?G("/volume/visualizarstl",{state:"thinker.stl"}):fe.mainUrl.length<1?G("/volume/visualizarstl",{state:"thinker.stl"}):G("/volume/visualizarstl",{state:{modelID:fe.id,modelName:fe.title,mainUrl:fe.mainUrl,author:fe.author}})},[Z,J]=N.useState(1),D=fe=>{window.scrollTo({top:0,behavior:"smooth"}),J(fe)},[$,q]=N.useState(8),Y=fe=>{q(fe.target.value),D(1)},Q=fe=>({backgroundColor:Z===fe?"#4D82DF":"white"}),[Ce,ge]=N.useState([]),[ie,ce]=N.useState(!0);N.useEffect(()=>{h.length==0&&ce(!0),Jt.get("http://localhost:8080/models/getAll").then(Ue=>{const Ae=Ue.data;f(Ae),h.length==0&&p(Ae)}).catch(Ue=>{console.error("Error fetching models data:",Ue)}).finally(()=>{ce(!1)});const fe=[],Pe=Math.ceil(h.length/$);for(let Ue=1;Ue<=Pe;Ue++)fe.push(Ue);ge(fe)},[h,$]);const ke="Buscar en ";return E.jsxs("div",{className:"overflow-y-hidden mt-12",children:[E.jsxs("div",{onMouseLeave:o,children:[E.jsxs("div",{className:"flex items-center gap-8 bg-pinkVolume p-4 relative z-20",children:[E.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 21l-5.197-5.197m0 0A7.5 7.5 0 105.196 5.196a7.5 7.5 0 0010.607 10.607z"})}),E.jsx("div",{className:"w-full",children:E.jsx("input",{placeholder:ke,onClick:i,value:g,onChange:fe=>v(fe.target.value),onKeyPress:F,className:"w-full bg-transparent text-2xl placeholder:text-slate-600 focus:outline-none focus:ring focus:ring-transparent"})})]}),E.jsx("div",{id:"catalogDrawer",className:`${a()} w-full bg-pinkVolume flex justify-center p-8 transition relative z-10 duration-300 -mt-72 mb-52 drop-shadow-dark`,children:E.jsxs("div",{className:"grid grid-cols-3 p-4 gap-10 w-[70%] pb-16",children:[E.jsx("div",{children:E.jsx(Nc,{label:"Accesorios",onToggle:U})}),E.jsx("div",{children:E.jsx(Nc,{label:"Herramientas",onToggle:U})}),E.jsx("div",{children:E.jsx(Nc,{label:"Complementos",onToggle:U})}),E.jsx("div",{children:E.jsx(Nc,{label:"Juguetes",onToggle:U})}),E.jsx("div",{children:E.jsx(Nc,{label:"Figuras",onToggle:U})}),E.jsx("div",{children:E.jsx(Nc,{label:"Mecanismos",onToggle:U})})]})})]}),ie?E.jsx("div",{className:"flex items-center justify-center mb-2",children:E.jsx("img",{className:"w-32 h-32",src:s})}):E.jsxs("div",{id:"catalogItemsContainer",className:`${l()} -mt-32 transition duration-300 relative z-0`,children:["Número de modelos:",E.jsxs("select",{className:"mb-4 ml-2",value:$,onChange:Y,children:[E.jsx("option",{value:"8",children:"8"}),E.jsx("option",{value:"12",children:"12"}),E.jsx("option",{value:"16",children:"16"}),E.jsx("option",{value:"20",children:"20"})]}),E.jsx("div",{id:"catalogGrid",className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:h.slice($*(Z-1),$*Z).map((fe,Pe)=>E.jsx(lD,{onClick:()=>X(fe),modelName:fe.title,modelImage:fe.imageUrl,modelAuthor:fe.author},fe.id))}),E.jsx("div",{className:"mt-8 flex items-center justify-center",children:Ce.map(fe=>E.jsx("button",{className:"w-8 h-8 mx-2 rounded-full border border-black",style:Q(fe),onClick:()=>D(fe),children:fe},fe))})]})]})}function gee(){return N.useEffect(()=>{window.scroll(0,0)},[]),E.jsx("div",{className:"w-[80%] animate-fade",children:E.jsx(mee,{})})}function lo({text:n}){const e=Math.floor(Math.random()*3),t="bg-azulVolume",r="bg-greenFooter",i="bg-pinkVolume",s=()=>e==1?t:e==2?r:i;return E.jsxs("div",{className:`${s()} px-4 py-2 rounded-xl max-w-xl mt-2 hover:drop-shadow-lg transition duration-300`,children:[E.jsxs("div",{className:"flex justify-between",children:[E.jsx("p",{className:"text-slate-600 text-sm",children:"Figura Marvel"}),E.jsx("p",{className:"text-slate-600 text-sm",children:"21 Nov"})]}),E.jsx("div",{className:"",children:E.jsx("p",{children:n})})]})}function mP(){const{state:n}=dh(),e=n.user,[t,r]=N.useState([]),i=gs();N.useEffect(()=>{window.scroll(0,0),Jt.get("http://localhost:8080/models/getAuthorModels",{params:{author:e}}).then(o=>{const a=o.data;console.log(a),r(a)}).catch(o=>{console.error("Error fetching models data:",o)})},[]);const s=o=>{console.log("id:  ",o.id),o.mainUrl==null?i("/volume/visualizarstl",{state:"thinker.stl"}):o.mainUrl.length<1?i("/volume/visualizarstl",{state:"thinker.stl"}):i("/volume/visualizarstl",{state:{modelID:o.id,modelName:o.title}})};return E.jsxs("div",{className:"flex w-[80%] mt-12 gap-6 h-full animate-fade",children:[E.jsxs("div",{id:"sideBarContainer",className:"max-w-sm flex flex-col",children:[E.jsx("div",{id:"profilePicContainer",className:"w-32 h-32 bg-slate-400 rounded-full mx-auto"}),E.jsx("div",{id:"profileNameContainer",className:"mt-8",children:E.jsx("p",{className:"LoosFont text-4xl text-center",children:e})}),E.jsxs("div",{id:"statsContainer",className:"flex gap-6 mt-8 justify-between",children:[E.jsxs("div",{children:[E.jsx("p",{className:"LoosFont text-center",children:"7"}),E.jsx("p",{className:"LoosFont text-center text-sm",children:"Modelos"})]}),E.jsxs("div",{children:[E.jsx("p",{className:"LoosFont text-center",children:"670"}),E.jsx("p",{className:"LoosFont text-center text-sm",children:"Seguidores"})]}),E.jsxs("div",{children:[E.jsx("p",{className:"LoosFont text-center",children:"1120"}),E.jsx("p",{className:"LoosFont text-center text-sm",children:"Siguiendo"})]})]}),E.jsxs("div",{id:"buttonsContainer",className:"flex justify-between gap-6 mt-8",children:[E.jsx("button",{className:"LoosFont w-44 px-8 py-2 text-md border-[1px] border-black rounded-full bg-transparent hover:bg-black hover:text-white cursor-pointer transition duration-300",children:"Editar"}),E.jsx("button",{className:"LoosFont w-44 px-8 py-2 text-md border-[1px] border-black rounded-full bg-transparent hover:bg-black hover:text-white cursor-pointer transition duration-300",children:"Compartir"})]}),E.jsx("div",{className:"flex",children:E.jsx("p",{className:"text-sm mt-8 relative",children:"Notificaciones"})}),E.jsxs("div",{id:"notificationsContainer",className:"mt-2 flex flex-col flex-1 overflow-y-scroll overflow-x-visible max-h-[370px] no-scrollbar px-4 justify-start",children:[E.jsx(lo,{text:"Oye tienes un comprador maricon el que lo lea maricon el que lo lea"}),E.jsx(lo,{text:"Oye tienes un comprador maricon el que lo lea maricon el que lo lea"}),E.jsx(lo,{text:"Oye tienes un comprador maricon el que lo lea maricon el que lo lea"}),E.jsx(lo,{text:"Oye tienes un comprador maricon el que lo lea maricon el que lo lea"}),E.jsx(lo,{text:"Oye tienes un comprador maricon el que lo lea maricon el que lo lea"}),E.jsx(lo,{text:"Oye tienes un comprador maricon el que lo lea maricon el que lo lea"}),E.jsx(lo,{text:"Oye tienes un comprador maricon el que lo lea maricon el que lo lea"}),E.jsx(lo,{text:"Oye tienes un comprador maricon el que lo lea maricon el que lo lea"}),E.jsx(lo,{text:"Oye tienes un comprador maricon el que lo lea maricon el que lo lea"})]})]}),E.jsxs("div",{id:"profileCatalogContainer",className:"w-full",children:[E.jsxs("div",{className:"flex items-center gap-8 bg-pinkVolume p-4 relative",children:[E.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-10 h-10",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 21l-5.197-5.197m0 0A7.5 7.5 0 105.196 5.196a7.5 7.5 0 0010.607 10.607z"})}),E.jsx("div",{className:"w-full",children:E.jsx("input",{placeholder:"Buscar",className:"w-full bg-transparent text-2xl placeholder:text-slate-600 focus:outline-none focus:ring focus:ring-transparent"})}),E.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-10 h-10 hover:rotate-90 transition duration-300 cursor-pointer",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})})]}),E.jsxs("div",{className:"flex justify-between px-20 mt-6",children:[E.jsx("p",{className:"LoosFont text-xl hover:underline cursor-pointer",children:"Favoritos"}),E.jsx("p",{className:"LoosFont text-xl hover:underline cursor-pointer",children:"Tus diseños"}),E.jsx("p",{className:"LoosFont text-xl hover:underline cursor-pointer",children:"Colecciones"})]}),E.jsx("div",{id:"catalogProfileGrid",className:"grid grid-cols-3 gap-4 mt-6",children:t.map(o=>E.jsx(lD,{onClick:()=>s(o),modelName:o.title,modelImage:o.imageUrl,modelAuthor:o.author},o.id))})]})]})}function vee(){const[n,e]=N.useState(!0),[t,r]=N.useState(""),[i,s]=N.useState(""),[o,a]=N.useState(""),[l,u]=N.useState(""),[f,h]=N.useState(""),[p,g]=N.useState(""),v=gs(),x=()=>{v("/volume/userLogin")},_=A=>{r(A.target.value)},m=A=>{s(A.target.value)},w=A=>{a(A.target.value)},S=A=>{u(A.target.value)},M=A=>{h(A.target.value)},R=A=>{g(A.target.value)};function P(A){t.length<1||i.length<1||o.length<1||l.length<1||f.length<1||p.length<1?e(!1):(e(!0),C(A))}const L=()=>n?"hidden":"block animate-fade",k=()=>{e(!0)};async function C(A){if(A.preventDefault(),!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(l)){alert("Please enter a valid email address");return}if(f.length<7){alert("Password must be at least 7 characters long");return}const W={username:o,name:t,lastname:i,email:l,password:f};try{(await Jt.post("http://localhost:8080/users/add",W)).status===200?(alert("Registration successful"),v("/volume/userlogin")):alert("Registration failed")}catch(F){console.error("Error:",F),alert("Registration failed")}}return E.jsxs("div",{id:"loginContainer",className:"mt-12 w-[80%]",children:[E.jsx("div",{id:"mainLabelContainer",children:E.jsx("p",{className:"LoosFont w-full text-center text-4xl sm:text-5xl md:text-7xl lg:text-8xl",children:"Crea una cuenta"})}),E.jsxs("div",{id:"inputFieldsContainer",className:"flex flex-col justify-center w-fit mx-auto",children:[E.jsxs("div",{className:"mt-12 w-fit flex gap-4",children:[E.jsxs("div",{children:[E.jsx("p",{className:"LoosFont text-xl",children:"Nombre"}),E.jsx("div",{className:"flex justify-center",children:E.jsx("input",{type:"text",value:t,onChange:_,className:"px-8 py-2 border-[1px] border-slate-400 w-full max-w-md",placeholder:"Nombre"})})]}),E.jsxs("div",{children:[E.jsx("p",{className:"LoosFont text-xl",children:"Apellidos"}),E.jsx("div",{className:"flex justify-center",children:E.jsx("input",{type:"text",value:i,onChange:m,className:"px-8 py-2 border-[1px] border-slate-400 w-full max-w-md",placeholder:"Apellidos"})})]})]}),E.jsxs("div",{className:"mt-12 w-fit flex gap-4",children:[E.jsxs("div",{children:[E.jsx("p",{className:"LoosFont text-xl",children:"Nombre de usuario"}),E.jsx("div",{className:"flex justify-center",children:E.jsx("input",{type:"text",value:o,onChange:w,className:"px-8 py-2 border-[1px] border-slate-400 w-full max-w-md",placeholder:"Nombre de usuario"})})]}),E.jsxs("div",{children:[E.jsx("p",{className:"LoosFont text-xl",children:"Email"}),E.jsx("div",{className:"flex justify-center",children:E.jsx("input",{type:"email",value:l,onChange:S,className:"px-8 py-2 border-[1px] border-slate-400 w-full max-w-md",placeholder:"email@email.com"})})]})]}),E.jsxs("div",{className:"mt-12 w-fit flex gap-4",children:[E.jsxs("div",{children:[E.jsx("p",{className:"LoosFont text-xl",children:"Contraseña"}),E.jsx("div",{className:"flex justify-center",children:E.jsx("input",{type:"password",value:f,onChange:M,className:"px-8 py-2 border-[1px] border-slate-400 w-full max-w-md",placeholder:"********"})})]}),E.jsxs("div",{children:[E.jsx("p",{className:"LoosFont text-xl",children:"Confirmar contraseña"}),E.jsx("div",{className:"flex justify-center",children:E.jsx("input",{type:"password",value:p,onChange:R,className:"px-8 py-2 border-[1px] border-slate-400 w-full max-w-md",placeholder:"********"})})]})]}),E.jsx("div",{id:"warning",className:`${L()} px-12 mt-6 transition animate-fade`,children:E.jsxs("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative",role:"alert",children:[E.jsx("strong",{className:"font-bold",children:"Ups! "}),E.jsx("span",{className:"block sm:inline",children:"Por favor asegurate de rellenar todos los campos"}),E.jsx("span",{className:"absolute top-0 bottom-0 right-0 px-4 py-3",children:E.jsxs("svg",{onClick:k,className:"fill-current h-6 w-6 text-red-500",role:"button",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",children:[E.jsx("title",{children:"Close"}),E.jsx("path",{d:"M14.348 14.849a1.2 1.2 0 0 1-1.697 0L10 11.819l-2.651 3.029a1.2 1.2 0 1 1-1.697-1.697l2.758-3.15-2.759-3.152a1.2 1.2 0 1 1 1.697-1.697L10 8.183l2.651-3.031a1.2 1.2 0 1 1 1.697 1.697l-2.758 3.152 2.758 3.15a1.2 1.2 0 0 1 0 1.698z"})]})})]})}),E.jsx("div",{className:"mt-6 flex justify-center",children:E.jsx("button",{onClick:P,className:"LoosFont px-6 py-2 rounded-full text-lg bg-greenFooter hover:bg-green-900 hover:text-white transition duration-300",children:"Registrarse"})}),E.jsx("div",{className:"mt-8 flex justify-center",children:E.jsxs("p",{children:["¿Ya tienes una cuenta? ",E.jsx("span",{className:"hover:underline cursor-pointer",onClick:x,children:"Inicia sesión"})]})})]})]})}function yee(){return E.jsx("div",{id:"MainAppContainer",className:"w-full justify-center bg-neutral-100 no-scrollbar",children:E.jsxs(gF,{children:[E.jsx("div",{id:"navigationBarWrapper",className:"w-full sticky top-0 flex justify-center p-4 z-10",children:E.jsx(hZ,{})}),E.jsx("div",{id:"MainViewContainer",className:"w-full relative flex justify-center items-center z-0",children:E.jsxs(pF,{children:[E.jsx(cr,{path:"/",element:E.jsx(qR,{})}),E.jsx(cr,{path:"/volume",element:E.jsx(qR,{})}),E.jsx(cr,{path:"/volume/subirArchivo",element:E.jsx(pZ,{})}),E.jsx(cr,{path:"/volume/visualizarstl",element:E.jsx(fee,{})}),E.jsx(cr,{path:"/volume/catalogo",element:E.jsx(gee,{})}),E.jsx(cr,{path:"/volume/userregistration",element:E.jsx(vee,{})}),E.jsx(cr,{path:"/volume/userlogin",element:E.jsx(hee,{})}),E.jsx(cr,{path:"/volume/profileconfig",element:E.jsx(DJ,{})}),E.jsx(cr,{path:"/volume/comment",element:E.jsx(UW,{})}),E.jsx(cr,{path:"/volume/profile",element:E.jsx(mP,{})}),E.jsx(cr,{path:"/volume/calcularpresupuesto",element:E.jsx(lZ,{})}),E.jsx(cr,{path:"/volume/tutorials",element:E.jsx(pee,{})}),E.jsx(cr,{path:"/volume/tutorials/:id",element:E.jsx(nZ,{})}),E.jsx(cr,{path:"/volume/authors/:username",element:E.jsx(mP,{})}),E.jsx(cr,{path:"/Front-Eco3DPrint/InfoModel",element:E.jsx(cZ,{})}),E.jsx(cr,{path:"/volume/AboutUs",element:E.jsx(uZ,{})})]})}),E.jsx("div",{id:"footerContainer",className:"w-full",children:E.jsx(dZ,{})})]})})}q_.createRoot(document.getElementById("root")).render(E.jsx(wt.StrictMode,{children:E.jsx(yee,{})}));
